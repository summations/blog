(dp1
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/cgo-go-lang-with-c.md
p2
(F1492853219.8157091
(V<p>Some weeks ago I had to customize the <a href="https://www.docker.com/">Docker</a> to integrate it with some libraries written and C.\u000aMaybe you already know Docker is written in Go language and to do this task was used <a href="https://golang.org/cmd/cgo/">cgo</a>\u000aCgo enables integrate Go code with C. It shows itself easier and smooth comparing with my past experiences with JNI</p>\u000a<h2>Hello World!</h2>\u000a<p>To start let's code the old but gold hello world program. In the first example the program will just print a string that is returned by a C function.\u000aAs you can see in the following snippet, cgo allows to put C code inside the Go source code. The only thing has to do is import the pseudo-package <code>C</code>.\u000aThe comments before this import is a C code that will be compiled as a header.</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="c1">//char* get_msg(){</span>\u000a<span class="c1">//      return &quot;Hello Go!&quot;;</span>\u000a<span class="c1">//}</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="kd">var</span> <span class="nx">msg</span> <span class="p">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">get_msg</span><span class="p">()</span>\u000a    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">GoString</span><span class="p">(</span><span class="nx">msg</span><span class="p">))</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h2>More funny program</h2>\u000a<p>To make the things more funny, the next program will write the command line arguments to a file. Take a look the code:</p>\u000a<div class="highlight"><pre><span></span><span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">FILE *file;</span>\u000a\u000a<span class="cm">int finish() {</span>\u000a<span class="cm">    fflush(file);</span>\u000a<span class="cm">    fclose(file);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int init(const char* file_name) {</span>\u000a<span class="cm">    if (file){</span>\u000a<span class="cm">        finish();</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    file = fopen(file_name, &quot;w+&quot;);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int write_file(const char* data, size_t len) {</span>\u000a<span class="cm">    if (!file){</span>\u000a<span class="cm">        printf(&quot;File is not open&quot;);</span>\u000a<span class="cm">        return 1;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    if (fwrite(data, sizeof(char), len, file)) {</span>\u000a<span class="cm">        return 0;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    printf(&quot;Error on writing...&quot;);</span>\u000a<span class="cm">    return 1;</span>\u000a\u000a<span class="cm">}</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;unsafe&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">cs</span> <span class="o">:=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="s">&quot;\u005cn&quot;</span><span class="p">)</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">cs</span><span class="p">,</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">free</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nx">Pointer</span><span class="p">(</span><span class="nx">cs</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>The program requires at least two arguments. The first one is the path for a file where the program will write the other arguments.\u000aThe code is quite simple. Go code uses three C functions to create, write and close a file. The C functions are:</p>\u000a<ul>\u000a<li><code>init(const char* file_name)</code>: function creates the file</li>\u000a<li><code>finish()</code>: function flushes the data and closes the file</li>\u000a<li><code>write_file(const char* data, size_t len)</code>: writes <code>len</code> chars from string <code>data</code> in the file</li>\u000a</ul>\u000a<p>In the beginning the Go code uses the <code>init</code> function to create the file. After that, the program walks through other arguments writing each of them\u000ain a file line. In the end, the program calls <code>finish</code> function to close the file. Nothing so special, but illustrate how you can use cgo.\u000aThe C code written inside Go source code is used as a header. You can see the static library within <code>$GOPATH/pkg/&lt;package name&gt;</code></p>\u000a<p>It is important to remember that Go memory manager does not knows C variables and its allocated memory blocks. Thus, the programmer must to remember to free the allocated C string. Like it is being\u000adoing in the lines <code>C.free(unsafe.Pointer(cs))</code>. Otherwise, you will have memory leak issues.</p>\u000a<p>Furthermore, when some Go source file contains the special import "C" the Go tool looks for .c, .cpp, .cc and others files types in the same source code file directory. Then it compiles them with the default C/C++ compiler.\u000aSo you might do this:</p>\u000a<p>writer.go:</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">extern int finish();</span>\u000a<span class="cm">extern int init(const char* file_name);</span>\u000a<span class="cm">extern int write_file(const char* data, size_t len);</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s">&quot;\u005cn&quot;</span><span class="p">),</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>writer.c:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">FILE</span> <span class="o">*</span><span class="n">file</span><span class="p">;</span>\u000a\u000a<span class="kt">int</span> <span class="nf">finish</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="n">fflush</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a    <span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">file_name</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">finish</span><span class="p">();</span>\u000a    <span class="p">}</span>\u000a    <span class="n">file</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">&quot;w+&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">write_file</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;File is not open&quot;</span><span class="p">);</span>\u000a        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">fwrite</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span> <span class="n">len</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span> <span class="p">{</span>\u000a        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Error on writing...&quot;</span><span class="p">);</span>\u000a    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h4>Note</h4>\u000a<p>This post is very, very, very simple. If you would like know more see the references below.</p>\u000a<h5>References</h5>\u000a<p><a href="https://golang.org/cmd/cgo/">cgo</a></p>\u000a<p><a href="http://blog.golang.org/c-go-cgo">C? Go? Cgo!</a></p>
(dp3
Vdate
p4
cpelican.utils
SafeDatetime
p5
(S'\x07\xdf\t\x16\x00\x00\x00\x00\x00\x00'
tRp6
sVtitle
p7
Vcgo: Go lang with C
p8
sVauthor
p9
ccopy_reg
_reconstructor
p10
(cpelican.urlwrappers
Author
p11
c__builtin__
object
p12
NtRp13
(dp14
S'_name'
p15
VJosé Guilherme Vanz
p16
sS'_slug'
p17
Vjose-guilherme-vanz
p18
sS'_slug_from_name'
p19
I01
sS'settings'
p20
(dp21
VCATEGORY_URL
p22
Vcategory/{slug}.html
p23
sVPAGE_ORDER_BY
p24
Vbasename
p25
sS'ARTICLE_TWEET_BUTTON'
p26
I00
sVWITH_FUTURE_DATES
p27
I01
sVCATEGORY_SAVE_AS
p28
Vcategory/{slug}.html
p29
sS'LINKS'
p30
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp31
sVARTICLE_ORDER_BY
p32
Vreversed-date
p33
sVDEFAULT_LANG
p34
Ven
p35
sVCACHE_CONTENT
p36
I01
sVPAGE_LANG_SAVE_AS
p37
Vpages/{slug}-{lang}.html
p38
sVDRAFT_SAVE_AS
p39
Vdrafts/{slug}.html
p40
sVPAGE_PATHS
p41
(lp42
Vpages
p43
asVDEFAULT_PAGINATION
p44
I8
sVDOCUTILS_SETTINGS
p45
(dp46
S'math_output'
p47
S'MathJax'
p48
ssVLOAD_CONTENT_CACHE
p49
I01
sVSTATIC_PATHS
p50
(lp51
Vimages
p52
aVextras
p53
aVfiles
p54
asVDAY_ARCHIVE_SAVE_AS
p55
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p56
sVARTICLE_LANG_URL
p57
V{slug}-{lang}.html
p58
sVSLUGIFY_SOURCE
p59
Vtitle
p60
sVSTATIC_URL
p61
V{path}
p62
sVCATEGORY_FEED_ATOM
p63
NsVOUTPUT_SOURCES
p64
I00
sVDIRECT_TEMPLATES
p65
(lp66
Vindex
p67
aVtags
p68
aVcategories
p69
aVauthors
p70
aVarchives
p71
asVSTATIC_EXCLUDES
p72
(lp73
sVTAG_URL
p74
Vtag/{slug}.html
p75
sVARTICLE_PATHS
p76
(lp77
Vposts
p78
asVLOG_FILTER
p79
(lp80
sVFILENAME_METADATA
p81
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p82
sVDISPLAY_PAGES_ON_MENU
p83
I00
sVPELICAN_CLASS
p84
Vpelican.Pelican
p85
sVCACHE_PATH
p86
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p87
sVINDEX_SAVE_AS
p88
Vindex.html
p89
sVINTRASITE_LINK_REGEX
p90
V[{|](?P<what>.*?)[|}]
p91
sVDEFAULT_ORPHANS
p92
I1
sS'COLOPHON_TITLE'
p93
VAbout
p94
sS'ARCHIVES_SAVE_AS'
p95
Vblog/index.html
p96
sS'RESPONSIVE_IMAGES'
p97
I01
sS'AUTHOR'
p98
VRahul Pathak
p99
sS'MARKUP'
p100
(Vrst
Vhtml
tp101
sVDISPLAY_CATEGORIES_ON_MENU
p102
I01
sVCHECK_MODIFIED_METHOD
p103
Vmtime
p104
sVARTICLE_EXCLUDES
p105
(lp106
g43
asVTHEME_STATIC_PATHS
p107
(lp108
Vstatic
p109
asVTRANSLATION_FEED_ATOM
p110
NsVPLUGINS
p111
(lp112
Vassets
p113
aVrelated_posts
p114
aVextract_toc
p115
aVpost_stats
p116
aVseries
p117
aVrender_math
p118
aVsitemap
p119
asVTYPOGRIFY
p120
I01
sVFEED_ALL_ATOM
p121
NsS'TRANSLATION_FEED_RSS'
p122
NsVEXTRA_TEMPLATES_PATHS
p123
(lp124
sVMARKDOWN
p125
(dp126
Vextension_configs
p127
(dp128
Vmarkdown.extensions.extra
p129
(dp130
sVmarkdown.extensions.codehilite
p131
(dp132
Vcss_class
p133
Vhighlight
p134
ssVmarkdown.extensions.meta
p135
(dp136
ssS'extensions'
p137
(lp138
g10
(crender_math.pelican_mathjax_markdown_extension
PelicanMathJaxExtension
p139
g12
NtRp140
(dp141
S'mathjax_needed'
p142
I00
sbag129
ag131
ag135
asVoutput_format
p143
Vhtml5
p144
ssVOUTPUT_RETENTION
p145
(lp146
sS'COLOPHON'
p147
I01
sS'PROFILE_IMAGE'
p148
Vsigma-black.svg
p149
sVPAGE_LANG_URL
p150
Vpages/{slug}-{lang}.html
p151
sVTHEME_STATIC_DIR
p152
Vtheme
p153
sVTHEME
p154
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p155
sVUSE_FOLDER_AS_CATEGORY
p156
I01
sVJINJA_ENVIRONMENT
p157
(dp158
Vextensions
p159
(lp160
cwebassets.ext.jinja2
AssetsExtension
p161
asVtrim_blocks
p162
I01
sVlstrip_blocks
p163
I01
ssVDEBUG
p164
I01
sVREVERSE_CATEGORY_ORDER
p165
I00
sVRELATIVE_URLS
p166
I00
sVDATE_FORMATS
p167
(dp168
sVSITEURL
p169
Vhttp://localhost:8000
p170
sVCONTENT_CACHING_LAYER
p171
Vreader
p172
sS'SOCIAL'
p173
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp174
sVNEWEST_FIRST_ARCHIVES
p175
I01
sS'SITE_TITLE'
p176
VRahul Pathak Blog
p177
sS'COPYRIGHT_UNTIL'
p178
I2017
sVPATH_METADATA
p179
V
sVTEMPLATE_PAGES
p180
(dp181
sVFEED_DOMAIN
p182
g170
sVTYPOGRIFY_IGNORE_TAGS
p183
(lp184
S'.math'
p185
aS'script'
p186
asVGZIP_CACHE
p187
I00
sS'SITE_DESCRIPTION'
p188
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p189
sVAUTHOR_FEED_RSS
p190
Vfeeds/%s.rss.xml
p191
sS'TIMEZONE'
p192
VAmerica/Vancouver
p193
sVDRAFT_URL
p194
Vdrafts/{slug}.html
p195
sVPAGE_EXCLUDES
p196
(lp197
g78
asVAUTHOR_SAVE_AS
p198
I00
sVREADERS
p199
(dp200
sVDRAFT_LANG_URL
p201
Vdrafts/{slug}-{lang}.html
p202
sVOUTPUT_SOURCES_EXTENSION
p203
V.text
p204
sVPAGINATION_PATTERNS
p205
(lp206
g10
(cpelican.paginator
PaginationRule
p207
c__builtin__
tuple
p208
(I0
V{name}{number}{extension}
p209
V{name}{number}{extension}
p210
ttRp211
asVSTATIC_EXCLUDE_SOURCES
p212
I01
sVJINJA_FILTERS
p213
(dp214
Vmonth_name
p215
cpelicanconf
month_name
p216
sVtagsort
p217
cpelicanconf
tagsort
p218
sVsidebar_date_format
p219
cpelicanconf
sidebar_date_format
p220
sVarchive_date_format
p221
cpelicanconf
archive_date_format
p222
sVdump
p223
cpelicanconf
dump
p224
ssVARTICLE_SAVE_AS
p225
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p226
sVYEAR_ARCHIVE_SAVE_AS
p227
Vblog/{date:%Y}/index.html
p228
sVCSS_FILE
p229
Vmain.css
p230
sVAUTHOR_URL
p231
Vauthor/{slug}.html
p232
sVIGNORE_FILES
p233
(lp234
V.#*
p235
asS'SITEMAP'
p236
(dp237
Vchangefreqs
p238
(dp239
Varticles
p240
Vweekly
p241
sg43
Vmonthly
p242
sVindexes
p243
Vdaily
p244
ssVpriorities
p245
(dp246
g240
F0.80000000000000004
sg43
F0.5
sg243
F0.69999999999999996
ssVformat
p247
Vxml
p248
ssVSUMMARY_MAX_LENGTH
p249
I60
sVSLUG_SUBSTITUTIONS
p250
(tsS'RELATED_POSTS_MAX'
p251
I4
sVFORMATTED_FIELDS
p252
(lp253
Vsummary
p254
asVDEFAULT_DATE_FORMAT
p255
V%a %d %B %Y
p256
sS'CATEGORY_FEED_RSS'
p257
NsS'DEFAULT_PAGESCHEMA'
p258
VBlogPost
p259
sVDRAFT_LANG_SAVE_AS
p260
Vdrafts/{slug}-{lang}.html
p261
sS'FEED_ALL_RSS'
p262
NsVEXTRA_PATH_METADATA
p263
(dp264
Vextras/.htaccess
p265
(dp266
Vpath
p267
V.htaccess
p268
ssVextras/google9b8f9c7f2338fb3e.html
p269
(dp270
g267
Vgoogle9b8f9c7f2338fb3e.html
p271
ssVextras/favicon.ico
p272
(dp273
g267
Vfavicon.ico
p274
ssVextras/robots.txt
p275
(dp276
g267
Vrobots.txt
p277
sssVLOCALE
p278
(lp279
V
asVWRITE_SELECTED
p280
(lp281
sVDELETE_OUTPUT_DIRECTORY
p282
I00
sVFEED_MAX_ITEMS
p283
V
sVPATH
p284
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p285
sVPAGE_URL
p286
Vpages/{slug}.html
p287
sVSITENAME
p288
VSummations
p289
sVARTICLE_PERMALINK_STRUCTURE
p290
V
sS'COLOPHON_CONTENT'
p291
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p292
sVARTICLE_URL
p293
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p294
sS'SITESCHEME'
p295
Vhttps
p296
sVMONTH_ARCHIVE_SAVE_AS
p297
Vblog/{date:%Y}/{date:%m}/index.html
p298
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p299
I00
sVDEFAULT_METADATA
p300
(dp301
sVRSS_FEED_SUMMARY_ONLY
p302
I01
sVDEFAULT_CATEGORY
p303
Vmisc
p304
sVPLUGIN_PATHS
p305
(lp306
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p307
asVPAGINATED_DIRECT_TEMPLATES
p308
(lp309
g67
asVSTATIC_SAVE_AS
p310
g62
sVTAG_SAVE_AS
p311
Vtag/{slug}.html
p312
sVPYGMENTS_RST_OPTIONS
p313
(dp314
sVAUTHOR_FEED_ATOM
p315
Vfeeds/%s.atom.xml
p316
sVARTICLE_LANG_SAVE_AS
p317
g58
sVPAGE_SAVE_AS
p318
Vpages/{slug}.html
p319
sS'OPEN_GRAPH_METADATA'
p320
I01
sVOUTPUT_PATH
p321
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p322
sVDEFAULT_STATUS
p323
Vpublished
p324
sS'DISQUS_SITENAME'
p325
Vrahulpathakml
p326
sS'COPYRIGHT_FROM'
p327
I1998
ssbsVtags
p328
(lp329
g10
(cpelican.urlwrappers
Tag
p330
g12
NtRp331
(dp332
g15
Vgolang
p333
sg17
Vgolang
p334
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp335
(dp336
g15
Vcgo
p337
sg17
Vcgo
p338
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp339
(dp340
g15
Vc
sg17
Vc
sg19
I01
sg20
g21
sbasttp341
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/hacking-vim-with-python.md
p342
(F1492853219.8197095
(V<p>I'm happy vim user for a while now. After learned the basics I started customize\u000athe editor to my needs/preferences and for a long time everything were well. I\u000adid not face anything that I could not do and this is still true. However, when\u000aI became a more advanced user and decide to create more complex functions to help\u000ame while I work in my source code files, something discouraged me go ahead: the\u000avim language (VimL). Don't judge me, I could study it but I do not have time and\u000adesire to do that. So, for some time I do not create more interesting stuff because\u000aof that. But a short time ago I discovered that I could write python script to\u000ainteract with vim, like buffer, windows, tabs and so on! That's great!</p>\u000a<p>This article is about how create a very simple script to read data from buffer and\u000aupdate them. :-)</p>\u000a<p>Before you start write python script to do the magic in your vim buffer it is\u000anecessary take a look if you vim allow you use python. For that you can run the\u000a<code>vim --version</code> and see if your vim has python support. The output should show\u000asomething like <code>+python</code></p>\u000a<h3>Scripting</h3>\u000a<p>There are some way you can execute a python code in vim. You can use the commands:\u000a<code>:py[thon]</code>, <code>:pydo</code>, <code>:pyfile</code>. In this article I'll do a short description of\u000athem, but I'll use just <code>:pyfile</code> in the example.</p>\u000a<p>When you decide write the python script you can write it in a separated file\u000aor embedded it in your vimrc. If you do not want write file for you script you\u000acan use the <code>:[range]python</code> or</p>\u000a<div class="highlight"><pre><span></span>:[range]py[thon] &lt;&lt; {endmarker}\u000a{script}\u000a{endmarker}\u000a</pre></div>\u000a\u000a\u000a<p>The first option is useful if you want to execute a single python statement.\u000aFor example: <code>:python print "Python rocks!"</code>. The second way is more interesting,\u000ait is allows embedded the python code inside vim script. Take a look:</p>\u000a<div class="highlight"><pre><span></span>function! IcecreamInitialize()\u000apython3 &lt;&lt; EOF\u000aclass StrawberryIcecream:\u000a    def __call__(self):\u000a        print(&#39;EAT ME&#39;)\u000aice = StrawberryIcecream()\u000aice()\u000aEOF\u000aendfunction\u000a</pre></div>\u000a\u000a\u000a<p>Another option is the <code>[range]pydo {body}</code> command. It is a good option if the\u000ascript should be executed in each line of the range. In this command the <code>{body}</code>\u000ais executed as <code>def _vim_pydo(line, linenr) {body}</code>. Thus, the body script can\u000aget the line text and number from arguments. The function should return a string\u000aor None. If a string is returned the line is updated to that value. A possible\u000aexample is <code>:pydo return "%s\u005ct%d" % (line[::-1], len(line))</code></p>\u000a<p>Last but not least is the <code>:[range]pyf[ile] {file}</code> command. It allows load a\u000aseparated python file and call its function with <code>:py</code> command. This is the\u000acommand used to load the python script in the following example.</p>\u000a<h3>Vim module</h3>\u000a<p>To make possible the integration between python and vim there is a python module.\u000aThis module gives you the ability to interact with buffers, windows, tabs,\u000aexecute vim commands and so on. This module has a bunch of methods, constants\u000aand objects that might used for the scripts. This article will use just a few\u000aof the features available in the module. They are: <code>vim.command(str)</code>;\u000a<code>vim.current</code>; and <code>Buffer.mark()</code>.</p>\u000a<p>You can see a better documentation of the module typing <code>:help python</code> in you\u000avim editor.</p>\u000a<h3>Let's hack!</h3>\u000a<p>Let's dive deeper in the example. In this example the author of the script is\u000aa guy that has the boring job to write the current weather of bunch of cities\u000asitting in some file. Wisely he/she decided automate that process. (Yes, it is not\u000athe ideal real life use case but I am not a creative person, sorry... xD). So, after\u000asome time reading the documentation a python script was born:</p>\u000a<p>[gist:id=b02e61147a7f05a2a308b3d5b1d0d382,file=weather.py]</p>\u000a<p>It has the following features:</p>\u000a<ul>\u000a<li>function that will iterate over all rows of the current buffer\u000aand append the current weather for the city (the row's content is used as city's\u000aname)</li>\u000a<li>function that will use the selected text as city's and append the weather in\u000athe row of the selection</li>\u000a</ul>\u000a<p>Okay, let's take a closer look... The method <code>get_weather()</code> allow the user gets\u000athe weather for city names sitting on each line of the current buffer. It's nice\u000ato highlight the <code>vim.current</code> object. This object provides access to\u000avarious objects in vim. That is:</p>\u000a<ul>\u000a<li><code>vim.current.line</code>: current line (string)</li>\u000a<li><code>vim.current.buffer</code>: current buffer (Buffer object)</li>\u000a<li><code>vim.current.window</code>: current window (Window object)</li>\u000a<li><code>vim.current.tabpage</code>: current tab page (TabPage object)</li>\u000a<li><code>vim.current.range</code>: current line range (Range object)</li>\u000a</ul>\u000a<p>That been said, the line <code>buff = vim.current.buffer</code> is getting the current buffer\u000ato iterate and update it. After that, the script iterate over all buffer's rows\u000acalls the Open Weather API to get the weather using the row's content as city's\u000aname and update the row with the current value appended with the weather.</p>\u000a<p>The <code>get_weather_selection()</code> is the method that uses the selected text as city\u000ato call the weather API. In this method, again, a reference to the current\u000abuffer is gotten and used the <code>buf.mark()</code> method of the <code>Buffer</code> object to get\u000athe line and column of the start and end of the selection. In vim the marks "&lt;"\u000aand "&gt;" is used to define the beginning and end of the selected text respectively.</p>\u000a<p>Once we have the marks values the script calls a helper function who extract the\u000aselected text from the buffer and returns it. After that, the weather API is called\u000aand the weather is appended after the selection</p>\u000a<p>The <code>get_text(start, end)</code> and <code>get_openweather(city)</code> methods are helper methods.\u000aFirst one is able to extract text from the buffer using tuples of (line, column)\u000apassed as arguments to delimitate the text should be returned. The second one\u000ais just a call to the Open Weather API using the python request module.</p>\u000a<p>Once the script is done it can be loaded with the <code>pyf {file}</code> command.\u000aAs the script in discussion is a python3 code, it has to be load using the\u000aequivalent command to python3, that is: <code>py3file $HOME/.vim/weather.py</code>. After\u000aadded this line in the vimrc, it is ready to go and the methods can be called\u000awith:</p>\u000a<p><code>py3 get_weather()</code> or <code>:'&lt;,'&gt;py3 get_weather_selection()</code>.</p>\u000a<p>NOTE: be aware that there are equivalent commands, <code>py3</code>, <code>py3do</code> and <code>py3f</code> to\u000arun/load python3 code. See more in the python3 section in the vim documentation</p>\u000a<h4>Buffer</h4>\u000a<p>The most important object in the example is Buffer. Buffer objects can be treat\u000aas sequence object. Thus, they act like lists and are mutable and to update\u000aa row it is necessary just assign the new value,\u000a<code>vim.current.buffer[1] = "new value for the line 2"</code>. Remember, lists\u000aindexing start with 0 and the lines in a vim buffer with 1. In the script is\u000apossible see the lines being updated at lines 14 and 26.</p>\u000a<p>It is also possible delete lines, <code>:py del vim.current.buffer[1]</code> (delete the second\u000arow). Append new lines, <code>:py vim.current.buffer.append("bottom")</code>. Assign variables,\u000a<code>:py vim.current.buffer.vars["foo"] = "bar"</code>, and so on. You can see a complete\u000adescription with all methods and attribute with <code>:help python</code></p>\u000a<h3>Your turn</h3>\u000a<p>This is a very, very simple example of how you can start script vim with python.\u000aI encourage you to read the vim documentation, play with it and create crazy\u000astuff! =)</p>\u000a<p>If you need more info take a look in the references, send me an e-mail or leave\u000aa comment. Thanks you!</p>\u000a<h4>References</h4>\u000a<p><code>:help python</code> in your vim editor</p>\u000a<p><a href="https://github.com/jvanz/dotfiles/blob/master/.vim/weather.py">weather.py</a></p>\u000a<p><a href="http://old.orestis.gr/blog/2008/08/10/scripting-vim-with-python/">Scripting Vim with Python</a></p>
(dp343
Vdate
p344
g5
(S'\x07\xe1\x01\n\x167\x00\x00\x00\x00'
tRp345
sVtitle
p346
VHacking your vim with python
p347
sVtags
p348
(lp349
g10
(g330
g12
NtRp350
(dp351
g15
Vvim
p352
sg17
Vvim
p353
sg19
I01
sg20
(dp354
VCATEGORY_URL
p355
Vcategory/{slug}.html
p356
sVPAGE_ORDER_BY
p357
Vbasename
p358
sS'ARTICLE_TWEET_BUTTON'
p359
I00
sVWITH_FUTURE_DATES
p360
I01
sVCATEGORY_SAVE_AS
p361
Vcategory/{slug}.html
p362
sS'LINKS'
p363
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp364
sVARTICLE_ORDER_BY
p365
Vreversed-date
p366
sVDEFAULT_LANG
p367
Ven
p368
sVCACHE_CONTENT
p369
I01
sVPAGE_LANG_SAVE_AS
p370
Vpages/{slug}-{lang}.html
p371
sVDRAFT_SAVE_AS
p372
Vdrafts/{slug}.html
p373
sVPAGE_PATHS
p374
(lp375
Vpages
p376
asVDEFAULT_PAGINATION
p377
I8
sVDOCUTILS_SETTINGS
p378
(dp379
S'math_output'
p380
S'MathJax'
p381
ssVLOAD_CONTENT_CACHE
p382
I01
sVSTATIC_PATHS
p383
(lp384
Vimages
p385
aVextras
p386
aVfiles
p387
asVDAY_ARCHIVE_SAVE_AS
p388
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p389
sVARTICLE_LANG_URL
p390
V{slug}-{lang}.html
p391
sVSLUGIFY_SOURCE
p392
Vtitle
p393
sVSTATIC_URL
p394
V{path}
p395
sVCATEGORY_FEED_ATOM
p396
NsVOUTPUT_SOURCES
p397
I00
sVDIRECT_TEMPLATES
p398
(lp399
Vindex
p400
aVtags
p401
aVcategories
p402
aVauthors
p403
aVarchives
p404
asVSTATIC_EXCLUDES
p405
(lp406
sVTAG_URL
p407
Vtag/{slug}.html
p408
sVARTICLE_PATHS
p409
(lp410
Vposts
p411
asVLOG_FILTER
p412
(lp413
sVFILENAME_METADATA
p414
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p415
sVDISPLAY_PAGES_ON_MENU
p416
I00
sVPELICAN_CLASS
p417
Vpelican.Pelican
p418
sVCACHE_PATH
p419
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p420
sVINDEX_SAVE_AS
p421
Vindex.html
p422
sVINTRASITE_LINK_REGEX
p423
V[{|](?P<what>.*?)[|}]
p424
sVDEFAULT_ORPHANS
p425
I1
sS'COLOPHON_TITLE'
p426
VAbout
p427
sS'ARCHIVES_SAVE_AS'
p428
Vblog/index.html
p429
sS'RESPONSIVE_IMAGES'
p430
I01
sS'AUTHOR'
p431
VRahul Pathak
p432
sS'MARKUP'
p433
(Vrst
Vhtml
tp434
sVDISPLAY_CATEGORIES_ON_MENU
p435
I01
sVCHECK_MODIFIED_METHOD
p436
Vmtime
p437
sVARTICLE_EXCLUDES
p438
(lp439
g376
asVTHEME_STATIC_PATHS
p440
(lp441
Vstatic
p442
asVTRANSLATION_FEED_ATOM
p443
NsVPLUGINS
p444
(lp445
Vassets
p446
aVrelated_posts
p447
aVextract_toc
p448
aVpost_stats
p449
aVseries
p450
aVrender_math
p451
aVsitemap
p452
asVTYPOGRIFY
p453
I01
sVFEED_ALL_ATOM
p454
NsS'TRANSLATION_FEED_RSS'
p455
NsVEXTRA_TEMPLATES_PATHS
p456
(lp457
sVMARKDOWN
p458
(dp459
Vextension_configs
p460
(dp461
Vmarkdown.extensions.extra
p462
(dp463
sVmarkdown.extensions.codehilite
p464
(dp465
Vcss_class
p466
Vhighlight
p467
ssVmarkdown.extensions.meta
p468
(dp469
ssS'extensions'
p470
(lp471
g10
(g139
g12
NtRp472
(dp473
g142
I00
sbag462
ag464
ag468
asVoutput_format
p474
Vhtml5
p475
ssVOUTPUT_RETENTION
p476
(lp477
sS'COLOPHON'
p478
I01
sS'PROFILE_IMAGE'
p479
Vsigma-black.svg
p480
sVPAGE_LANG_URL
p481
Vpages/{slug}-{lang}.html
p482
sVTHEME_STATIC_DIR
p483
Vtheme
p484
sVTHEME
p485
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p486
sVUSE_FOLDER_AS_CATEGORY
p487
I01
sVJINJA_ENVIRONMENT
p488
(dp489
Vextensions
p490
(lp491
g161
asVtrim_blocks
p492
I01
sVlstrip_blocks
p493
I01
ssVDEBUG
p494
I01
sVREVERSE_CATEGORY_ORDER
p495
I00
sVRELATIVE_URLS
p496
I00
sVDATE_FORMATS
p497
(dp498
sVSITEURL
p499
Vhttp://localhost:8000
p500
sVCONTENT_CACHING_LAYER
p501
Vreader
p502
sS'SOCIAL'
p503
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp504
sVNEWEST_FIRST_ARCHIVES
p505
I01
sS'SITE_TITLE'
p506
VRahul Pathak Blog
p507
sS'COPYRIGHT_UNTIL'
p508
I2017
sVPATH_METADATA
p509
V
sVTEMPLATE_PAGES
p510
(dp511
sVFEED_DOMAIN
p512
g500
sVTYPOGRIFY_IGNORE_TAGS
p513
(lp514
S'.math'
p515
aS'script'
p516
asVGZIP_CACHE
p517
I00
sS'SITE_DESCRIPTION'
p518
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p519
sVAUTHOR_FEED_RSS
p520
Vfeeds/%s.rss.xml
p521
sS'TIMEZONE'
p522
VAmerica/Vancouver
p523
sVDRAFT_URL
p524
Vdrafts/{slug}.html
p525
sVPAGE_EXCLUDES
p526
(lp527
g411
asVAUTHOR_SAVE_AS
p528
I00
sVREADERS
p529
(dp530
sVDRAFT_LANG_URL
p531
Vdrafts/{slug}-{lang}.html
p532
sVOUTPUT_SOURCES_EXTENSION
p533
V.text
p534
sVPAGINATION_PATTERNS
p535
(lp536
g10
(g207
g208
(I0
V{name}{number}{extension}
p537
V{name}{number}{extension}
p538
ttRp539
asVSTATIC_EXCLUDE_SOURCES
p540
I01
sVJINJA_FILTERS
p541
(dp542
Vmonth_name
p543
g216
sVtagsort
p544
g218
sVsidebar_date_format
p545
g220
sVarchive_date_format
p546
g222
sVdump
p547
g224
ssVARTICLE_SAVE_AS
p548
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p549
sVYEAR_ARCHIVE_SAVE_AS
p550
Vblog/{date:%Y}/index.html
p551
sVCSS_FILE
p552
Vmain.css
p553
sVAUTHOR_URL
p554
Vauthor/{slug}.html
p555
sVIGNORE_FILES
p556
(lp557
V.#*
p558
asS'SITEMAP'
p559
(dp560
Vchangefreqs
p561
(dp562
Varticles
p563
Vweekly
p564
sg376
Vmonthly
p565
sVindexes
p566
Vdaily
p567
ssVpriorities
p568
(dp569
g563
F0.80000000000000004
sg376
F0.5
sg566
F0.69999999999999996
ssVformat
p570
Vxml
p571
ssVSUMMARY_MAX_LENGTH
p572
I60
sVSLUG_SUBSTITUTIONS
p573
(tsS'RELATED_POSTS_MAX'
p574
I4
sVFORMATTED_FIELDS
p575
(lp576
Vsummary
p577
asVDEFAULT_DATE_FORMAT
p578
V%a %d %B %Y
p579
sS'CATEGORY_FEED_RSS'
p580
NsS'DEFAULT_PAGESCHEMA'
p581
VBlogPost
p582
sVDRAFT_LANG_SAVE_AS
p583
Vdrafts/{slug}-{lang}.html
p584
sS'FEED_ALL_RSS'
p585
NsVEXTRA_PATH_METADATA
p586
(dp587
Vextras/.htaccess
p588
(dp589
Vpath
p590
V.htaccess
p591
ssVextras/google9b8f9c7f2338fb3e.html
p592
(dp593
g590
Vgoogle9b8f9c7f2338fb3e.html
p594
ssVextras/favicon.ico
p595
(dp596
g590
Vfavicon.ico
p597
ssVextras/robots.txt
p598
(dp599
g590
Vrobots.txt
p600
sssVLOCALE
p601
(lp602
V
asVWRITE_SELECTED
p603
(lp604
sVDELETE_OUTPUT_DIRECTORY
p605
I00
sVFEED_MAX_ITEMS
p606
V
sVPATH
p607
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p608
sVPAGE_URL
p609
Vpages/{slug}.html
p610
sVSITENAME
p611
VSummations
p612
sVARTICLE_PERMALINK_STRUCTURE
p613
V
sS'COLOPHON_CONTENT'
p614
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p615
sVARTICLE_URL
p616
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p617
sS'SITESCHEME'
p618
Vhttps
p619
sVMONTH_ARCHIVE_SAVE_AS
p620
Vblog/{date:%Y}/{date:%m}/index.html
p621
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p622
I00
sVDEFAULT_METADATA
p623
(dp624
sVRSS_FEED_SUMMARY_ONLY
p625
I01
sVDEFAULT_CATEGORY
p626
Vmisc
p627
sVPLUGIN_PATHS
p628
(lp629
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p630
asVPAGINATED_DIRECT_TEMPLATES
p631
(lp632
g400
asVSTATIC_SAVE_AS
p633
g395
sVTAG_SAVE_AS
p634
Vtag/{slug}.html
p635
sVPYGMENTS_RST_OPTIONS
p636
(dp637
sVAUTHOR_FEED_ATOM
p638
Vfeeds/%s.atom.xml
p639
sVARTICLE_LANG_SAVE_AS
p640
g391
sVPAGE_SAVE_AS
p641
Vpages/{slug}.html
p642
sS'OPEN_GRAPH_METADATA'
p643
I01
sVOUTPUT_PATH
p644
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p645
sVDEFAULT_STATUS
p646
Vpublished
p647
sS'DISQUS_SITENAME'
p648
Vrahulpathakml
p649
sS'COPYRIGHT_FROM'
p650
I1998
ssbag10
(g330
g12
NtRp651
(dp652
g15
Vpython
p653
sg17
Vpython
p654
sg19
I01
sg20
g354
sbasVauthor
p655
g10
(g11
g12
NtRp656
(dp657
g15
VJosé Guilherme Vanz
p658
sg17
Vjose-guilherme-vanz
p659
sg19
I01
sg20
g354
sbsttp660
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/Logistic Regression.md
p661
(F1492853219.8197095
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp662
Vdate
p663
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp664
sVcategory
p665
g10
(cpelican.urlwrappers
Category
p666
g12
NtRp667
(dp668
g15
Vtech
p669
sg17
Vtech
p670
sg19
I01
sg20
g354
sbsVtitle
p671
VLogistic Regression
p672
sVtags
p673
(lp674
g10
(g330
g12
NtRp675
(dp676
g15
Vmachinelearning
p677
sg17
Vmachinelearning
p678
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp679
(dp680
g15
Vclassification
p681
sg17
Vclassification
p682
sg19
I01
sg20
g354
sbasttp683
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/tech/multivariate-linearregression.md
p684
(F1492626679.5057995
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp;= \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 &x^{(2)}_0 &x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 &x^{(2)}_1 &x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p><br/></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; &\u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; &\u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; &\u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a&\u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; &\u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; &\u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i &:=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    &s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    &\u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp685
Vdate
p686
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp687
sVcategory
p688
g10
(g666
g12
NtRp689
(dp690
g15
Vtech
p691
sg17
Vtech
p692
sg19
I01
sg20
(dp693
VIGNORE_FILES
p694
(lp695
V.#*
p696
asVPAGE_ORDER_BY
p697
Vbasename
p698
sS'ARTICLE_TWEET_BUTTON'
p699
I00
sVWITH_FUTURE_DATES
p700
I01
sVCATEGORY_SAVE_AS
p701
Vcategory/{slug}.html
p702
sS'LINKS'
p703
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp704
sVARTICLE_ORDER_BY
p705
Vreversed-date
p706
sVDEFAULT_LANG
p707
Ven
p708
sVCACHE_CONTENT
p709
I01
sVPAGE_LANG_SAVE_AS
p710
Vpages/{slug}-{lang}.html
p711
sVDRAFT_SAVE_AS
p712
Vdrafts/{slug}.html
p713
sVPAGE_PATHS
p714
(lp715
Vpages
p716
asVDEFAULT_PAGINATION
p717
I8
sVDOCUTILS_SETTINGS
p718
(dp719
S'math_output'
p720
S'MathJax'
p721
ssVLOAD_CONTENT_CACHE
p722
I01
sVSTATIC_PATHS
p723
(lp724
Vimages
p725
aVextras
p726
aVfiles
p727
asVDAY_ARCHIVE_SAVE_AS
p728
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p729
sVARTICLE_LANG_URL
p730
V{slug}-{lang}.html
p731
sVSLUGIFY_SOURCE
p732
Vtitle
p733
sVSTATIC_URL
p734
V{path}
p735
sVCATEGORY_FEED_ATOM
p736
NsVOUTPUT_SOURCES
p737
I00
sVPAGINATED_DIRECT_TEMPLATES
p738
(lp739
Vindex
p740
asVTYPOGRIFY_IGNORE_TAGS
p741
(lp742
S'.math'
p743
aS'script'
p744
asVSTATIC_EXCLUDES
p745
(lp746
sVTAG_URL
p747
Vtag/{slug}.html
p748
sVARTICLE_PATHS
p749
(lp750
Vposts
p751
asVGZIP_CACHE
p752
I00
sVFILENAME_METADATA
p753
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p754
sVDEFAULT_ORPHANS
p755
I1
sVPELICAN_CLASS
p756
Vpelican.Pelican
p757
sVCACHE_PATH
p758
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p759
sVINDEX_SAVE_AS
p760
Vindex.html
p761
sVINTRASITE_LINK_REGEX
p762
V[{|](?P<what>.*?)[|}]
p763
sVDISPLAY_PAGES_ON_MENU
p764
I00
sS'COLOPHON_TITLE'
p765
VAbout
p766
sS'ARCHIVES_SAVE_AS'
p767
Vblog/index.html
p768
sS'RESPONSIVE_IMAGES'
p769
I01
sS'AUTHOR'
p770
VRahul Pathak
p771
sS'MARKUP'
p772
(Vrst
Vhtml
tp773
sVDISPLAY_CATEGORIES_ON_MENU
p774
I01
sVCHECK_MODIFIED_METHOD
p775
Vmtime
p776
sVARTICLE_EXCLUDES
p777
(lp778
g716
asVDEFAULT_DATE_FORMAT
p779
V%a %d %B %Y
p780
sVTRANSLATION_FEED_ATOM
p781
NsVPLUGINS
p782
(lp783
Vassets
p784
aVrelated_posts
p785
aVextract_toc
p786
aVpost_stats
p787
aVseries
p788
aVrender_math
p789
aVsitemap
p790
asVTYPOGRIFY
p791
I01
sS'TRANSLATION_FEED_RSS'
p792
NsVEXTRA_TEMPLATES_PATHS
p793
(lp794
sVMARKDOWN
p795
(dp796
Vextension_configs
p797
(dp798
Vmarkdown.extensions.extra
p799
(dp800
sVmarkdown.extensions.codehilite
p801
(dp802
Vcss_class
p803
Vhighlight
p804
ssVmarkdown.extensions.meta
p805
(dp806
ssS'extensions'
p807
(lp808
g10
(g139
g12
NtRp809
(dp810
g142
I00
sbag799
ag801
ag805
asVoutput_format
p811
Vhtml5
p812
ssVOUTPUT_RETENTION
p813
(lp814
sS'COLOPHON'
p815
I01
sS'PROFILE_IMAGE'
p816
Vsigma-black.svg
p817
sVPAGE_LANG_URL
p818
Vpages/{slug}-{lang}.html
p819
sS'DEFAULT_PAGESCHEMA'
p820
VBlogPost
p821
sVTHEME
p822
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p823
sVUSE_FOLDER_AS_CATEGORY
p824
I01
sVJINJA_ENVIRONMENT
p825
(dp826
Vextensions
p827
(lp828
g161
asVlstrip_blocks
p829
I01
sVtrim_blocks
p830
I01
ssVDEBUG
p831
I01
sVREVERSE_CATEGORY_ORDER
p832
I00
sVRELATIVE_URLS
p833
I00
sVDATE_FORMATS
p834
(dp835
sVSITEURL
p836
Vhttp://localhost:8000
p837
sVCONTENT_CACHING_LAYER
p838
Vreader
p839
sS'SOCIAL'
p840
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp841
sVNEWEST_FIRST_ARCHIVES
p842
I01
sS'SITE_TITLE'
p843
VRahul Pathak Blog
p844
sS'COPYRIGHT_UNTIL'
p845
I2017
sVPATH_METADATA
p846
V
sVTEMPLATE_PAGES
p847
(dp848
sVFEED_DOMAIN
p849
g837
sVDIRECT_TEMPLATES
p850
(lp851
g740
aVtags
p852
aVcategories
p853
aVauthors
p854
aVarchives
p855
asVLOG_FILTER
p856
(lp857
sS'SITE_DESCRIPTION'
p858
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p859
sVAUTHOR_FEED_RSS
p860
Vfeeds/%s.rss.xml
p861
sS'TIMEZONE'
p862
VAmerica/Vancouver
p863
sVDRAFT_URL
p864
Vdrafts/{slug}.html
p865
sVPAGE_EXCLUDES
p866
(lp867
g751
asVTAG_SAVE_AS
p868
Vtag/{slug}.html
p869
sVEXTRA_PATH_METADATA
p870
(dp871
Vextras/.htaccess
p872
(dp873
Vpath
p874
V.htaccess
p875
ssVextras/google9b8f9c7f2338fb3e.html
p876
(dp877
g874
Vgoogle9b8f9c7f2338fb3e.html
p878
ssVextras/favicon.ico
p879
(dp880
g874
Vfavicon.ico
p881
ssVextras/robots.txt
p882
(dp883
g874
Vrobots.txt
p884
sssVDEFAULT_CATEGORY
p885
Vmisc
p886
sVDRAFT_LANG_URL
p887
Vdrafts/{slug}-{lang}.html
p888
sVOUTPUT_SOURCES_EXTENSION
p889
V.text
p890
sVPAGINATION_PATTERNS
p891
(lp892
g10
(g207
g208
(I0
V{name}{number}{extension}
p893
V{name}{number}{extension}
p894
ttRp895
asVSTATIC_EXCLUDE_SOURCES
p896
I01
sVJINJA_FILTERS
p897
(dp898
Vmonth_name
p899
g216
sVtagsort
p900
g218
sVsidebar_date_format
p901
g220
sVarchive_date_format
p902
g222
sVdump
p903
g224
ssVARTICLE_SAVE_AS
p904
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p905
sVYEAR_ARCHIVE_SAVE_AS
p906
Vblog/{date:%Y}/index.html
p907
sVCSS_FILE
p908
Vmain.css
p909
sVAUTHOR_URL
p910
Vauthor/{slug}.html
p911
sVCATEGORY_URL
p912
Vcategory/{slug}.html
p913
sS'SITEMAP'
p914
(dp915
Vchangefreqs
p916
(dp917
Varticles
p918
Vweekly
p919
sg716
Vmonthly
p920
sVindexes
p921
Vdaily
p922
ssVpriorities
p923
(dp924
g918
F0.80000000000000004
sg716
F0.5
sg921
F0.69999999999999996
ssVformat
p925
Vxml
p926
ssVSUMMARY_MAX_LENGTH
p927
I60
sVSLUG_SUBSTITUTIONS
p928
(tsS'RELATED_POSTS_MAX'
p929
I4
sVFORMATTED_FIELDS
p930
(lp931
Vsummary
p932
asVTHEME_STATIC_PATHS
p933
(lp934
Vstatic
p935
asS'CATEGORY_FEED_RSS'
p936
NsVTHEME_STATIC_DIR
p937
Vtheme
p938
sVDRAFT_LANG_SAVE_AS
p939
Vdrafts/{slug}-{lang}.html
p940
sS'FEED_ALL_RSS'
p941
NsVREADERS
p942
(dp943
sVLOCALE
p944
(lp945
V
asVWRITE_SELECTED
p946
(lp947
sVDELETE_OUTPUT_DIRECTORY
p948
I00
sVFEED_MAX_ITEMS
p949
V
sVPATH
p950
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p951
sVPAGE_URL
p952
Vpages/{slug}.html
p953
sVSITENAME
p954
VSummations
p955
sVARTICLE_PERMALINK_STRUCTURE
p956
V
sS'COLOPHON_CONTENT'
p957
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p958
sVARTICLE_URL
p959
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p960
sS'SITESCHEME'
p961
Vhttps
p962
sVMONTH_ARCHIVE_SAVE_AS
p963
Vblog/{date:%Y}/{date:%m}/index.html
p964
sVDEFAULT_METADATA
p965
(dp966
sVRSS_FEED_SUMMARY_ONLY
p967
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p968
I00
sVPLUGIN_PATHS
p969
(lp970
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p971
asVFEED_ALL_ATOM
p972
NsVSTATIC_SAVE_AS
p973
g735
sVAUTHOR_SAVE_AS
p974
I00
sVPYGMENTS_RST_OPTIONS
p975
(dp976
sVAUTHOR_FEED_ATOM
p977
Vfeeds/%s.atom.xml
p978
sVARTICLE_LANG_SAVE_AS
p979
g731
sVPAGE_SAVE_AS
p980
Vpages/{slug}.html
p981
sS'OPEN_GRAPH_METADATA'
p982
I01
sVOUTPUT_PATH
p983
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p984
sVDEFAULT_STATUS
p985
Vpublished
p986
sS'DISQUS_SITENAME'
p987
Vrahulpathakml
p988
sS'COPYRIGHT_FROM'
p989
I1998
ssbsVtags
p990
(lp991
g10
(g330
g12
NtRp992
(dp993
g15
Vmachinelearning
p994
sg17
Vmachinelearning
p995
sg19
I01
sg20
g693
sbag10
(g330
g12
NtRp996
(dp997
g15
Vregression
p998
sg17
Vregression
p999
sg19
I01
sg20
g693
sbasVtitle
p1000
VUnderstanding Multivariate Linear Regression
p1001
sttp1002
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/tech/Logistic Regression.md
p1003
(F1492609690.0344877
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1004
Vdate
p1005
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp1006
sVcategory
p1007
g10
(g666
g12
NtRp1008
(dp1009
g15
Vtech
p1010
sg17
Vtech
p1011
sg19
I01
sg20
(dp1012
VCATEGORY_URL
p1013
Vcategory/{slug}.html
p1014
sVPAGE_ORDER_BY
p1015
Vbasename
p1016
sS'ARTICLE_TWEET_BUTTON'
p1017
I00
sVWITH_FUTURE_DATES
p1018
I01
sVCATEGORY_SAVE_AS
p1019
Vcategory/{slug}.html
p1020
sS'LINKS'
p1021
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1022
sVARTICLE_ORDER_BY
p1023
Vreversed-date
p1024
sVDEFAULT_LANG
p1025
Ven
p1026
sVCACHE_CONTENT
p1027
I01
sVPAGE_LANG_SAVE_AS
p1028
Vpages/{slug}-{lang}.html
p1029
sVDRAFT_SAVE_AS
p1030
Vdrafts/{slug}.html
p1031
sVPAGE_PATHS
p1032
(lp1033
Vpages
p1034
asVDEFAULT_PAGINATION
p1035
I8
sVDOCUTILS_SETTINGS
p1036
(dp1037
S'math_output'
p1038
S'MathJax'
p1039
ssVLOAD_CONTENT_CACHE
p1040
I01
sVSTATIC_PATHS
p1041
(lp1042
Vimages
p1043
aVextras
p1044
aVfiles
p1045
asVDAY_ARCHIVE_SAVE_AS
p1046
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1047
sVARTICLE_LANG_URL
p1048
V{slug}-{lang}.html
p1049
sVSLUGIFY_SOURCE
p1050
Vtitle
p1051
sVSTATIC_URL
p1052
V{path}
p1053
sVCATEGORY_FEED_ATOM
p1054
NsVOUTPUT_SOURCES
p1055
I00
sVDIRECT_TEMPLATES
p1056
(lp1057
Vindex
p1058
aVtags
p1059
aVcategories
p1060
aVauthors
p1061
aVarchives
p1062
asVSTATIC_EXCLUDES
p1063
(lp1064
sVTAG_URL
p1065
Vtag/{slug}.html
p1066
sVARTICLE_PATHS
p1067
(lp1068
Vposts
p1069
asVLOG_FILTER
p1070
(lp1071
sVFILENAME_METADATA
p1072
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1073
sVDISPLAY_PAGES_ON_MENU
p1074
I00
sVPELICAN_CLASS
p1075
Vpelican.Pelican
p1076
sVCACHE_PATH
p1077
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p1078
sVINDEX_SAVE_AS
p1079
Vindex.html
p1080
sVINTRASITE_LINK_REGEX
p1081
V[{|](?P<what>.*?)[|}]
p1082
sVDEFAULT_ORPHANS
p1083
I1
sS'COLOPHON_TITLE'
p1084
VAbout
p1085
sS'ARCHIVES_SAVE_AS'
p1086
Vblog/index.html
p1087
sS'RESPONSIVE_IMAGES'
p1088
I01
sS'AUTHOR'
p1089
VRahul Pathak
p1090
sS'MARKUP'
p1091
(Vrst
Vhtml
tp1092
sVDISPLAY_CATEGORIES_ON_MENU
p1093
I01
sVCHECK_MODIFIED_METHOD
p1094
Vmtime
p1095
sVARTICLE_EXCLUDES
p1096
(lp1097
g1034
asVTHEME_STATIC_PATHS
p1098
(lp1099
Vstatic
p1100
asVTRANSLATION_FEED_ATOM
p1101
NsVPLUGINS
p1102
(lp1103
Vassets
p1104
aVrelated_posts
p1105
aVextract_toc
p1106
aVpost_stats
p1107
aVseries
p1108
aVrender_math
p1109
aVsitemap
p1110
asVTYPOGRIFY
p1111
I01
sVFEED_ALL_ATOM
p1112
NsS'TRANSLATION_FEED_RSS'
p1113
NsVEXTRA_TEMPLATES_PATHS
p1114
(lp1115
sVMARKDOWN
p1116
(dp1117
Vextension_configs
p1118
(dp1119
Vmarkdown.extensions.extra
p1120
(dp1121
sVmarkdown.extensions.codehilite
p1122
(dp1123
Vcss_class
p1124
Vhighlight
p1125
ssVmarkdown.extensions.meta
p1126
(dp1127
ssS'extensions'
p1128
(lp1129
g10
(g139
g12
NtRp1130
(dp1131
g142
I00
sbag1120
ag1122
ag1126
asVoutput_format
p1132
Vhtml5
p1133
ssVOUTPUT_RETENTION
p1134
(lp1135
sS'COLOPHON'
p1136
I01
sVPAGE_LANG_URL
p1137
Vpages/{slug}-{lang}.html
p1138
sVTHEME_STATIC_DIR
p1139
Vtheme
p1140
sVTHEME
p1141
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p1142
sVUSE_FOLDER_AS_CATEGORY
p1143
I01
sVJINJA_ENVIRONMENT
p1144
(dp1145
Vextensions
p1146
(lp1147
g161
asVtrim_blocks
p1148
I01
sVlstrip_blocks
p1149
I01
ssVDEBUG
p1150
I01
sVREVERSE_CATEGORY_ORDER
p1151
I00
sVRELATIVE_URLS
p1152
I00
sVDATE_FORMATS
p1153
(dp1154
sVSITEURL
p1155
Vhttps://summations.github.io
p1156
sVCONTENT_CACHING_LAYER
p1157
Vreader
p1158
sS'SOCIAL'
p1159
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1160
sVNEWEST_FIRST_ARCHIVES
p1161
I01
sS'SITE_TITLE'
p1162
VRahul Pathak Blog
p1163
sS'COPYRIGHT_UNTIL'
p1164
I2017
sVPATH_METADATA
p1165
V
sVTEMPLATE_PAGES
p1166
(dp1167
sVFEED_DOMAIN
p1168
g1156
sVTYPOGRIFY_IGNORE_TAGS
p1169
(lp1170
S'.math'
p1171
aS'script'
p1172
asVGZIP_CACHE
p1173
I00
sS'SITE_DESCRIPTION'
p1174
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1175
sVAUTHOR_FEED_RSS
p1176
Vfeeds/%s.rss.xml
p1177
sS'TIMEZONE'
p1178
VAmerica/Vancouver
p1179
sVDRAFT_URL
p1180
Vdrafts/{slug}.html
p1181
sVPAGE_EXCLUDES
p1182
(lp1183
g1069
asVAUTHOR_SAVE_AS
p1184
I00
sVREADERS
p1185
(dp1186
sVDRAFT_LANG_URL
p1187
Vdrafts/{slug}-{lang}.html
p1188
sVOUTPUT_SOURCES_EXTENSION
p1189
V.text
p1190
sVPAGINATION_PATTERNS
p1191
(lp1192
g10
(g207
g208
(I0
V{name}{number}{extension}
p1193
V{name}{number}{extension}
p1194
ttRp1195
asVSTATIC_EXCLUDE_SOURCES
p1196
I01
sVJINJA_FILTERS
p1197
(dp1198
Vmonth_name
p1199
g216
sVtagsort
p1200
g218
sVsidebar_date_format
p1201
g220
sVarchive_date_format
p1202
g222
sVdump
p1203
g224
ssVARTICLE_SAVE_AS
p1204
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1205
sVYEAR_ARCHIVE_SAVE_AS
p1206
Vblog/{date:%Y}/index.html
p1207
sVCSS_FILE
p1208
Vmain.css
p1209
sVAUTHOR_URL
p1210
Vauthor/{slug}.html
p1211
sVIGNORE_FILES
p1212
(lp1213
V.#*
p1214
asS'SITEMAP'
p1215
(dp1216
Vchangefreqs
p1217
(dp1218
Varticles
p1219
Vweekly
p1220
sg1034
Vmonthly
p1221
sVindexes
p1222
Vdaily
p1223
ssVpriorities
p1224
(dp1225
g1219
F0.80000000000000004
sg1034
F0.5
sg1222
F0.69999999999999996
ssVformat
p1226
Vxml
p1227
ssVSUMMARY_MAX_LENGTH
p1228
I60
sVSLUG_SUBSTITUTIONS
p1229
(tsS'RELATED_POSTS_MAX'
p1230
I4
sVFORMATTED_FIELDS
p1231
(lp1232
Vsummary
p1233
asVDEFAULT_DATE_FORMAT
p1234
V%a %d %B %Y
p1235
sS'CATEGORY_FEED_RSS'
p1236
NsS'DEFAULT_PAGESCHEMA'
p1237
VBlogPost
p1238
sVDRAFT_LANG_SAVE_AS
p1239
Vdrafts/{slug}-{lang}.html
p1240
sS'FEED_ALL_RSS'
p1241
NsVEXTRA_PATH_METADATA
p1242
(dp1243
Vextras/.htaccess
p1244
(dp1245
Vpath
p1246
V.htaccess
p1247
ssVextras/google9b8f9c7f2338fb3e.html
p1248
(dp1249
g1246
Vgoogle9b8f9c7f2338fb3e.html
p1250
ssVextras/favicon.ico
p1251
(dp1252
g1246
Vfavicon.ico
p1253
ssVextras/robots.txt
p1254
(dp1255
g1246
Vrobots.txt
p1256
sssVLOCALE
p1257
(lp1258
V
asVWRITE_SELECTED
p1259
(lp1260
sVDELETE_OUTPUT_DIRECTORY
p1261
I00
sVFEED_MAX_ITEMS
p1262
V
sVPATH
p1263
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p1264
sVPAGE_URL
p1265
Vpages/{slug}.html
p1266
sVSITENAME
p1267
VSummations
p1268
sVARTICLE_PERMALINK_STRUCTURE
p1269
V
sS'COLOPHON_CONTENT'
p1270
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1271
sVARTICLE_URL
p1272
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1273
sS'SITESCHEME'
p1274
Vhttps
p1275
sVMONTH_ARCHIVE_SAVE_AS
p1276
Vblog/{date:%Y}/{date:%m}/index.html
p1277
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1278
I00
sVDEFAULT_METADATA
p1279
(dp1280
sVRSS_FEED_SUMMARY_ONLY
p1281
I01
sVDEFAULT_CATEGORY
p1282
Vmisc
p1283
sVPLUGIN_PATHS
p1284
(lp1285
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p1286
asVPAGINATED_DIRECT_TEMPLATES
p1287
(lp1288
g1058
asVSTATIC_SAVE_AS
p1289
g1053
sVTAG_SAVE_AS
p1290
Vtag/{slug}.html
p1291
sVPYGMENTS_RST_OPTIONS
p1292
(dp1293
sVAUTHOR_FEED_ATOM
p1294
Vfeeds/%s.atom.xml
p1295
sVARTICLE_LANG_SAVE_AS
p1296
g1049
sVPAGE_SAVE_AS
p1297
Vpages/{slug}.html
p1298
sS'OPEN_GRAPH_METADATA'
p1299
I01
sVOUTPUT_PATH
p1300
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p1301
sVDEFAULT_STATUS
p1302
Vpublished
p1303
sS'DISQUS_SITENAME'
p1304
Vrahulpathakml
p1305
sS'COPYRIGHT_FROM'
p1306
I1998
ssbsVtitle
p1307
VLogistic Regression
p1308
sVtags
p1309
(lp1310
g10
(g330
g12
NtRp1311
(dp1312
g15
Vmachinelearning
p1313
sg17
Vmachinelearning
p1314
sg19
I01
sg20
g1012
sbag10
(g330
g12
NtRp1315
(dp1316
g15
Vclassification
p1317
sg17
Vclassification
p1318
sg19
I01
sg20
g1012
sbasttp1319
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg.md
p1320
(F1492853219.8157091
(V<p>While I have not decided what it will be my first post about development stuff I'll post the text that me and my friend wrote to the The Document Foundation's blog. In that text we talked about out trip to LibreOffice hackfest in freiburg.\u000aFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg</p>\u000a<p>José Guilherme Vanz and Marcos Souza, LibreOffice development in Brazil</p>\u000a<p>Our first contact with the LibreOffice was in FISL 2012 (International Forum of Free Software, held in Porto Alegre, Brazil). Since then, we got quickly involved with the LibreOffice development community. Now we attend events in Brazil advocating to people about the better office suite ever done!\u000aMonths ago, after some time contributing to the project and participating in LibreOffice community, we, José Guilherme Vanz and Marcos Paulo de Souza were invited to participate in the Freiburg LibreOffice Hackfest. We were very happy and very excited! This invitation showed us that we were recognized for our humble work in the project and because this is a unique opportunity to work with people that we just know by mailing or IRC chats. So, we started the preparations of travel, such as paperwork, funds and a negotiation with our employers.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_01.jpg"></p>\u000a<p>We arrived in Germany thinking about how to learn more about LibreOffice code base, and learn some tips and tricks to code while contributing with the project. The guys at the hackfest work full time in the project, so we were very excited to improve our skills, including stuffs about how to make a nice hackfest and try setup one in Brazil!\u000aOur journey in Germany began in the beautiful city of Munich, where we stayed for two days. We met Christian Lohmaier, the current release engineer of LibreOffice project. He and Florian Effenberger were patient and generous to show Munich to us and all nice places of this nice city! Thanks a lot guys!\u000aThen we went to Freiburg, where the Hackfest was to start. The event took three days. We had the opportunity to meet some of the most famous mega developers! It was a very nice experience to link faces and names to IRC nicks, and of course, to question the \u201cpythons\u201d of the project in real time! Surely, we learned a lot in these 3 days!\u000aMarcos did some work in LibreOffice Math. The first was about including tooltips in the new Elements Dock. To solve this bug, we basically need to create some strings with the descriptions of each element in the Elements Dock. These strings are stored inside \u201c.src\u201d files. These files are \u201ccompiled\u201d and used by translators to translate each string to a specific language used in the user interface of LibreOffice. This fix was not difficult, just painful!\u000aThe second bug that Marcos worked was about to implement a scrollbar in the Elements Dock. We did not finish this fix because he had some doubts and some points that need some other fixes. Still in the event, we talked with some others hackers about other issues.\u000aI was focused trying to execute a static checker to detect some error prone code and fix them</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>After three days of hackfest, we started the \u201cHamburg Home Hacking Marathon\u201d! We stayed four days in Hamburg, coding in the house of LibreOffice enginners! Again, we had the pleasure to work with Eike Ratke, Michael Stahl, Stephan Bergmann and Bjoern Michaelsen. All of them willing to help us teaching about the code base and showing some tips.\u000aUsing our precious time with them, Marcos worked in the issue 60698 (https://bugs.freedesktop.org/show_bug.cgi?id=60698). This bug is about unify some shared libraries that are built by few files. Doing this we get a smaller library because these libraries are compiled and built just once, and by this we avoid the dispersion of shared libraries. Working in this bug, Marcos unified all shared libraries of IO module.\u000aMarcos tried yet to solve a bug in Calc, with the help of Eike as mentor. This bug was about ODS files using link to another sheets. By changing the referenced files, Calc was not allowed to update the data inside the file that was referencing. But, this bug was not so easy, and the problem was bigger than we thought. So we couldn\u2019t solve this bug in that time, and Eike removed the bug from the easy hacks.\u000aAnd I was still working in static checker. I started to look to a bug of Math, about the user interface. After some work, I fixed that bug!\u000aIn the third day, we went back to Stephan\u2019s place, trying to solve bugs and learn more! This day Bjoern went to Stephan\u2019s house too, totaling six guys programming in the same table! In this day Marcos worked in a bug(https://bugs.freedesktop.org/show_bug.cgi?id=63020) indicated by Bjoern. That bug was related to removing a class from LibreOffice. With Stephan\u2019s help, Marcos could remove that class and use a better approach in the code.\u000aAnd in the last day, we went again to Eike\u2019s home, where we enjoyed to last moments with the great developers of LibreOffice! We talked a little about their work and how they work daily.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>For sure, these days were very fruitful, and we learned a lot of things that we\u2019ll use in the future.\u000aWe came back to Brazil and we want to say a big THANK YOU for all of you guys! To the  Brazilian community, that welcomed us and keeps helping us. To The Document Foundation, who gave us this opportunity. To all developers that are helping us since we started in the project, specially YOU we met this wonderful German journey, and all people involved directly or indirectly in this amazing project!</p>\u000a<p>Source: http://blog.documentfoundation.org/2013/12/04/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg/</p>\u000a<p>Portuguese version: http://blog.pt-br.libreoffice.org/2013/12/09/do-brasil-para-a-alemanha-um-inesquecivel-hackfest-em-freiburg/</p>
(dp1321
Vdate
p1322
g5
(S'\x07\xde\x01\x18\x00\x00\x00\x00\x00\x00'
tRp1323
sVtitle
p1324
VFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg
p1325
sVauthor
p1326
g10
(g11
g12
NtRp1327
(dp1328
g15
VJosé Guilherme Vanz
p1329
sg17
Vjose-guilherme-vanz
p1330
sg19
I01
sg20
g21
sbsVtags
p1331
(lp1332
g10
(g330
g12
NtRp1333
(dp1334
g15
Vhackfest
p1335
sg17
Vhackfest
p1336
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp1337
(dp1338
g15
Vlibreoffice
p1339
sg17
Vlibreoffice
p1340
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp1341
(dp1342
g15
Vtravel
p1343
sg17
Vtravel
p1344
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp1345
(dp1346
g15
Vgermany
p1347
sg17
Vgermany
p1348
sg19
I01
sg20
g21
sbasttp1349
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/recovering-missed-data-from-stash.md
p1350
(F1492853219.8197095
(V<p>Today my colleague almost lost everything that he did during 4 days! Because  a wrong git command he dropped his changes saved on stash.\u000aAfter this sad episode we looked for a way to try to recover as least part of his work... and we did it!</p>\u000a<p>First of all, when you are implementing some big feature, split it in small pieces and commit it regularly. It's not a good idea stay so long time without commit your changes,  so take care.</p>\u000a<p>Let's simulate a scenario to show what you can do when you lost some changes dropped from stash.\u000aOn our repository we have only one source file, main.c. We will use it to demonstrate the problem and the solution... so, our repository now is been like this:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_01.jpeg"></p>\u000a<p>and he have only an commit, the initial commit:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_02.jpeg"></p>\u000a<p>The first version of out file is:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_03.jpeg"></p>\u000a<p>So, let's start to code something. For this example, we do not need some big change, is only something to put in the stash. For this, I just will add a new line. The git-diff output should be:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_04.jpeg"></p>\u000a<p>Now, suppose that you have to pull some new changes from remote repository and you do not want to commit you changes. Thus, you decided to stashed your changes, pull the changes from remote repository\u000aand apply your changes again on the master.  For this, you execute the following command to move your changes to stash:</p>\u000a<p><code>git stash</code></p>\u000a<p>Looking into the stash we can see our changes there:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_06.jpeg"></p>\u000a<p>Now our code is in a safe place and the master branch is clean ( check with <code>git status</code>) and you can pull the changes. After pulled the changes, it's time to apply your changes again on the master.\u000aBut accidentally you execute</p>\u000a<p><code>git stash drop</code></p>\u000a<p>instead of:</p>\u000a<p><code>git stash pop</code></p>\u000a<p>and now, if you execute <code>git stash list</code> again, you can see that you dropped changes from the stash and does not apply them again on the master branch. OMG! Who can help us?\u000aAs you will seen soon git did not delete the object that contains your changes. It just remove the reference to it.\u000aTo prove this you can used the <code>git-fsck</code> command, this command verifies the connectivity and validity of the objects in the database.\u000aOn the begin of the repository I executed the <code>git-fsck</code> command and the output were:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_07.jpeg"></p>\u000a<p>Basically, I asked <code>git-fsck</code> show me the objects that are unreachable ( <code>--unreachable</code> argument ). As you can see, it didn't show any unreachable object.\u000aAfter I dropped the changes on my stash I executed the same command, and the output was different:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_08.jpeg"></p>\u000a<p>Now, we can see 3 unreachable objects. But which is our changes? Actually, I don't know. We have to search for it, for this job you can execute the <code>git-show</code> command for visualize what are each objects.</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_09.jpeg"></p>\u000a<p>There it is! The ID 95ccbd927ad4cd413ee2a28014c81454f4ede82c is our changes. Ok, we found your missed changes. Let's recover it!\u000aAn possible solution is checkout the ID into a new branch or apply the commit directly. Once you have the ID of the object with your changes is up to you decide what is the best way to put changes on the master branch again.\u000aFor this example I will use the <code>git-stash</code> to apply the commit on my master branch again.</p>\u000a<p><code>git stash apply 95ccbd927ad4cd413ee2a28014c81454f4ede82c</code></p>\u000a<p>A important thing to remember, git run its garbage collector periodically. After the gc execution you cannot see more the unreachable objects using <code>git-fsck</code>. ;)</p>
(dp1351
Vdate
p1352
g5
(S'\x07\xde\x02\x0f\x00\x00\x00\x00\x00\x00'
tRp1353
sVtitle
p1354
VRecovering missed data from stash
p1355
sVauthor
p1356
g10
(g11
g12
NtRp1357
(dp1358
g15
VJosé Guilherme Vanz
p1359
sg17
Vjose-guilherme-vanz
p1360
sg19
I01
sg20
g21
sbsVtags
p1361
(lp1362
g10
(g330
g12
NtRp1363
(dp1364
g15
Vgit
p1365
sg17
Vgit
p1366
sg19
I01
sg20
g21
sbasttp1367
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content/posts/tech/Logistic Regression.md
p1368
(F1492255010.7084544
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1369
Vdate
p1370
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp1371
sVcategory
p1372
g10
(g666
g12
NtRp1373
(dp1374
g15
Vtech
p1375
sg17
Vtech
p1376
sg19
I01
sg20
(dp1377
VCATEGORY_URL
p1378
Vcategory/{slug}.html
p1379
sVPAGE_ORDER_BY
p1380
Vbasename
p1381
sS'ARTICLE_TWEET_BUTTON'
p1382
I00
sVWITH_FUTURE_DATES
p1383
I01
sVCATEGORY_SAVE_AS
p1384
Vcategory/{slug}.html
p1385
sS'LINKS'
p1386
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1387
sVARTICLE_ORDER_BY
p1388
Vreversed-date
p1389
sVDEFAULT_LANG
p1390
Ven
p1391
sVCACHE_CONTENT
p1392
I01
sVPAGE_LANG_SAVE_AS
p1393
Vpages/{slug}-{lang}.html
p1394
sVDRAFT_SAVE_AS
p1395
Vdrafts/{slug}.html
p1396
sVPAGE_PATHS
p1397
(lp1398
Vpages
p1399
asVDEFAULT_PAGINATION
p1400
I8
sVDOCUTILS_SETTINGS
p1401
(dp1402
S'math_output'
p1403
S'MathJax'
p1404
ssVLOAD_CONTENT_CACHE
p1405
I01
sVSTATIC_PATHS
p1406
(lp1407
Vimages
p1408
aVextras
p1409
aVfiles
p1410
asVDAY_ARCHIVE_SAVE_AS
p1411
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1412
sVARTICLE_LANG_URL
p1413
V{slug}-{lang}.html
p1414
sVSLUGIFY_SOURCE
p1415
Vtitle
p1416
sVSTATIC_URL
p1417
V{path}
p1418
sVCATEGORY_FEED_ATOM
p1419
NsVOUTPUT_SOURCES
p1420
I00
sVDIRECT_TEMPLATES
p1421
(lp1422
Vindex
p1423
aVtags
p1424
aVcategories
p1425
aVauthors
p1426
aVarchives
p1427
asVSTATIC_EXCLUDES
p1428
(lp1429
sVTAG_URL
p1430
Vtag/{slug}.html
p1431
sVARTICLE_PATHS
p1432
(lp1433
Vposts
p1434
asVLOG_FILTER
p1435
(lp1436
sVFILENAME_METADATA
p1437
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1438
sVDISPLAY_PAGES_ON_MENU
p1439
I00
sVPELICAN_CLASS
p1440
Vpelican.Pelican
p1441
sVCACHE_PATH
p1442
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/cache
p1443
sVINDEX_SAVE_AS
p1444
Vindex.html
p1445
sVINTRASITE_LINK_REGEX
p1446
V[{|](?P<what>.*?)[|}]
p1447
sVDEFAULT_ORPHANS
p1448
I1
sS'COLOPHON_TITLE'
p1449
VAbout
p1450
sS'ARCHIVES_SAVE_AS'
p1451
Vblog/index.html
p1452
sS'RESPONSIVE_IMAGES'
p1453
I01
sS'AUTHOR'
p1454
VRahul Pathak
p1455
sS'MARKUP'
p1456
(Vrst
Vhtml
tp1457
sVDISPLAY_CATEGORIES_ON_MENU
p1458
I01
sVCHECK_MODIFIED_METHOD
p1459
Vmtime
p1460
sVARTICLE_EXCLUDES
p1461
(lp1462
g1399
asVTHEME_STATIC_PATHS
p1463
(lp1464
Vstatic
p1465
asVTRANSLATION_FEED_ATOM
p1466
NsVPLUGINS
p1467
(lp1468
Vassets
p1469
aVrelated_posts
p1470
aVextract_toc
p1471
aVpost_stats
p1472
aVseries
p1473
aVrender_math
p1474
aVgzip_cache
p1475
aVsitemap
p1476
asVTYPOGRIFY
p1477
I01
sVFEED_ALL_ATOM
p1478
NsS'TRANSLATION_FEED_RSS'
p1479
NsVEXTRA_TEMPLATES_PATHS
p1480
(lp1481
sVMARKDOWN
p1482
(dp1483
Vextension_configs
p1484
(dp1485
Vmarkdown.extensions.extra
p1486
(dp1487
sVmarkdown.extensions.codehilite
p1488
(dp1489
Vcss_class
p1490
Vhighlight
p1491
ssVmarkdown.extensions.meta
p1492
(dp1493
ssS'extensions'
p1494
(lp1495
g10
(g139
g12
NtRp1496
(dp1497
g142
I00
sbag1486
ag1488
ag1492
asVoutput_format
p1498
Vhtml5
p1499
ssVOUTPUT_RETENTION
p1500
(lp1501
sS'COLOPHON'
p1502
I01
sVPAGE_LANG_URL
p1503
Vpages/{slug}-{lang}.html
p1504
sVTHEME_STATIC_DIR
p1505
Vtheme
p1506
sVTHEME
p1507
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blueprint
p1508
sVUSE_FOLDER_AS_CATEGORY
p1509
I01
sVJINJA_ENVIRONMENT
p1510
(dp1511
Vextensions
p1512
(lp1513
g161
asVtrim_blocks
p1514
I01
sVlstrip_blocks
p1515
I01
ssVDEBUG
p1516
I00
sVREVERSE_CATEGORY_ORDER
p1517
I00
sVRELATIVE_URLS
p1518
I00
sVDATE_FORMATS
p1519
(dp1520
sVSITEURL
p1521
Vhttps://summations.github.io
p1522
sVCONTENT_CACHING_LAYER
p1523
Vreader
p1524
sS'SOCIAL'
p1525
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1526
sVNEWEST_FIRST_ARCHIVES
p1527
I01
sS'SITE_TITLE'
p1528
VRahul Pathak Blog
p1529
sS'COPYRIGHT_UNTIL'
p1530
I2017
sVPATH_METADATA
p1531
V
sVTEMPLATE_PAGES
p1532
(dp1533
sVFEED_DOMAIN
p1534
g1522
sVTYPOGRIFY_IGNORE_TAGS
p1535
(lp1536
S'.math'
p1537
aS'script'
p1538
asVGZIP_CACHE
p1539
I00
sS'SITE_DESCRIPTION'
p1540
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1541
sVAUTHOR_FEED_RSS
p1542
Vfeeds/%s.rss.xml
p1543
sS'TIMEZONE'
p1544
VAmerica/Vancouver
p1545
sVDRAFT_URL
p1546
Vdrafts/{slug}.html
p1547
sVPAGE_EXCLUDES
p1548
(lp1549
g1434
asVAUTHOR_SAVE_AS
p1550
I00
sVREADERS
p1551
(dp1552
sVDRAFT_LANG_URL
p1553
Vdrafts/{slug}-{lang}.html
p1554
sVOUTPUT_SOURCES_EXTENSION
p1555
V.text
p1556
sVPAGINATION_PATTERNS
p1557
(lp1558
g10
(g207
g208
(I0
V{name}{number}{extension}
p1559
V{name}{number}{extension}
p1560
ttRp1561
asVSTATIC_EXCLUDE_SOURCES
p1562
I01
sVJINJA_FILTERS
p1563
(dp1564
Vmonth_name
p1565
g216
sVtagsort
p1566
g218
sVsidebar_date_format
p1567
g220
sVarchive_date_format
p1568
g222
sVdump
p1569
g224
ssVARTICLE_SAVE_AS
p1570
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1571
sVYEAR_ARCHIVE_SAVE_AS
p1572
Vblog/{date:%Y}/index.html
p1573
sVCSS_FILE
p1574
Vmain.css
p1575
sVAUTHOR_URL
p1576
Vauthor/{slug}.html
p1577
sVIGNORE_FILES
p1578
(lp1579
V.#*
p1580
asS'SITEMAP'
p1581
(dp1582
Vchangefreqs
p1583
(dp1584
Varticles
p1585
Vweekly
p1586
sg1399
Vmonthly
p1587
sVindexes
p1588
Vdaily
p1589
ssVpriorities
p1590
(dp1591
g1585
F0.80000000000000004
sg1399
F0.5
sg1588
F0.69999999999999996
ssVformat
p1592
Vxml
p1593
ssVSUMMARY_MAX_LENGTH
p1594
I60
sVSLUG_SUBSTITUTIONS
p1595
(tsS'RELATED_POSTS_MAX'
p1596
I4
sVFORMATTED_FIELDS
p1597
(lp1598
Vsummary
p1599
asVDEFAULT_DATE_FORMAT
p1600
V%a %d %B %Y
p1601
sS'CATEGORY_FEED_RSS'
p1602
NsS'DEFAULT_PAGESCHEMA'
p1603
VBlogPost
p1604
sVDRAFT_LANG_SAVE_AS
p1605
Vdrafts/{slug}-{lang}.html
p1606
sS'FEED_ALL_RSS'
p1607
NsVEXTRA_PATH_METADATA
p1608
(dp1609
Vextras/.htaccess
p1610
(dp1611
Vpath
p1612
V.htaccess
p1613
ssVextras/google9b8f9c7f2338fb3e.html
p1614
(dp1615
g1612
Vgoogle9b8f9c7f2338fb3e.html
p1616
ssVextras/favicon.ico
p1617
(dp1618
g1612
Vfavicon.ico
p1619
ssVextras/robots.txt
p1620
(dp1621
g1612
Vrobots.txt
p1622
sssVLOCALE
p1623
(lp1624
V
asVWRITE_SELECTED
p1625
(lp1626
sVDELETE_OUTPUT_DIRECTORY
p1627
I00
sVFEED_MAX_ITEMS
p1628
V
sVPATH
p1629
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content
p1630
sVPAGE_URL
p1631
Vpages/{slug}.html
p1632
sVSITENAME
p1633
VSummations
p1634
sVARTICLE_PERMALINK_STRUCTURE
p1635
V
sS'COLOPHON_CONTENT'
p1636
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1637
sVARTICLE_URL
p1638
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1639
sS'SITESCHEME'
p1640
Vhttp
p1641
sVMONTH_ARCHIVE_SAVE_AS
p1642
Vblog/{date:%Y}/{date:%m}/index.html
p1643
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1644
I00
sVDEFAULT_METADATA
p1645
(dp1646
sVRSS_FEED_SUMMARY_ONLY
p1647
I01
sVDEFAULT_CATEGORY
p1648
Vmisc
p1649
sVPLUGIN_PATHS
p1650
(lp1651
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/pelican-plugins
p1652
asVPAGINATED_DIRECT_TEMPLATES
p1653
(lp1654
g1423
asVSTATIC_SAVE_AS
p1655
g1418
sVTAG_SAVE_AS
p1656
Vtag/{slug}.html
p1657
sVPYGMENTS_RST_OPTIONS
p1658
(dp1659
sVAUTHOR_FEED_ATOM
p1660
Vfeeds/%s.atom.xml
p1661
sVARTICLE_LANG_SAVE_AS
p1662
g1414
sVPAGE_SAVE_AS
p1663
Vpages/{slug}.html
p1664
sS'OPEN_GRAPH_METADATA'
p1665
I01
sVOUTPUT_PATH
p1666
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/output
p1667
sVDEFAULT_STATUS
p1668
Vpublished
p1669
sS'DISQUS_SITENAME'
p1670
Vrahulpathakml
p1671
sS'COPYRIGHT_FROM'
p1672
I1998
ssbsVtitle
p1673
VLogistic Regression
p1674
sVtags
p1675
(lp1676
g10
(g330
g12
NtRp1677
(dp1678
g15
Vmachinelearning
p1679
sg17
Vmachinelearning
p1680
sg19
I01
sg20
g1377
sbag10
(g330
g12
NtRp1681
(dp1682
g15
Vclassification
p1683
sg17
Vclassification
p1684
sg19
I01
sg20
g1377
sbasttp1685
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content/posts/tech/multivariate-linearregression.md
p1686
(F1492239777.8438642
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1687
Vdate
p1688
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp1689
sVcategory
p1690
g10
(g666
g12
NtRp1691
(dp1692
g15
Vtech
p1693
sg17
Vtech
p1694
sg19
I01
sg20
(dp1695
VCATEGORY_URL
p1696
Vcategory/{slug}.html
p1697
sVPAGE_ORDER_BY
p1698
Vbasename
p1699
sS'ARTICLE_TWEET_BUTTON'
p1700
I00
sVWITH_FUTURE_DATES
p1701
I01
sVCATEGORY_SAVE_AS
p1702
Vcategory/{slug}.html
p1703
sS'LINKS'
p1704
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1705
sVARTICLE_ORDER_BY
p1706
Vreversed-date
p1707
sVDEFAULT_LANG
p1708
Ven
p1709
sVCACHE_CONTENT
p1710
I01
sVPAGE_LANG_SAVE_AS
p1711
Vpages/{slug}-{lang}.html
p1712
sVDRAFT_SAVE_AS
p1713
Vdrafts/{slug}.html
p1714
sVPAGE_PATHS
p1715
(lp1716
Vpages
p1717
asVDEFAULT_PAGINATION
p1718
I8
sVDOCUTILS_SETTINGS
p1719
(dp1720
S'math_output'
p1721
S'MathJax'
p1722
ssVLOAD_CONTENT_CACHE
p1723
I01
sVSTATIC_PATHS
p1724
(lp1725
Vimages
p1726
aVextras
p1727
aVfiles
p1728
asVDAY_ARCHIVE_SAVE_AS
p1729
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1730
sVARTICLE_LANG_URL
p1731
V{slug}-{lang}.html
p1732
sVSLUGIFY_SOURCE
p1733
Vtitle
p1734
sVSTATIC_URL
p1735
V{path}
p1736
sVCATEGORY_FEED_ATOM
p1737
NsVOUTPUT_SOURCES
p1738
I00
sVDIRECT_TEMPLATES
p1739
(lp1740
Vindex
p1741
aVtags
p1742
aVcategories
p1743
aVauthors
p1744
aVarchives
p1745
asVSTATIC_EXCLUDES
p1746
(lp1747
sVTAG_URL
p1748
Vtag/{slug}.html
p1749
sVARTICLE_PATHS
p1750
(lp1751
Vposts
p1752
asVLOG_FILTER
p1753
(lp1754
sVFILENAME_METADATA
p1755
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1756
sVDISPLAY_PAGES_ON_MENU
p1757
I00
sVPELICAN_CLASS
p1758
Vpelican.Pelican
p1759
sVCACHE_PATH
p1760
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/cache
p1761
sVINDEX_SAVE_AS
p1762
Vindex.html
p1763
sVINTRASITE_LINK_REGEX
p1764
V[{|](?P<what>.*?)[|}]
p1765
sVDEFAULT_ORPHANS
p1766
I1
sS'COLOPHON_TITLE'
p1767
VAbout
p1768
sS'ARCHIVES_SAVE_AS'
p1769
Vblog/index.html
p1770
sS'RESPONSIVE_IMAGES'
p1771
I01
sS'AUTHOR'
p1772
VRahul Pathak
p1773
sS'MARKUP'
p1774
(Vrst
Vhtml
tp1775
sVDISPLAY_CATEGORIES_ON_MENU
p1776
I01
sVCHECK_MODIFIED_METHOD
p1777
Vmtime
p1778
sVARTICLE_EXCLUDES
p1779
(lp1780
g1717
asVTHEME_STATIC_PATHS
p1781
(lp1782
Vstatic
p1783
asVTRANSLATION_FEED_ATOM
p1784
NsVPLUGINS
p1785
(lp1786
Vassets
p1787
aVrelated_posts
p1788
aVextract_toc
p1789
aVpost_stats
p1790
aVseries
p1791
aVrender_math
p1792
aVsitemap
p1793
asVTYPOGRIFY
p1794
I01
sVFEED_ALL_ATOM
p1795
NsS'TRANSLATION_FEED_RSS'
p1796
NsVEXTRA_TEMPLATES_PATHS
p1797
(lp1798
sVMARKDOWN
p1799
(dp1800
Vextension_configs
p1801
(dp1802
Vmarkdown.extensions.extra
p1803
(dp1804
sVmarkdown.extensions.codehilite
p1805
(dp1806
Vcss_class
p1807
Vhighlight
p1808
ssVmarkdown.extensions.meta
p1809
(dp1810
ssS'extensions'
p1811
(lp1812
g10
(g139
g12
NtRp1813
(dp1814
g142
I00
sbag1803
ag1805
ag1809
asVoutput_format
p1815
Vhtml5
p1816
ssVOUTPUT_RETENTION
p1817
(lp1818
sS'COLOPHON'
p1819
I01
sVPAGE_LANG_URL
p1820
Vpages/{slug}-{lang}.html
p1821
sVTHEME_STATIC_DIR
p1822
Vtheme
p1823
sVTHEME
p1824
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blueprint
p1825
sVUSE_FOLDER_AS_CATEGORY
p1826
I01
sVJINJA_ENVIRONMENT
p1827
(dp1828
Vextensions
p1829
(lp1830
g161
asVtrim_blocks
p1831
I01
sVlstrip_blocks
p1832
I01
ssVDEBUG
p1833
I00
sVREVERSE_CATEGORY_ORDER
p1834
I00
sVRELATIVE_URLS
p1835
I00
sVDATE_FORMATS
p1836
(dp1837
sVSITEURL
p1838
Vhttps://summations.github.io
p1839
sVCONTENT_CACHING_LAYER
p1840
Vreader
p1841
sS'SOCIAL'
p1842
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1843
sVNEWEST_FIRST_ARCHIVES
p1844
I01
sS'SITE_TITLE'
p1845
VRahul Pathak Blog
p1846
sS'COPYRIGHT_UNTIL'
p1847
I2017
sVPATH_METADATA
p1848
V
sVTEMPLATE_PAGES
p1849
(dp1850
sVFEED_DOMAIN
p1851
g1839
sVTYPOGRIFY_IGNORE_TAGS
p1852
(lp1853
S'.math'
p1854
aS'script'
p1855
asVGZIP_CACHE
p1856
I00
sS'SITE_DESCRIPTION'
p1857
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1858
sVAUTHOR_FEED_RSS
p1859
Vfeeds/%s.rss.xml
p1860
sS'TIMEZONE'
p1861
VAmerica/Vancouver
p1862
sVDRAFT_URL
p1863
Vdrafts/{slug}.html
p1864
sVPAGE_EXCLUDES
p1865
(lp1866
g1752
asVAUTHOR_SAVE_AS
p1867
I00
sVREADERS
p1868
(dp1869
sVDRAFT_LANG_URL
p1870
Vdrafts/{slug}-{lang}.html
p1871
sVOUTPUT_SOURCES_EXTENSION
p1872
V.text
p1873
sVPAGINATION_PATTERNS
p1874
(lp1875
g10
(g207
g208
(I0
V{name}{number}{extension}
p1876
V{name}{number}{extension}
p1877
ttRp1878
asVSTATIC_EXCLUDE_SOURCES
p1879
I01
sVJINJA_FILTERS
p1880
(dp1881
Vmonth_name
p1882
g216
sVtagsort
p1883
g218
sVsidebar_date_format
p1884
g220
sVarchive_date_format
p1885
g222
sVdump
p1886
g224
ssVARTICLE_SAVE_AS
p1887
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1888
sVYEAR_ARCHIVE_SAVE_AS
p1889
Vblog/{date:%Y}/index.html
p1890
sVCSS_FILE
p1891
Vmain.css
p1892
sVAUTHOR_URL
p1893
Vauthor/{slug}.html
p1894
sVIGNORE_FILES
p1895
(lp1896
V.#*
p1897
asS'SITEMAP'
p1898
(dp1899
Vchangefreqs
p1900
(dp1901
Varticles
p1902
Vweekly
p1903
sg1717
Vmonthly
p1904
sVindexes
p1905
Vdaily
p1906
ssVpriorities
p1907
(dp1908
g1902
F0.80000000000000004
sg1717
F0.5
sg1905
F0.69999999999999996
ssVformat
p1909
Vxml
p1910
ssVSUMMARY_MAX_LENGTH
p1911
I60
sVSLUG_SUBSTITUTIONS
p1912
(tsS'RELATED_POSTS_MAX'
p1913
I4
sVFORMATTED_FIELDS
p1914
(lp1915
Vsummary
p1916
asVDEFAULT_DATE_FORMAT
p1917
V%a %d %B %Y
p1918
sS'CATEGORY_FEED_RSS'
p1919
NsS'DEFAULT_PAGESCHEMA'
p1920
VBlogPost
p1921
sVDRAFT_LANG_SAVE_AS
p1922
Vdrafts/{slug}-{lang}.html
p1923
sS'FEED_ALL_RSS'
p1924
NsVEXTRA_PATH_METADATA
p1925
(dp1926
Vextras/.htaccess
p1927
(dp1928
Vpath
p1929
V.htaccess
p1930
ssVextras/google9b8f9c7f2338fb3e.html
p1931
(dp1932
g1929
Vgoogle9b8f9c7f2338fb3e.html
p1933
ssVextras/favicon.ico
p1934
(dp1935
g1929
Vfavicon.ico
p1936
ssVextras/robots.txt
p1937
(dp1938
g1929
Vrobots.txt
p1939
sssVLOCALE
p1940
(lp1941
V
asVWRITE_SELECTED
p1942
(lp1943
sVDELETE_OUTPUT_DIRECTORY
p1944
I00
sVFEED_MAX_ITEMS
p1945
V
sVPATH
p1946
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content
p1947
sVPAGE_URL
p1948
Vpages/{slug}.html
p1949
sVSITENAME
p1950
VSummations
p1951
sVARTICLE_PERMALINK_STRUCTURE
p1952
V
sS'COLOPHON_CONTENT'
p1953
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1954
sVARTICLE_URL
p1955
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1956
sS'SITESCHEME'
p1957
Vhttps
p1958
sVMONTH_ARCHIVE_SAVE_AS
p1959
Vblog/{date:%Y}/{date:%m}/index.html
p1960
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1961
I00
sVDEFAULT_METADATA
p1962
(dp1963
sVRSS_FEED_SUMMARY_ONLY
p1964
I01
sVDEFAULT_CATEGORY
p1965
Vmisc
p1966
sVPLUGIN_PATHS
p1967
(lp1968
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/pelican-plugins
p1969
asVPAGINATED_DIRECT_TEMPLATES
p1970
(lp1971
g1741
asVSTATIC_SAVE_AS
p1972
g1736
sVTAG_SAVE_AS
p1973
Vtag/{slug}.html
p1974
sVPYGMENTS_RST_OPTIONS
p1975
(dp1976
sVAUTHOR_FEED_ATOM
p1977
Vfeeds/%s.atom.xml
p1978
sVARTICLE_LANG_SAVE_AS
p1979
g1732
sVPAGE_SAVE_AS
p1980
Vpages/{slug}.html
p1981
sS'OPEN_GRAPH_METADATA'
p1982
I01
sVOUTPUT_PATH
p1983
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/output
p1984
sVDEFAULT_STATUS
p1985
Vpublished
p1986
sS'DISQUS_SITENAME'
p1987
Vrahulpathakml
p1988
sS'COPYRIGHT_FROM'
p1989
I1998
ssbsVtitle
p1990
VUnderstanding Multivariate Linear Regression
p1991
sVtags
p1992
(lp1993
g10
(g330
g12
NtRp1994
(dp1995
g15
Vmachinelearning
p1996
sg17
Vmachinelearning
p1997
sg19
I01
sg20
g1695
sbag10
(g330
g12
NtRp1998
(dp1999
g15
Vregression
p2000
sg17
Vregression
p2001
sg19
I01
sg20
g1695
sbasttp2002
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/build-your-own-malloc.md
p2003
(F1492853219.8157091
(V<p>Some time ago I bought the The Linux Programming Interface book, one of the best books I have acquired.\u000aOne of the first chapters I read were about memory allocation. At the end of the chapter, author offers some exercises\u000ato the reader. Among them there is a challenging one. He suggests to implement the equivalent to the malloc and free\u000afunctions. The challenge has been accepted!</p>\u000a<p>First of all, this implementation is just for study purposes. It means you should NOT start to implement your malloc and\u000afree functions for production programs. Do not reinvent the wheel! The glibc are being improved for decades for many\u000agreat guys. You probably will take more time to do the equivalent excellent work! ;)</p>\u000a<p>I assume that you know a little bit about how a process and its segments works. It is nice remember this code does not\u000acover all details. As any software it can be improved (a lot).</p>\u000a<h3>System calls</h3>\u000a<p>There are two system calls allows the program to increase the program break, <code>brk</code> and <code>sbrk</code>. The program break defines\u000awhere is the end of process's data segment. It means if the program increases the program break, memory is allocated.\u000aOtherwise, it deallocate memory. In this code only <code>sbrk</code> is used, its only parameter defines the amount of memory program wants\u000ato increase. If the program break has being increased successfully, a pointer to the beginning of the allocated memory is\u000areturned. Otherwise, (void*) -1 is returned. <code>brk</code> is not being used. It allows the program set the end of data segment to\u000athe pointer passed in the functions arguments. I think this function is not being in use because the code does not decrease\u000athe program break. Maybe in the future I implement this feature and use the <code>brk</code> system call.</p>\u000a<p>For more details, take a look in the man page. ;)</p>\u000a<h3>Code</h3>\u000a<p>[gist:id=ba82bdd0dfeb44c260aa,file=memory.c]</p>\u000a<p>The cornerstone of the code is a linked list, called <code>free_list</code>. It stores all available memories blocks. Each element is\u000acomposed for a header and the memory itself. The header is a structure that contains two metadata. The first field of the\u000astruct is block's size and the second is a pointer to next memory block in the <code>free_list</code>. The first thing necessary\u000awhen a program request some memory is check if the <code>free_list</code> is already initialized (line 29). If not, it is initiated\u000awith a block of 0 size (lines 29 ~ 36). This is done to keep the first element in the list always the same. Thus, it is more easy to know\u000awhen stop a loop through the list and reduce the code complexity.</p>\u000a<p><img alt="" src="{filename}/images/mem_init.png"></p>\u000a<p>Once <code>free_list</code> initiated, a search in the list is performed. Looking for a memory block with enough size to attempt the\u000arequest. The algorithm follows the 'first fit' approach. It means that the first memory block found with enough size is\u000asplit and returned a pointer to the memory to the caller (lines 38 ~ 53). If any block has enough size, the heap is increased and the\u000anew memory is returned (line 55). The pointer returned to the user is a pointer to the memory block itself. It is\u000anot include the header. Does not make sense give to caller  access to the control structures. This structure is used only\u000afor memory management and to know what is the memory block size when the program wants to frees it.</p>\u000a<p><img alt="" src="{filename}/images/one_mem_allocate.png"></p>\u000a<p>As you can see between lines 26 and 28, all memory blocks are multiple of the header size. It means the minimum\u000amemory size allocated is the HEADER_SIZE * 2 (with the header). This approach facilitate the pointer arithmetic and avoid\u000acounting every single byte. In other words, even if the user requests less memory, the allocated memory will be always\u000amultiple of the HEADER_SIZE.</p>\u000a<p>When the user wants to free a pointer, another search in the <code>free_list</code> is performed. This time, looking for a memory block\u000anext the to the block is being freed. If a block is found, the two blocks are merged into one (lines 64 ~ 77). Otherwise,\u000athe block is appended in the list (lines 78 ~ 80). The goal of merge close blocks is avoid memory fragmentation. ;)</p>\u000a<p>According to my weak skill in asymptotic analysis, both functions have running time of O(n). Since each functions performed\u000aa search in the <code>free_list</code>. Please, tell me if I am wrong. I will study more about this topic and correct if I wrote\u000abullshit. The following sources are the header and a test program.</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=memory.h]</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=sample.c]</p>\u000a<p>Feel free to ask me in the comments. =]</p>\u000a<h4>References</h4>\u000a<p><a href="http://linux.die.net/man/2/sbrk">brk, sbrk</a></p>\u000a<p><a href="http://www.amazon.com/Linux-Programming-Interface-System-Handbook/dp/1593272200/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501399&amp;sr=1-1&amp;keywords=the+linux+programming+interface">The Linux Programing Interface</a></p>\u000a<p><a href="http://www.amazon.com/Programming-Language-Brian-W-Kernighan/dp/0131103628/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501445&amp;sr=1-1&amp;keywords=the+c+programming+language">The C Programming Language</a></p>\u000a<p><a href="https://github.com/jvanz/tlpi">Repository</a></p>
(dp2004
Vdate
p2005
g5
(S'\x07\xdf\x0b\x1a\x00\x08\x00\x00\x00\x00'
tRp2006
sVtitle
p2007
Vmalloc/free implementation. Just4Fun!
p2008
sVtags
p2009
(lp2010
g10
(g330
g12
NtRp2011
(dp2012
g15
Vc
sg17
Vc
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2013
(dp2014
g15
Vtlpi
p2015
sg17
Vtlpi
p2016
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2017
(dp2018
g15
Vglibc
p2019
sg17
Vglibc
p2020
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2021
(dp2022
g15
Vmemory
p2023
sg17
Vmemory
p2024
sg19
I01
sg20
g354
sbasVmodified
p2025
g5
(S'\x07\xe0\x01\x18\x16\x16\x00\x00\x00\x00'
tRp2026
sVauthor
p2027
g10
(g11
g12
NtRp2028
(dp2029
g15
VJosé Guilherme Vanz
p2030
sg17
Vjose-guilherme-vanz
p2031
sg19
I01
sg20
g354
sbsttp2032
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/hacking-vim-with-python.md
p2033
(F1492853219.8197095
(V<p>I'm happy vim user for a while now. After learned the basics I started customize\u000athe editor to my needs/preferences and for a long time everything were well. I\u000adid not face anything that I could not do and this is still true. However, when\u000aI became a more advanced user and decide to create more complex functions to help\u000ame while I work in my source code files, something discouraged me go ahead: the\u000avim language (VimL). Don't judge me, I could study it but I do not have time and\u000adesire to do that. So, for some time I do not create more interesting stuff because\u000aof that. But a short time ago I discovered that I could write python script to\u000ainteract with vim, like buffer, windows, tabs and so on! That's great!</p>\u000a<p>This article is about how create a very simple script to read data from buffer and\u000aupdate them. :-)</p>\u000a<p>Before you start write python script to do the magic in your vim buffer it is\u000anecessary take a look if you vim allow you use python. For that you can run the\u000a<code>vim --version</code> and see if your vim has python support. The output should show\u000asomething like <code>+python</code></p>\u000a<h3>Scripting</h3>\u000a<p>There are some way you can execute a python code in vim. You can use the commands:\u000a<code>:py[thon]</code>, <code>:pydo</code>, <code>:pyfile</code>. In this article I'll do a short description of\u000athem, but I'll use just <code>:pyfile</code> in the example.</p>\u000a<p>When you decide write the python script you can write it in a separated file\u000aor embedded it in your vimrc. If you do not want write file for you script you\u000acan use the <code>:[range]python</code> or</p>\u000a<div class="highlight"><pre><span></span>:[range]py[thon] &lt;&lt; {endmarker}\u000a{script}\u000a{endmarker}\u000a</pre></div>\u000a\u000a\u000a<p>The first option is useful if you want to execute a single python statement.\u000aFor example: <code>:python print "Python rocks!"</code>. The second way is more interesting,\u000ait is allows embedded the python code inside vim script. Take a look:</p>\u000a<div class="highlight"><pre><span></span>function! IcecreamInitialize()\u000apython3 &lt;&lt; EOF\u000aclass StrawberryIcecream:\u000a    def __call__(self):\u000a        print(&#39;EAT ME&#39;)\u000aice = StrawberryIcecream()\u000aice()\u000aEOF\u000aendfunction\u000a</pre></div>\u000a\u000a\u000a<p>Another option is the <code>[range]pydo {body}</code> command. It is a good option if the\u000ascript should be executed in each line of the range. In this command the <code>{body}</code>\u000ais executed as <code>def _vim_pydo(line, linenr) {body}</code>. Thus, the body script can\u000aget the line text and number from arguments. The function should return a string\u000aor None. If a string is returned the line is updated to that value. A possible\u000aexample is <code>:pydo return "%s\u005ct%d" % (line[::-1], len(line))</code></p>\u000a<p>Last but not least is the <code>:[range]pyf[ile] {file}</code> command. It allows load a\u000aseparated python file and call its function with <code>:py</code> command. This is the\u000acommand used to load the python script in the following example.</p>\u000a<h3>Vim module</h3>\u000a<p>To make possible the integration between python and vim there is a python module.\u000aThis module gives you the ability to interact with buffers, windows, tabs,\u000aexecute vim commands and so on. This module has a bunch of methods, constants\u000aand objects that might used for the scripts. This article will use just a few\u000aof the features available in the module. They are: <code>vim.command(str)</code>;\u000a<code>vim.current</code>; and <code>Buffer.mark()</code>.</p>\u000a<p>You can see a better documentation of the module typing <code>:help python</code> in you\u000avim editor.</p>\u000a<h3>Let's hack!</h3>\u000a<p>Let's dive deeper in the example. In this example the author of the script is\u000aa guy that has the boring job to write the current weather of bunch of cities\u000asitting in some file. Wisely he/she decided automate that process. (Yes, it is not\u000athe ideal real life use case but I am not a creative person, sorry... xD). So, after\u000asome time reading the documentation a python script was born:</p>\u000a<p>[gist:id=b02e61147a7f05a2a308b3d5b1d0d382,file=weather.py]</p>\u000a<p>It has the following features:</p>\u000a<ul>\u000a<li>function that will iterate over all rows of the current buffer\u000aand append the current weather for the city (the row's content is used as city's\u000aname)</li>\u000a<li>function that will use the selected text as city's and append the weather in\u000athe row of the selection</li>\u000a</ul>\u000a<p>Okay, let's take a closer look... The method <code>get_weather()</code> allow the user gets\u000athe weather for city names sitting on each line of the current buffer. It's nice\u000ato highlight the <code>vim.current</code> object. This object provides access to\u000avarious objects in vim. That is:</p>\u000a<ul>\u000a<li><code>vim.current.line</code>: current line (string)</li>\u000a<li><code>vim.current.buffer</code>: current buffer (Buffer object)</li>\u000a<li><code>vim.current.window</code>: current window (Window object)</li>\u000a<li><code>vim.current.tabpage</code>: current tab page (TabPage object)</li>\u000a<li><code>vim.current.range</code>: current line range (Range object)</li>\u000a</ul>\u000a<p>That been said, the line <code>buff = vim.current.buffer</code> is getting the current buffer\u000ato iterate and update it. After that, the script iterate over all buffer's rows\u000acalls the Open Weather API to get the weather using the row's content as city's\u000aname and update the row with the current value appended with the weather.</p>\u000a<p>The <code>get_weather_selection()</code> is the method that uses the selected text as city\u000ato call the weather API. In this method, again, a reference to the current\u000abuffer is gotten and used the <code>buf.mark()</code> method of the <code>Buffer</code> object to get\u000athe line and column of the start and end of the selection. In vim the marks "&lt;"\u000aand "&gt;" is used to define the beginning and end of the selected text respectively.</p>\u000a<p>Once we have the marks values the script calls a helper function who extract the\u000aselected text from the buffer and returns it. After that, the weather API is called\u000aand the weather is appended after the selection</p>\u000a<p>The <code>get_text(start, end)</code> and <code>get_openweather(city)</code> methods are helper methods.\u000aFirst one is able to extract text from the buffer using tuples of (line, column)\u000apassed as arguments to delimitate the text should be returned. The second one\u000ais just a call to the Open Weather API using the python request module.</p>\u000a<p>Once the script is done it can be loaded with the <code>pyf {file}</code> command.\u000aAs the script in discussion is a python3 code, it has to be load using the\u000aequivalent command to python3, that is: <code>py3file $HOME/.vim/weather.py</code>. After\u000aadded this line in the vimrc, it is ready to go and the methods can be called\u000awith:</p>\u000a<p><code>py3 get_weather()</code> or <code>:'&lt;,'&gt;py3 get_weather_selection()</code>.</p>\u000a<p>NOTE: be aware that there are equivalent commands, <code>py3</code>, <code>py3do</code> and <code>py3f</code> to\u000arun/load python3 code. See more in the python3 section in the vim documentation</p>\u000a<h4>Buffer</h4>\u000a<p>The most important object in the example is Buffer. Buffer objects can be treat\u000aas sequence object. Thus, they act like lists and are mutable and to update\u000aa row it is necessary just assign the new value,\u000a<code>vim.current.buffer[1] = "new value for the line 2"</code>. Remember, lists\u000aindexing start with 0 and the lines in a vim buffer with 1. In the script is\u000apossible see the lines being updated at lines 14 and 26.</p>\u000a<p>It is also possible delete lines, <code>:py del vim.current.buffer[1]</code> (delete the second\u000arow). Append new lines, <code>:py vim.current.buffer.append("bottom")</code>. Assign variables,\u000a<code>:py vim.current.buffer.vars["foo"] = "bar"</code>, and so on. You can see a complete\u000adescription with all methods and attribute with <code>:help python</code></p>\u000a<h3>Your turn</h3>\u000a<p>This is a very, very simple example of how you can start script vim with python.\u000aI encourage you to read the vim documentation, play with it and create crazy\u000astuff! =)</p>\u000a<p>If you need more info take a look in the references, send me an e-mail or leave\u000aa comment. Thanks you!</p>\u000a<h4>References</h4>\u000a<p><code>:help python</code> in your vim editor</p>\u000a<p><a href="https://github.com/jvanz/dotfiles/blob/master/.vim/weather.py">weather.py</a></p>\u000a<p><a href="http://old.orestis.gr/blog/2008/08/10/scripting-vim-with-python/">Scripting Vim with Python</a></p>
(dp2034
Vdate
p2035
g5
(S'\x07\xe1\x01\n\x167\x00\x00\x00\x00'
tRp2036
sVtitle
p2037
VHacking your vim with python
p2038
sVauthor
p2039
g10
(g11
g12
NtRp2040
(dp2041
g15
VJosé Guilherme Vanz
p2042
sg17
Vjose-guilherme-vanz
p2043
sg19
I01
sg20
g21
sbsVtags
p2044
(lp2045
g10
(g330
g12
NtRp2046
(dp2047
g15
Vvim
p2048
sg17
Vvim
p2049
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp2050
(dp2051
g15
Vpython
p2052
sg17
Vpython
p2053
sg19
I01
sg20
g21
sbasttp2054
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg.md
p2055
(F1492853219.8157091
(V<p>While I have not decided what it will be my first post about development stuff I'll post the text that me and my friend wrote to the The Document Foundation's blog. In that text we talked about out trip to LibreOffice hackfest in freiburg.\u000aFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg</p>\u000a<p>José Guilherme Vanz and Marcos Souza, LibreOffice development in Brazil</p>\u000a<p>Our first contact with the LibreOffice was in FISL 2012 (International Forum of Free Software, held in Porto Alegre, Brazil). Since then, we got quickly involved with the LibreOffice development community. Now we attend events in Brazil advocating to people about the better office suite ever done!\u000aMonths ago, after some time contributing to the project and participating in LibreOffice community, we, José Guilherme Vanz and Marcos Paulo de Souza were invited to participate in the Freiburg LibreOffice Hackfest. We were very happy and very excited! This invitation showed us that we were recognized for our humble work in the project and because this is a unique opportunity to work with people that we just know by mailing or IRC chats. So, we started the preparations of travel, such as paperwork, funds and a negotiation with our employers.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_01.jpg"></p>\u000a<p>We arrived in Germany thinking about how to learn more about LibreOffice code base, and learn some tips and tricks to code while contributing with the project. The guys at the hackfest work full time in the project, so we were very excited to improve our skills, including stuffs about how to make a nice hackfest and try setup one in Brazil!\u000aOur journey in Germany began in the beautiful city of Munich, where we stayed for two days. We met Christian Lohmaier, the current release engineer of LibreOffice project. He and Florian Effenberger were patient and generous to show Munich to us and all nice places of this nice city! Thanks a lot guys!\u000aThen we went to Freiburg, where the Hackfest was to start. The event took three days. We had the opportunity to meet some of the most famous mega developers! It was a very nice experience to link faces and names to IRC nicks, and of course, to question the \u201cpythons\u201d of the project in real time! Surely, we learned a lot in these 3 days!\u000aMarcos did some work in LibreOffice Math. The first was about including tooltips in the new Elements Dock. To solve this bug, we basically need to create some strings with the descriptions of each element in the Elements Dock. These strings are stored inside \u201c.src\u201d files. These files are \u201ccompiled\u201d and used by translators to translate each string to a specific language used in the user interface of LibreOffice. This fix was not difficult, just painful!\u000aThe second bug that Marcos worked was about to implement a scrollbar in the Elements Dock. We did not finish this fix because he had some doubts and some points that need some other fixes. Still in the event, we talked with some others hackers about other issues.\u000aI was focused trying to execute a static checker to detect some error prone code and fix them</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>After three days of hackfest, we started the \u201cHamburg Home Hacking Marathon\u201d! We stayed four days in Hamburg, coding in the house of LibreOffice enginners! Again, we had the pleasure to work with Eike Ratke, Michael Stahl, Stephan Bergmann and Bjoern Michaelsen. All of them willing to help us teaching about the code base and showing some tips.\u000aUsing our precious time with them, Marcos worked in the issue 60698 (https://bugs.freedesktop.org/show_bug.cgi?id=60698). This bug is about unify some shared libraries that are built by few files. Doing this we get a smaller library because these libraries are compiled and built just once, and by this we avoid the dispersion of shared libraries. Working in this bug, Marcos unified all shared libraries of IO module.\u000aMarcos tried yet to solve a bug in Calc, with the help of Eike as mentor. This bug was about ODS files using link to another sheets. By changing the referenced files, Calc was not allowed to update the data inside the file that was referencing. But, this bug was not so easy, and the problem was bigger than we thought. So we couldn\u2019t solve this bug in that time, and Eike removed the bug from the easy hacks.\u000aAnd I was still working in static checker. I started to look to a bug of Math, about the user interface. After some work, I fixed that bug!\u000aIn the third day, we went back to Stephan\u2019s place, trying to solve bugs and learn more! This day Bjoern went to Stephan\u2019s house too, totaling six guys programming in the same table! In this day Marcos worked in a bug(https://bugs.freedesktop.org/show_bug.cgi?id=63020) indicated by Bjoern. That bug was related to removing a class from LibreOffice. With Stephan\u2019s help, Marcos could remove that class and use a better approach in the code.\u000aAnd in the last day, we went again to Eike\u2019s home, where we enjoyed to last moments with the great developers of LibreOffice! We talked a little about their work and how they work daily.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>For sure, these days were very fruitful, and we learned a lot of things that we\u2019ll use in the future.\u000aWe came back to Brazil and we want to say a big THANK YOU for all of you guys! To the  Brazilian community, that welcomed us and keeps helping us. To The Document Foundation, who gave us this opportunity. To all developers that are helping us since we started in the project, specially YOU we met this wonderful German journey, and all people involved directly or indirectly in this amazing project!</p>\u000a<p>Source: http://blog.documentfoundation.org/2013/12/04/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg/</p>\u000a<p>Portuguese version: http://blog.pt-br.libreoffice.org/2013/12/09/do-brasil-para-a-alemanha-um-inesquecivel-hackfest-em-freiburg/</p>
(dp2056
Vdate
p2057
g5
(S'\x07\xde\x01\x18\x00\x00\x00\x00\x00\x00'
tRp2058
sVtitle
p2059
VFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg
p2060
sVtags
p2061
(lp2062
g10
(g330
g12
NtRp2063
(dp2064
g15
Vhackfest
p2065
sg17
Vhackfest
p2066
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2067
(dp2068
g15
Vlibreoffice
p2069
sg17
Vlibreoffice
p2070
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2071
(dp2072
g15
Vtravel
p2073
sg17
Vtravel
p2074
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2075
(dp2076
g15
Vgermany
p2077
sg17
Vgermany
p2078
sg19
I01
sg20
g354
sbasVauthor
p2079
g10
(g11
g12
NtRp2080
(dp2081
g15
VJosé Guilherme Vanz
p2082
sg17
Vjose-guilherme-vanz
p2083
sg19
I01
sg20
g354
sbsttp2084
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content/posts/tech/Logistic Regression.md
p2085
(F1492255010.7084544
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp2086
Vdate
p2087
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp2088
sVcategory
p2089
g10
(g666
g12
NtRp2090
(dp2091
g15
Vtech
p2092
sg17
Vtech
p2093
sg19
I01
sg20
g1695
sbsVtitle
p2094
VLogistic Regression
p2095
sVtags
p2096
(lp2097
g10
(g330
g12
NtRp2098
(dp2099
g15
Vmachinelearning
p2100
sg17
Vmachinelearning
p2101
sg19
I01
sg20
g1695
sbag10
(g330
g12
NtRp2102
(dp2103
g15
Vclassification
p2104
sg17
Vclassification
p2105
sg19
I01
sg20
g1695
sbasttp2106
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/build-your-own-malloc.md
p2107
(F1492853219.8157091
(V<p>Some time ago I bought the The Linux Programming Interface book, one of the best books I have acquired.\u000aOne of the first chapters I read were about memory allocation. At the end of the chapter, author offers some exercises\u000ato the reader. Among them there is a challenging one. He suggests to implement the equivalent to the malloc and free\u000afunctions. The challenge has been accepted!</p>\u000a<p>First of all, this implementation is just for study purposes. It means you should NOT start to implement your malloc and\u000afree functions for production programs. Do not reinvent the wheel! The glibc are being improved for decades for many\u000agreat guys. You probably will take more time to do the equivalent excellent work! ;)</p>\u000a<p>I assume that you know a little bit about how a process and its segments works. It is nice remember this code does not\u000acover all details. As any software it can be improved (a lot).</p>\u000a<h3>System calls</h3>\u000a<p>There are two system calls allows the program to increase the program break, <code>brk</code> and <code>sbrk</code>. The program break defines\u000awhere is the end of process's data segment. It means if the program increases the program break, memory is allocated.\u000aOtherwise, it deallocate memory. In this code only <code>sbrk</code> is used, its only parameter defines the amount of memory program wants\u000ato increase. If the program break has being increased successfully, a pointer to the beginning of the allocated memory is\u000areturned. Otherwise, (void*) -1 is returned. <code>brk</code> is not being used. It allows the program set the end of data segment to\u000athe pointer passed in the functions arguments. I think this function is not being in use because the code does not decrease\u000athe program break. Maybe in the future I implement this feature and use the <code>brk</code> system call.</p>\u000a<p>For more details, take a look in the man page. ;)</p>\u000a<h3>Code</h3>\u000a<p>[gist:id=ba82bdd0dfeb44c260aa,file=memory.c]</p>\u000a<p>The cornerstone of the code is a linked list, called <code>free_list</code>. It stores all available memories blocks. Each element is\u000acomposed for a header and the memory itself. The header is a structure that contains two metadata. The first field of the\u000astruct is block's size and the second is a pointer to next memory block in the <code>free_list</code>. The first thing necessary\u000awhen a program request some memory is check if the <code>free_list</code> is already initialized (line 29). If not, it is initiated\u000awith a block of 0 size (lines 29 ~ 36). This is done to keep the first element in the list always the same. Thus, it is more easy to know\u000awhen stop a loop through the list and reduce the code complexity.</p>\u000a<p><img alt="" src="{filename}/images/mem_init.png"></p>\u000a<p>Once <code>free_list</code> initiated, a search in the list is performed. Looking for a memory block with enough size to attempt the\u000arequest. The algorithm follows the 'first fit' approach. It means that the first memory block found with enough size is\u000asplit and returned a pointer to the memory to the caller (lines 38 ~ 53). If any block has enough size, the heap is increased and the\u000anew memory is returned (line 55). The pointer returned to the user is a pointer to the memory block itself. It is\u000anot include the header. Does not make sense give to caller  access to the control structures. This structure is used only\u000afor memory management and to know what is the memory block size when the program wants to frees it.</p>\u000a<p><img alt="" src="{filename}/images/one_mem_allocate.png"></p>\u000a<p>As you can see between lines 26 and 28, all memory blocks are multiple of the header size. It means the minimum\u000amemory size allocated is the HEADER_SIZE * 2 (with the header). This approach facilitate the pointer arithmetic and avoid\u000acounting every single byte. In other words, even if the user requests less memory, the allocated memory will be always\u000amultiple of the HEADER_SIZE.</p>\u000a<p>When the user wants to free a pointer, another search in the <code>free_list</code> is performed. This time, looking for a memory block\u000anext the to the block is being freed. If a block is found, the two blocks are merged into one (lines 64 ~ 77). Otherwise,\u000athe block is appended in the list (lines 78 ~ 80). The goal of merge close blocks is avoid memory fragmentation. ;)</p>\u000a<p>According to my weak skill in asymptotic analysis, both functions have running time of O(n). Since each functions performed\u000aa search in the <code>free_list</code>. Please, tell me if I am wrong. I will study more about this topic and correct if I wrote\u000abullshit. The following sources are the header and a test program.</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=memory.h]</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=sample.c]</p>\u000a<p>Feel free to ask me in the comments. =]</p>\u000a<h4>References</h4>\u000a<p><a href="http://linux.die.net/man/2/sbrk">brk, sbrk</a></p>\u000a<p><a href="http://www.amazon.com/Linux-Programming-Interface-System-Handbook/dp/1593272200/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501399&amp;sr=1-1&amp;keywords=the+linux+programming+interface">The Linux Programing Interface</a></p>\u000a<p><a href="http://www.amazon.com/Programming-Language-Brian-W-Kernighan/dp/0131103628/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501445&amp;sr=1-1&amp;keywords=the+c+programming+language">The C Programming Language</a></p>\u000a<p><a href="https://github.com/jvanz/tlpi">Repository</a></p>
(dp2108
Vdate
p2109
g5
(S'\x07\xdf\x0b\x1a\x00\x08\x00\x00\x00\x00'
tRp2110
sVtitle
p2111
Vmalloc/free implementation. Just4Fun!
p2112
sVtags
p2113
(lp2114
g10
(g330
g12
NtRp2115
(dp2116
g15
Vc
sg17
Vc
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp2117
(dp2118
g15
Vtlpi
p2119
sg17
Vtlpi
p2120
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp2121
(dp2122
g15
Vglibc
p2123
sg17
Vglibc
p2124
sg19
I01
sg20
g21
sbag10
(g330
g12
NtRp2125
(dp2126
g15
Vmemory
p2127
sg17
Vmemory
p2128
sg19
I01
sg20
g21
sbasVmodified
p2129
g5
(S'\x07\xe0\x01\x18\x16\x16\x00\x00\x00\x00'
tRp2130
sVauthor
p2131
g10
(g11
g12
NtRp2132
(dp2133
g15
VJosé Guilherme Vanz
p2134
sg17
Vjose-guilherme-vanz
p2135
sg19
I01
sg20
g21
sbsttp2136
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/git_partial_commit.md
p2137
(F1492853219.8197095
(V<p>This post will demonstrate one of many cool features available in Git, partial commit. This feature allows add just\u000asome hunk of a file leaving other ones for future commit.</p>\u000a<p>Let's suppose in a project there is the following source code:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>\u000a\u000a<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">foo</span><span class="p">();</span>\u000a    <span class="n">bar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">()</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s foo function here</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s bar function here. Wow! You send me a %d... it&#39;s such a number! ;)</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>In this brand new repository there is only one commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_1.png"></p>\u000a<p>And the first change is made:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_2.png"></p>\u000a<p>Suppose a colleague requests another update in same file. He/She asks to change the name of the <code>foo()</code> function to\u000a<code>xpto()</code>. So after both changes the diff is:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_3.png"></p>\u000a<p>Nice, now it's time to commit the changes. However, it's necessary commit each hunk in different commits. Fortunately\u000agit has a feature that will help on this situation. The commands <code>git add</code> and <code>git commit</code> allows user to select which\u000ahunks of a file should be added. This is done by passing the <code>-p, --patch</code> option. In our example, let's use <code>git commit</code>\u000ato choose the hunks should be added in first commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_4.png"></p>\u000a<p>As can be seen, git shows each hunk and asks the user for what should be done with it. The options are: [y,n,q,a,d,/,s,e,?].\u000aTo see help text, type <code>?</code>. The following text shall be shown:</p>\u000a<div class="highlight"><pre><span></span>y - stage this hunk\u000an - do not stage this hunk\u000aq - quit; do not stage this hunk or any of the remaining ones\u000aa - stage this hunk and all later hunks in the file\u000ad - do not stage this hunk or any of the later hunks in the file\u000ag - select a hunk to go to\u000a/ - search for a hunk matching the given regex\u000aj - leave this hunk undecided, see next undecided hunk\u000aJ - leave this hunk undecided, see next hunk\u000ak - leave this hunk undecided, see previous undecided hunk\u000aK - leave this hunk undecided, see previous hunk\u000as - split the current hunk into smaller hunks\u000ae - manually edit the current hunk\u000a? - print help\u000a</pre></div>\u000a\u000a\u000a<p>In this example, it shown the first file's hunk. In the first commit, should be\u000acommitted the changes related with function <code>bar()</code> only. The this hunk must be\u000aignored. Thus, the option <code>n</code> is the right one.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_5.png"></p>\u000a<p>In the following, git shows all further changes as an unique hunk. It's necessary\u000asplit them the smaller hunks. For do that, there is two options: <code>s</code> and <code>e</code>.\u000aThe first one tells git to split the hunk into smaller pieces. The <code>e</code> option,\u000ain the other hand, allows user choose manually each lines should added. In this\u000apost the go with option <code>s</code>. Git should shown something similar to this:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_6.png"></p>\u000a<p>The previous hunk has been split into 3 hunks. Git now will iterate all of them\u000aasking the user what should be done with each one. The first hunk should also be\u000aignored. The second one is the first change related with the function <code>bar()</code> and\u000ashould be added. To that task, the <code>y</code> is the right command.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_7.png"></p>\u000a<p>Third hunk should be added too</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_8.png"></p>\u000a<p>Once there are no more hunks, as we used the <code>git commit</code> command, the editor\u000awill be open to the user insert the commit message. That's it.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_9.png"></p>\u000a<p>Now with the first commit contains the only the changes within <code>bar()</code> function,\u000afurther hunks might be committed in the second commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_10.png"></p>\u000a<p>I hope you have enjoyed the tip. ;)</p>
(dp2138
Vdate
p2139
g5
(S'\x07\xe0\x01\x1c\x00\x00\x00\x00\x00\x00'
tRp2140
sVtitle
p2141
VGit: partial commit
p2142
sVtags
p2143
(lp2144
g10
(g330
g12
NtRp2145
(dp2146
g15
Vgit
p2147
sg17
Vgit
p2148
sg19
I01
sg20
g354
sbasVauthor
p2149
g10
(g11
g12
NtRp2150
(dp2151
g15
VJosé Guilherme Vanz
p2152
sg17
Vjose-guilherme-vanz
p2153
sg19
I01
sg20
g354
sbsttp2154
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/git_partial_commit.md
p2155
(F1492853219.8197095
(V<p>This post will demonstrate one of many cool features available in Git, partial commit. This feature allows add just\u000asome hunk of a file leaving other ones for future commit.</p>\u000a<p>Let's suppose in a project there is the following source code:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>\u000a\u000a<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">foo</span><span class="p">();</span>\u000a    <span class="n">bar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">()</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s foo function here</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s bar function here. Wow! You send me a %d... it&#39;s such a number! ;)</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>In this brand new repository there is only one commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_1.png"></p>\u000a<p>And the first change is made:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_2.png"></p>\u000a<p>Suppose a colleague requests another update in same file. He/She asks to change the name of the <code>foo()</code> function to\u000a<code>xpto()</code>. So after both changes the diff is:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_3.png"></p>\u000a<p>Nice, now it's time to commit the changes. However, it's necessary commit each hunk in different commits. Fortunately\u000agit has a feature that will help on this situation. The commands <code>git add</code> and <code>git commit</code> allows user to select which\u000ahunks of a file should be added. This is done by passing the <code>-p, --patch</code> option. In our example, let's use <code>git commit</code>\u000ato choose the hunks should be added in first commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_4.png"></p>\u000a<p>As can be seen, git shows each hunk and asks the user for what should be done with it. The options are: [y,n,q,a,d,/,s,e,?].\u000aTo see help text, type <code>?</code>. The following text shall be shown:</p>\u000a<div class="highlight"><pre><span></span>y - stage this hunk\u000an - do not stage this hunk\u000aq - quit; do not stage this hunk or any of the remaining ones\u000aa - stage this hunk and all later hunks in the file\u000ad - do not stage this hunk or any of the later hunks in the file\u000ag - select a hunk to go to\u000a/ - search for a hunk matching the given regex\u000aj - leave this hunk undecided, see next undecided hunk\u000aJ - leave this hunk undecided, see next hunk\u000ak - leave this hunk undecided, see previous undecided hunk\u000aK - leave this hunk undecided, see previous hunk\u000as - split the current hunk into smaller hunks\u000ae - manually edit the current hunk\u000a? - print help\u000a</pre></div>\u000a\u000a\u000a<p>In this example, it shown the first file's hunk. In the first commit, should be\u000acommitted the changes related with function <code>bar()</code> only. The this hunk must be\u000aignored. Thus, the option <code>n</code> is the right one.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_5.png"></p>\u000a<p>In the following, git shows all further changes as an unique hunk. It's necessary\u000asplit them the smaller hunks. For do that, there is two options: <code>s</code> and <code>e</code>.\u000aThe first one tells git to split the hunk into smaller pieces. The <code>e</code> option,\u000ain the other hand, allows user choose manually each lines should added. In this\u000apost the go with option <code>s</code>. Git should shown something similar to this:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_6.png"></p>\u000a<p>The previous hunk has been split into 3 hunks. Git now will iterate all of them\u000aasking the user what should be done with each one. The first hunk should also be\u000aignored. The second one is the first change related with the function <code>bar()</code> and\u000ashould be added. To that task, the <code>y</code> is the right command.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_7.png"></p>\u000a<p>Third hunk should be added too</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_8.png"></p>\u000a<p>Once there are no more hunks, as we used the <code>git commit</code> command, the editor\u000awill be open to the user insert the commit message. That's it.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_9.png"></p>\u000a<p>Now with the first commit contains the only the changes within <code>bar()</code> function,\u000afurther hunks might be committed in the second commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_10.png"></p>\u000a<p>I hope you have enjoyed the tip. ;)</p>
(dp2156
Vdate
p2157
g5
(S'\x07\xe0\x01\x1c\x00\x00\x00\x00\x00\x00'
tRp2158
sVtitle
p2159
VGit: partial commit
p2160
sVauthor
p2161
g10
(g11
g12
NtRp2162
(dp2163
g15
VJosé Guilherme Vanz
p2164
sg17
Vjose-guilherme-vanz
p2165
sg19
I01
sg20
g21
sbsVtags
p2166
(lp2167
g10
(g330
g12
NtRp2168
(dp2169
g15
Vgit
p2170
sg17
Vgit
p2171
sg19
I01
sg20
g21
sbasttp2172
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/recovering-missed-data-from-stash.md
p2173
(F1492853219.8197095
(V<p>Today my colleague almost lost everything that he did during 4 days! Because  a wrong git command he dropped his changes saved on stash.\u000aAfter this sad episode we looked for a way to try to recover as least part of his work... and we did it!</p>\u000a<p>First of all, when you are implementing some big feature, split it in small pieces and commit it regularly. It's not a good idea stay so long time without commit your changes,  so take care.</p>\u000a<p>Let's simulate a scenario to show what you can do when you lost some changes dropped from stash.\u000aOn our repository we have only one source file, main.c. We will use it to demonstrate the problem and the solution... so, our repository now is been like this:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_01.jpeg"></p>\u000a<p>and he have only an commit, the initial commit:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_02.jpeg"></p>\u000a<p>The first version of out file is:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_03.jpeg"></p>\u000a<p>So, let's start to code something. For this example, we do not need some big change, is only something to put in the stash. For this, I just will add a new line. The git-diff output should be:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_04.jpeg"></p>\u000a<p>Now, suppose that you have to pull some new changes from remote repository and you do not want to commit you changes. Thus, you decided to stashed your changes, pull the changes from remote repository\u000aand apply your changes again on the master.  For this, you execute the following command to move your changes to stash:</p>\u000a<p><code>git stash</code></p>\u000a<p>Looking into the stash we can see our changes there:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_06.jpeg"></p>\u000a<p>Now our code is in a safe place and the master branch is clean ( check with <code>git status</code>) and you can pull the changes. After pulled the changes, it's time to apply your changes again on the master.\u000aBut accidentally you execute</p>\u000a<p><code>git stash drop</code></p>\u000a<p>instead of:</p>\u000a<p><code>git stash pop</code></p>\u000a<p>and now, if you execute <code>git stash list</code> again, you can see that you dropped changes from the stash and does not apply them again on the master branch. OMG! Who can help us?\u000aAs you will seen soon git did not delete the object that contains your changes. It just remove the reference to it.\u000aTo prove this you can used the <code>git-fsck</code> command, this command verifies the connectivity and validity of the objects in the database.\u000aOn the begin of the repository I executed the <code>git-fsck</code> command and the output were:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_07.jpeg"></p>\u000a<p>Basically, I asked <code>git-fsck</code> show me the objects that are unreachable ( <code>--unreachable</code> argument ). As you can see, it didn't show any unreachable object.\u000aAfter I dropped the changes on my stash I executed the same command, and the output was different:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_08.jpeg"></p>\u000a<p>Now, we can see 3 unreachable objects. But which is our changes? Actually, I don't know. We have to search for it, for this job you can execute the <code>git-show</code> command for visualize what are each objects.</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_09.jpeg"></p>\u000a<p>There it is! The ID 95ccbd927ad4cd413ee2a28014c81454f4ede82c is our changes. Ok, we found your missed changes. Let's recover it!\u000aAn possible solution is checkout the ID into a new branch or apply the commit directly. Once you have the ID of the object with your changes is up to you decide what is the best way to put changes on the master branch again.\u000aFor this example I will use the <code>git-stash</code> to apply the commit on my master branch again.</p>\u000a<p><code>git stash apply 95ccbd927ad4cd413ee2a28014c81454f4ede82c</code></p>\u000a<p>A important thing to remember, git run its garbage collector periodically. After the gc execution you cannot see more the unreachable objects using <code>git-fsck</code>. ;)</p>
(dp2174
Vdate
p2175
g5
(S'\x07\xde\x02\x0f\x00\x00\x00\x00\x00\x00'
tRp2176
sVtitle
p2177
VRecovering missed data from stash
p2178
sVtags
p2179
(lp2180
g10
(g330
g12
NtRp2181
(dp2182
g15
Vgit
p2183
sg17
Vgit
p2184
sg19
I01
sg20
g354
sbasVauthor
p2185
g10
(g11
g12
NtRp2186
(dp2187
g15
VJosé Guilherme Vanz
p2188
sg17
Vjose-guilherme-vanz
p2189
sg19
I01
sg20
g354
sbsttp2190
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/cgo-go-lang-with-c.md
p2191
(F1492853219.8157091
(V<p>Some weeks ago I had to customize the <a href="https://www.docker.com/">Docker</a> to integrate it with some libraries written and C.\u000aMaybe you already know Docker is written in Go language and to do this task was used <a href="https://golang.org/cmd/cgo/">cgo</a>\u000aCgo enables integrate Go code with C. It shows itself easier and smooth comparing with my past experiences with JNI</p>\u000a<h2>Hello World!</h2>\u000a<p>To start let's code the old but gold hello world program. In the first example the program will just print a string that is returned by a C function.\u000aAs you can see in the following snippet, cgo allows to put C code inside the Go source code. The only thing has to do is import the pseudo-package <code>C</code>.\u000aThe comments before this import is a C code that will be compiled as a header.</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="c1">//char* get_msg(){</span>\u000a<span class="c1">//      return &quot;Hello Go!&quot;;</span>\u000a<span class="c1">//}</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="kd">var</span> <span class="nx">msg</span> <span class="p">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">get_msg</span><span class="p">()</span>\u000a    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">GoString</span><span class="p">(</span><span class="nx">msg</span><span class="p">))</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h2>More funny program</h2>\u000a<p>To make the things more funny, the next program will write the command line arguments to a file. Take a look the code:</p>\u000a<div class="highlight"><pre><span></span><span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">FILE *file;</span>\u000a\u000a<span class="cm">int finish() {</span>\u000a<span class="cm">    fflush(file);</span>\u000a<span class="cm">    fclose(file);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int init(const char* file_name) {</span>\u000a<span class="cm">    if (file){</span>\u000a<span class="cm">        finish();</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    file = fopen(file_name, &quot;w+&quot;);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int write_file(const char* data, size_t len) {</span>\u000a<span class="cm">    if (!file){</span>\u000a<span class="cm">        printf(&quot;File is not open&quot;);</span>\u000a<span class="cm">        return 1;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    if (fwrite(data, sizeof(char), len, file)) {</span>\u000a<span class="cm">        return 0;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    printf(&quot;Error on writing...&quot;);</span>\u000a<span class="cm">    return 1;</span>\u000a\u000a<span class="cm">}</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;unsafe&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">cs</span> <span class="o">:=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="s">&quot;\u005cn&quot;</span><span class="p">)</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">cs</span><span class="p">,</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">free</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nx">Pointer</span><span class="p">(</span><span class="nx">cs</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>The program requires at least two arguments. The first one is the path for a file where the program will write the other arguments.\u000aThe code is quite simple. Go code uses three C functions to create, write and close a file. The C functions are:</p>\u000a<ul>\u000a<li><code>init(const char* file_name)</code>: function creates the file</li>\u000a<li><code>finish()</code>: function flushes the data and closes the file</li>\u000a<li><code>write_file(const char* data, size_t len)</code>: writes <code>len</code> chars from string <code>data</code> in the file</li>\u000a</ul>\u000a<p>In the beginning the Go code uses the <code>init</code> function to create the file. After that, the program walks through other arguments writing each of them\u000ain a file line. In the end, the program calls <code>finish</code> function to close the file. Nothing so special, but illustrate how you can use cgo.\u000aThe C code written inside Go source code is used as a header. You can see the static library within <code>$GOPATH/pkg/&lt;package name&gt;</code></p>\u000a<p>It is important to remember that Go memory manager does not knows C variables and its allocated memory blocks. Thus, the programmer must to remember to free the allocated C string. Like it is being\u000adoing in the lines <code>C.free(unsafe.Pointer(cs))</code>. Otherwise, you will have memory leak issues.</p>\u000a<p>Furthermore, when some Go source file contains the special import "C" the Go tool looks for .c, .cpp, .cc and others files types in the same source code file directory. Then it compiles them with the default C/C++ compiler.\u000aSo you might do this:</p>\u000a<p>writer.go:</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">extern int finish();</span>\u000a<span class="cm">extern int init(const char* file_name);</span>\u000a<span class="cm">extern int write_file(const char* data, size_t len);</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s">&quot;\u005cn&quot;</span><span class="p">),</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>writer.c:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">FILE</span> <span class="o">*</span><span class="n">file</span><span class="p">;</span>\u000a\u000a<span class="kt">int</span> <span class="nf">finish</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="n">fflush</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a    <span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">file_name</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">finish</span><span class="p">();</span>\u000a    <span class="p">}</span>\u000a    <span class="n">file</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">&quot;w+&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">write_file</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;File is not open&quot;</span><span class="p">);</span>\u000a        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">fwrite</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span> <span class="n">len</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span> <span class="p">{</span>\u000a        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Error on writing...&quot;</span><span class="p">);</span>\u000a    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h4>Note</h4>\u000a<p>This post is very, very, very simple. If you would like know more see the references below.</p>\u000a<h5>References</h5>\u000a<p><a href="https://golang.org/cmd/cgo/">cgo</a></p>\u000a<p><a href="http://blog.golang.org/c-go-cgo">C? Go? Cgo!</a></p>
(dp2192
Vdate
p2193
g5
(S'\x07\xdf\t\x16\x00\x00\x00\x00\x00\x00'
tRp2194
sVtitle
p2195
Vcgo: Go lang with C
p2196
sVtags
p2197
(lp2198
g10
(g330
g12
NtRp2199
(dp2200
g15
Vgolang
p2201
sg17
Vgolang
p2202
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2203
(dp2204
g15
Vcgo
p2205
sg17
Vcgo
p2206
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2207
(dp2208
g15
Vc
sg17
Vc
sg19
I01
sg20
g354
sbasVauthor
p2209
g10
(g11
g12
NtRp2210
(dp2211
g15
VJosé Guilherme Vanz
p2212
sg17
Vjose-guilherme-vanz
p2213
sg19
I01
sg20
g354
sbsttp2214
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/multivariate-linearregression.md
p2215
(F1492853219.8197095
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp2216
Vdate
p2217
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp2218
sVcategory
p2219
g10
(g666
g12
NtRp2220
(dp2221
g15
Vtech
p2222
sg17
Vtech
p2223
sg19
I01
sg20
g354
sbsVtitle
p2224
VUnderstanding Multivariate Linear Regression
p2225
sVtags
p2226
(lp2227
g10
(g330
g12
NtRp2228
(dp2229
g15
Vmachinelearning
p2230
sg17
Vmachinelearning
p2231
sg19
I01
sg20
g354
sbag10
(g330
g12
NtRp2232
(dp2233
g15
Vregression
p2234
sg17
Vregression
p2235
sg19
I01
sg20
g354
sbasttp2236
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content/posts/tech/multivariate-linearregression.md
p2237
(F1492239777.8438642
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp2238
Vdate
p2239
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp2240
sVcategory
p2241
g10
(g666
g12
NtRp2242
(dp2243
g15
Vtech
p2244
sg17
Vtech
p2245
sg19
I01
sg20
g1377
sbsVtitle
p2246
VUnderstanding Multivariate Linear Regression
p2247
sVtags
p2248
(lp2249
g10
(g330
g12
NtRp2250
(dp2251
g15
Vmachinelearning
p2252
sg17
Vmachinelearning
p2253
sg19
I01
sg20
g1377
sbag10
(g330
g12
NtRp2254
(dp2255
g15
Vregression
p2256
sg17
Vregression
p2257
sg19
I01
sg20
g1377
sbasttp2258
s.