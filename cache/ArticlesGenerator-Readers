(dp1
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/multivariate-linearregression.md
p2
(F1492853219.8197095
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp3
Vdate
p4
cpelican.utils
SafeDatetime
p5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp6
sVcategory
p7
ccopy_reg
_reconstructor
p8
(cpelican.urlwrappers
Category
p9
c__builtin__
object
p10
NtRp11
(dp12
S'_name'
p13
Vtech
p14
sS'_slug'
p15
Vtech
p16
sS'_slug_from_name'
p17
I01
sS'settings'
p18
(dp19
VIGNORE_FILES
p20
(lp21
V.#*
p22
asVPAGE_ORDER_BY
p23
Vbasename
p24
sS'ARTICLE_TWEET_BUTTON'
p25
I00
sVWITH_FUTURE_DATES
p26
I01
sVCATEGORY_SAVE_AS
p27
Vcategory/{slug}.html
p28
sS'LINKS'
p29
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp30
sVARTICLE_ORDER_BY
p31
Vreversed-date
p32
sVDEFAULT_LANG
p33
Ven
p34
sVCACHE_CONTENT
p35
I01
sVPAGE_LANG_SAVE_AS
p36
Vpages/{slug}-{lang}.html
p37
sVDRAFT_SAVE_AS
p38
Vdrafts/{slug}.html
p39
sVPAGE_PATHS
p40
(lp41
Vpages
p42
asVDEFAULT_PAGINATION
p43
I8
sVDOCUTILS_SETTINGS
p44
(dp45
S'math_output'
p46
S'MathJax'
p47
ssVLOAD_CONTENT_CACHE
p48
I01
sVSTATIC_PATHS
p49
(lp50
Vimages
p51
aVextras
p52
aVfiles
p53
asVDAY_ARCHIVE_SAVE_AS
p54
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p55
sVARTICLE_LANG_URL
p56
V{slug}-{lang}.html
p57
sVSLUGIFY_SOURCE
p58
Vtitle
p59
sVSTATIC_URL
p60
V{path}
p61
sVCATEGORY_FEED_ATOM
p62
NsVOUTPUT_SOURCES
p63
I00
sVPAGINATED_DIRECT_TEMPLATES
p64
(lp65
Vindex
p66
asVTYPOGRIFY_IGNORE_TAGS
p67
(lp68
S'.math'
p69
aS'script'
p70
asVSTATIC_EXCLUDES
p71
(lp72
sVTAG_URL
p73
Vtag/{slug}.html
p74
sVARTICLE_PATHS
p75
(lp76
Vposts
p77
asVGZIP_CACHE
p78
I00
sVFILENAME_METADATA
p79
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p80
sVDEFAULT_ORPHANS
p81
I1
sVPELICAN_CLASS
p82
Vpelican.Pelican
p83
sVCACHE_PATH
p84
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p85
sVINDEX_SAVE_AS
p86
Vindex.html
p87
sVINTRASITE_LINK_REGEX
p88
V[{|](?P<what>.*?)[|}]
p89
sVDISPLAY_PAGES_ON_MENU
p90
I00
sS'COLOPHON_TITLE'
p91
VAbout
p92
sS'ARCHIVES_SAVE_AS'
p93
Vblog/index.html
p94
sS'RESPONSIVE_IMAGES'
p95
I01
sS'AUTHOR'
p96
VRahul Pathak
p97
sS'MARKUP'
p98
(Vrst
Vhtml
tp99
sVDISPLAY_CATEGORIES_ON_MENU
p100
I01
sVCHECK_MODIFIED_METHOD
p101
Vmtime
p102
sVARTICLE_EXCLUDES
p103
(lp104
g42
asVDEFAULT_DATE_FORMAT
p105
V%a %d %B %Y
p106
sVTRANSLATION_FEED_ATOM
p107
NsVPLUGINS
p108
(lp109
Vassets
p110
aVrelated_posts
p111
aVextract_toc
p112
aVpost_stats
p113
aVseries
p114
aVrender_math
p115
aVsitemap
p116
asVTYPOGRIFY
p117
I01
sS'TRANSLATION_FEED_RSS'
p118
NsVEXTRA_TEMPLATES_PATHS
p119
(lp120
sVMARKDOWN
p121
(dp122
Vextension_configs
p123
(dp124
Vmarkdown.extensions.extra
p125
(dp126
sVmarkdown.extensions.codehilite
p127
(dp128
Vcss_class
p129
Vhighlight
p130
ssVmarkdown.extensions.meta
p131
(dp132
ssS'extensions'
p133
(lp134
g8
(crender_math.pelican_mathjax_markdown_extension
PelicanMathJaxExtension
p135
g10
NtRp136
(dp137
S'mathjax_needed'
p138
I00
sbag125
ag127
ag131
asVoutput_format
p139
Vhtml5
p140
ssVOUTPUT_RETENTION
p141
(lp142
sS'COLOPHON'
p143
I01
sS'PROFILE_IMAGE'
p144
Vsigma-black.svg
p145
sVPAGE_LANG_URL
p146
Vpages/{slug}-{lang}.html
p147
sS'DEFAULT_PAGESCHEMA'
p148
VBlogPost
p149
sVTHEME
p150
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p151
sVUSE_FOLDER_AS_CATEGORY
p152
I01
sVJINJA_ENVIRONMENT
p153
(dp154
Vextensions
p155
(lp156
cwebassets.ext.jinja2
AssetsExtension
p157
asVlstrip_blocks
p158
I01
sVtrim_blocks
p159
I01
ssVDEBUG
p160
I01
sVREVERSE_CATEGORY_ORDER
p161
I00
sVRELATIVE_URLS
p162
I00
sVDATE_FORMATS
p163
(dp164
sVSITEURL
p165
Vhttp://localhost:8000
p166
sVCONTENT_CACHING_LAYER
p167
Vreader
p168
sS'SOCIAL'
p169
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp170
sVNEWEST_FIRST_ARCHIVES
p171
I01
sS'SITE_TITLE'
p172
VRahul Pathak Blog
p173
sS'COPYRIGHT_UNTIL'
p174
I2017
sVPATH_METADATA
p175
V
sVTEMPLATE_PAGES
p176
(dp177
sVFEED_DOMAIN
p178
g166
sVDIRECT_TEMPLATES
p179
(lp180
g66
aVtags
p181
aVcategories
p182
aVauthors
p183
aVarchives
p184
asVLOG_FILTER
p185
(lp186
sS'SITE_DESCRIPTION'
p187
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p188
sVAUTHOR_FEED_RSS
p189
Vfeeds/%s.rss.xml
p190
sS'TIMEZONE'
p191
VAmerica/Vancouver
p192
sVDRAFT_URL
p193
Vdrafts/{slug}.html
p194
sVPAGE_EXCLUDES
p195
(lp196
g77
asVTAG_SAVE_AS
p197
Vtag/{slug}.html
p198
sVEXTRA_PATH_METADATA
p199
(dp200
Vextras/.htaccess
p201
(dp202
Vpath
p203
V.htaccess
p204
ssVextras/google9b8f9c7f2338fb3e.html
p205
(dp206
g203
Vgoogle9b8f9c7f2338fb3e.html
p207
ssVextras/favicon.ico
p208
(dp209
g203
Vfavicon.ico
p210
ssVextras/robots.txt
p211
(dp212
g203
Vrobots.txt
p213
sssVDEFAULT_CATEGORY
p214
Vmisc
p215
sVDRAFT_LANG_URL
p216
Vdrafts/{slug}-{lang}.html
p217
sVOUTPUT_SOURCES_EXTENSION
p218
V.text
p219
sVPAGINATION_PATTERNS
p220
(lp221
g8
(cpelican.paginator
PaginationRule
p222
c__builtin__
tuple
p223
(I0
V{name}{number}{extension}
p224
V{name}{number}{extension}
p225
ttRp226
asVSTATIC_EXCLUDE_SOURCES
p227
I01
sVJINJA_FILTERS
p228
(dp229
Vmonth_name
p230
cpelicanconf
month_name
p231
sVtagsort
p232
cpelicanconf
tagsort
p233
sVsidebar_date_format
p234
cpelicanconf
sidebar_date_format
p235
sVarchive_date_format
p236
cpelicanconf
archive_date_format
p237
sVdump
p238
cpelicanconf
dump
p239
ssVARTICLE_SAVE_AS
p240
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p241
sVYEAR_ARCHIVE_SAVE_AS
p242
Vblog/{date:%Y}/index.html
p243
sVCSS_FILE
p244
Vmain.css
p245
sVAUTHOR_URL
p246
Vauthor/{slug}.html
p247
sVCATEGORY_URL
p248
Vcategory/{slug}.html
p249
sS'SITEMAP'
p250
(dp251
Vchangefreqs
p252
(dp253
Varticles
p254
Vweekly
p255
sg42
Vmonthly
p256
sVindexes
p257
Vdaily
p258
ssVpriorities
p259
(dp260
g254
F0.80000000000000004
sg42
F0.5
sg257
F0.69999999999999996
ssVformat
p261
Vxml
p262
ssVSUMMARY_MAX_LENGTH
p263
I60
sVSLUG_SUBSTITUTIONS
p264
(tsS'RELATED_POSTS_MAX'
p265
I4
sVFORMATTED_FIELDS
p266
(lp267
Vsummary
p268
asVTHEME_STATIC_PATHS
p269
(lp270
Vstatic
p271
asS'CATEGORY_FEED_RSS'
p272
NsVTHEME_STATIC_DIR
p273
Vtheme
p274
sVDRAFT_LANG_SAVE_AS
p275
Vdrafts/{slug}-{lang}.html
p276
sS'FEED_ALL_RSS'
p277
NsVREADERS
p278
(dp279
sVLOCALE
p280
(lp281
V
asVWRITE_SELECTED
p282
(lp283
sVDELETE_OUTPUT_DIRECTORY
p284
I00
sVFEED_MAX_ITEMS
p285
V
sVPATH
p286
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p287
sVPAGE_URL
p288
Vpages/{slug}.html
p289
sVSITENAME
p290
VSummations
p291
sVARTICLE_PERMALINK_STRUCTURE
p292
V
sS'COLOPHON_CONTENT'
p293
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p294
sVARTICLE_URL
p295
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p296
sS'SITESCHEME'
p297
Vhttps
p298
sVMONTH_ARCHIVE_SAVE_AS
p299
Vblog/{date:%Y}/{date:%m}/index.html
p300
sVDEFAULT_METADATA
p301
(dp302
sVRSS_FEED_SUMMARY_ONLY
p303
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p304
I00
sVPLUGIN_PATHS
p305
(lp306
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p307
asVFEED_ALL_ATOM
p308
NsVSTATIC_SAVE_AS
p309
g61
sVAUTHOR_SAVE_AS
p310
I00
sVPYGMENTS_RST_OPTIONS
p311
(dp312
sVAUTHOR_FEED_ATOM
p313
Vfeeds/%s.atom.xml
p314
sVARTICLE_LANG_SAVE_AS
p315
g57
sVPAGE_SAVE_AS
p316
Vpages/{slug}.html
p317
sS'OPEN_GRAPH_METADATA'
p318
I01
sVOUTPUT_PATH
p319
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p320
sVDEFAULT_STATUS
p321
Vpublished
p322
sS'DISQUS_SITENAME'
p323
Vrahulpathakml
p324
sS'COPYRIGHT_FROM'
p325
I1998
ssbsVtags
p326
(lp327
g8
(cpelican.urlwrappers
Tag
p328
g10
NtRp329
(dp330
g13
Vmachinelearning
p331
sg15
Vmachinelearning
p332
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp333
(dp334
g13
Vregression
p335
sg15
Vregression
p336
sg17
I01
sg18
g19
sbasVtitle
p337
VUnderstanding Multivariate Linear Regression
p338
sttp339
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/hacking-vim-with-python.md
p340
(F1492853219.8197095
(V<p>I'm happy vim user for a while now. After learned the basics I started customize\u000athe editor to my needs/preferences and for a long time everything were well. I\u000adid not face anything that I could not do and this is still true. However, when\u000aI became a more advanced user and decide to create more complex functions to help\u000ame while I work in my source code files, something discouraged me go ahead: the\u000avim language (VimL). Don't judge me, I could study it but I do not have time and\u000adesire to do that. So, for some time I do not create more interesting stuff because\u000aof that. But a short time ago I discovered that I could write python script to\u000ainteract with vim, like buffer, windows, tabs and so on! That's great!</p>\u000a<p>This article is about how create a very simple script to read data from buffer and\u000aupdate them. :-)</p>\u000a<p>Before you start write python script to do the magic in your vim buffer it is\u000anecessary take a look if you vim allow you use python. For that you can run the\u000a<code>vim --version</code> and see if your vim has python support. The output should show\u000asomething like <code>+python</code></p>\u000a<h3>Scripting</h3>\u000a<p>There are some way you can execute a python code in vim. You can use the commands:\u000a<code>:py[thon]</code>, <code>:pydo</code>, <code>:pyfile</code>. In this article I'll do a short description of\u000athem, but I'll use just <code>:pyfile</code> in the example.</p>\u000a<p>When you decide write the python script you can write it in a separated file\u000aor embedded it in your vimrc. If you do not want write file for you script you\u000acan use the <code>:[range]python</code> or</p>\u000a<div class="highlight"><pre><span></span>:[range]py[thon] &lt;&lt; {endmarker}\u000a{script}\u000a{endmarker}\u000a</pre></div>\u000a\u000a\u000a<p>The first option is useful if you want to execute a single python statement.\u000aFor example: <code>:python print "Python rocks!"</code>. The second way is more interesting,\u000ait is allows embedded the python code inside vim script. Take a look:</p>\u000a<div class="highlight"><pre><span></span>function! IcecreamInitialize()\u000apython3 &lt;&lt; EOF\u000aclass StrawberryIcecream:\u000a    def __call__(self):\u000a        print(&#39;EAT ME&#39;)\u000aice = StrawberryIcecream()\u000aice()\u000aEOF\u000aendfunction\u000a</pre></div>\u000a\u000a\u000a<p>Another option is the <code>[range]pydo {body}</code> command. It is a good option if the\u000ascript should be executed in each line of the range. In this command the <code>{body}</code>\u000ais executed as <code>def _vim_pydo(line, linenr) {body}</code>. Thus, the body script can\u000aget the line text and number from arguments. The function should return a string\u000aor None. If a string is returned the line is updated to that value. A possible\u000aexample is <code>:pydo return "%s\u005ct%d" % (line[::-1], len(line))</code></p>\u000a<p>Last but not least is the <code>:[range]pyf[ile] {file}</code> command. It allows load a\u000aseparated python file and call its function with <code>:py</code> command. This is the\u000acommand used to load the python script in the following example.</p>\u000a<h3>Vim module</h3>\u000a<p>To make possible the integration between python and vim there is a python module.\u000aThis module gives you the ability to interact with buffers, windows, tabs,\u000aexecute vim commands and so on. This module has a bunch of methods, constants\u000aand objects that might used for the scripts. This article will use just a few\u000aof the features available in the module. They are: <code>vim.command(str)</code>;\u000a<code>vim.current</code>; and <code>Buffer.mark()</code>.</p>\u000a<p>You can see a better documentation of the module typing <code>:help python</code> in you\u000avim editor.</p>\u000a<h3>Let's hack!</h3>\u000a<p>Let's dive deeper in the example. In this example the author of the script is\u000aa guy that has the boring job to write the current weather of bunch of cities\u000asitting in some file. Wisely he/she decided automate that process. (Yes, it is not\u000athe ideal real life use case but I am not a creative person, sorry... xD). So, after\u000asome time reading the documentation a python script was born:</p>\u000a<p>[gist:id=b02e61147a7f05a2a308b3d5b1d0d382,file=weather.py]</p>\u000a<p>It has the following features:</p>\u000a<ul>\u000a<li>function that will iterate over all rows of the current buffer\u000aand append the current weather for the city (the row's content is used as city's\u000aname)</li>\u000a<li>function that will use the selected text as city's and append the weather in\u000athe row of the selection</li>\u000a</ul>\u000a<p>Okay, let's take a closer look... The method <code>get_weather()</code> allow the user gets\u000athe weather for city names sitting on each line of the current buffer. It's nice\u000ato highlight the <code>vim.current</code> object. This object provides access to\u000avarious objects in vim. That is:</p>\u000a<ul>\u000a<li><code>vim.current.line</code>: current line (string)</li>\u000a<li><code>vim.current.buffer</code>: current buffer (Buffer object)</li>\u000a<li><code>vim.current.window</code>: current window (Window object)</li>\u000a<li><code>vim.current.tabpage</code>: current tab page (TabPage object)</li>\u000a<li><code>vim.current.range</code>: current line range (Range object)</li>\u000a</ul>\u000a<p>That been said, the line <code>buff = vim.current.buffer</code> is getting the current buffer\u000ato iterate and update it. After that, the script iterate over all buffer's rows\u000acalls the Open Weather API to get the weather using the row's content as city's\u000aname and update the row with the current value appended with the weather.</p>\u000a<p>The <code>get_weather_selection()</code> is the method that uses the selected text as city\u000ato call the weather API. In this method, again, a reference to the current\u000abuffer is gotten and used the <code>buf.mark()</code> method of the <code>Buffer</code> object to get\u000athe line and column of the start and end of the selection. In vim the marks "&lt;"\u000aand "&gt;" is used to define the beginning and end of the selected text respectively.</p>\u000a<p>Once we have the marks values the script calls a helper function who extract the\u000aselected text from the buffer and returns it. After that, the weather API is called\u000aand the weather is appended after the selection</p>\u000a<p>The <code>get_text(start, end)</code> and <code>get_openweather(city)</code> methods are helper methods.\u000aFirst one is able to extract text from the buffer using tuples of (line, column)\u000apassed as arguments to delimitate the text should be returned. The second one\u000ais just a call to the Open Weather API using the python request module.</p>\u000a<p>Once the script is done it can be loaded with the <code>pyf {file}</code> command.\u000aAs the script in discussion is a python3 code, it has to be load using the\u000aequivalent command to python3, that is: <code>py3file $HOME/.vim/weather.py</code>. After\u000aadded this line in the vimrc, it is ready to go and the methods can be called\u000awith:</p>\u000a<p><code>py3 get_weather()</code> or <code>:'&lt;,'&gt;py3 get_weather_selection()</code>.</p>\u000a<p>NOTE: be aware that there are equivalent commands, <code>py3</code>, <code>py3do</code> and <code>py3f</code> to\u000arun/load python3 code. See more in the python3 section in the vim documentation</p>\u000a<h4>Buffer</h4>\u000a<p>The most important object in the example is Buffer. Buffer objects can be treat\u000aas sequence object. Thus, they act like lists and are mutable and to update\u000aa row it is necessary just assign the new value,\u000a<code>vim.current.buffer[1] = "new value for the line 2"</code>. Remember, lists\u000aindexing start with 0 and the lines in a vim buffer with 1. In the script is\u000apossible see the lines being updated at lines 14 and 26.</p>\u000a<p>It is also possible delete lines, <code>:py del vim.current.buffer[1]</code> (delete the second\u000arow). Append new lines, <code>:py vim.current.buffer.append("bottom")</code>. Assign variables,\u000a<code>:py vim.current.buffer.vars["foo"] = "bar"</code>, and so on. You can see a complete\u000adescription with all methods and attribute with <code>:help python</code></p>\u000a<h3>Your turn</h3>\u000a<p>This is a very, very simple example of how you can start script vim with python.\u000aI encourage you to read the vim documentation, play with it and create crazy\u000astuff! =)</p>\u000a<p>If you need more info take a look in the references, send me an e-mail or leave\u000aa comment. Thanks you!</p>\u000a<h4>References</h4>\u000a<p><code>:help python</code> in your vim editor</p>\u000a<p><a href="https://github.com/jvanz/dotfiles/blob/master/.vim/weather.py">weather.py</a></p>\u000a<p><a href="http://old.orestis.gr/blog/2008/08/10/scripting-vim-with-python/">Scripting Vim with Python</a></p>
(dp341
Vdate
p342
g5
(S'\x07\xe1\x01\n\x167\x00\x00\x00\x00'
tRp343
sVauthor
p344
g8
(cpelican.urlwrappers
Author
p345
g10
NtRp346
(dp347
g13
VJosé Guilherme Vanz
p348
sg15
Vjose-guilherme-vanz
p349
sg17
I01
sg18
g19
sbsVtags
p350
(lp351
g8
(g328
g10
NtRp352
(dp353
g13
Vvim
p354
sg15
Vvim
p355
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp356
(dp357
g13
Vpython
p358
sg15
Vpython
p359
sg17
I01
sg18
g19
sbasVtitle
p360
VHacking your vim with python
p361
sttp362
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content/posts/tech/Logistic Regression.md
p363
(F1492255010.7084544
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp364
Vdate
p365
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp366
sVcategory
p367
g8
(g9
g10
NtRp368
(dp369
g13
Vtech
p370
sg15
Vtech
p371
sg17
I01
sg18
(dp372
VIGNORE_FILES
p373
(lp374
V.#*
p375
asVPAGE_ORDER_BY
p376
Vbasename
p377
sS'ARTICLE_TWEET_BUTTON'
p378
I00
sVWITH_FUTURE_DATES
p379
I01
sVCATEGORY_SAVE_AS
p380
Vcategory/{slug}.html
p381
sS'LINKS'
p382
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp383
sVARTICLE_ORDER_BY
p384
Vreversed-date
p385
sVDEFAULT_LANG
p386
Ven
p387
sVCACHE_CONTENT
p388
I01
sVPAGE_LANG_SAVE_AS
p389
Vpages/{slug}-{lang}.html
p390
sVDRAFT_SAVE_AS
p391
Vdrafts/{slug}.html
p392
sVPAGE_PATHS
p393
(lp394
Vpages
p395
asVDEFAULT_PAGINATION
p396
I8
sVDOCUTILS_SETTINGS
p397
(dp398
S'math_output'
p399
S'MathJax'
p400
ssVLOAD_CONTENT_CACHE
p401
I01
sVSTATIC_PATHS
p402
(lp403
Vimages
p404
aVextras
p405
aVfiles
p406
asVDAY_ARCHIVE_SAVE_AS
p407
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p408
sVARTICLE_LANG_URL
p409
V{slug}-{lang}.html
p410
sVSLUGIFY_SOURCE
p411
Vtitle
p412
sVSTATIC_URL
p413
V{path}
p414
sVCATEGORY_FEED_ATOM
p415
NsVOUTPUT_SOURCES
p416
I00
sVPAGINATED_DIRECT_TEMPLATES
p417
(lp418
Vindex
p419
asVTYPOGRIFY_IGNORE_TAGS
p420
(lp421
S'.math'
p422
aS'script'
p423
asVSTATIC_EXCLUDES
p424
(lp425
sVTAG_URL
p426
Vtag/{slug}.html
p427
sVARTICLE_PATHS
p428
(lp429
Vposts
p430
asVGZIP_CACHE
p431
I00
sVFILENAME_METADATA
p432
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p433
sVDEFAULT_ORPHANS
p434
I1
sVPELICAN_CLASS
p435
Vpelican.Pelican
p436
sVCACHE_PATH
p437
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/cache
p438
sVINDEX_SAVE_AS
p439
Vindex.html
p440
sVINTRASITE_LINK_REGEX
p441
V[{|](?P<what>.*?)[|}]
p442
sVDISPLAY_PAGES_ON_MENU
p443
I00
sS'COLOPHON_TITLE'
p444
VAbout
p445
sS'ARCHIVES_SAVE_AS'
p446
Vblog/index.html
p447
sS'RESPONSIVE_IMAGES'
p448
I01
sS'AUTHOR'
p449
VRahul Pathak
p450
sS'MARKUP'
p451
(Vrst
Vhtml
tp452
sVDISPLAY_CATEGORIES_ON_MENU
p453
I01
sVCHECK_MODIFIED_METHOD
p454
Vmtime
p455
sVARTICLE_EXCLUDES
p456
(lp457
g395
asVDEFAULT_DATE_FORMAT
p458
V%a %d %B %Y
p459
sVTRANSLATION_FEED_ATOM
p460
NsVPLUGINS
p461
(lp462
Vassets
p463
aVrelated_posts
p464
aVextract_toc
p465
aVpost_stats
p466
aVseries
p467
aVrender_math
p468
aVsitemap
p469
asVTYPOGRIFY
p470
I01
sS'TRANSLATION_FEED_RSS'
p471
NsVEXTRA_TEMPLATES_PATHS
p472
(lp473
sVMARKDOWN
p474
(dp475
Vextension_configs
p476
(dp477
Vmarkdown.extensions.extra
p478
(dp479
sVmarkdown.extensions.codehilite
p480
(dp481
Vcss_class
p482
Vhighlight
p483
ssVmarkdown.extensions.meta
p484
(dp485
ssS'extensions'
p486
(lp487
g8
(g135
g10
NtRp488
(dp489
g138
I00
sbag478
ag480
ag484
asVoutput_format
p490
Vhtml5
p491
ssVOUTPUT_RETENTION
p492
(lp493
sS'COLOPHON'
p494
I01
sVPAGE_LANG_URL
p495
Vpages/{slug}-{lang}.html
p496
sS'DEFAULT_PAGESCHEMA'
p497
VBlogPost
p498
sVTHEME
p499
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blueprint
p500
sVUSE_FOLDER_AS_CATEGORY
p501
I01
sVJINJA_ENVIRONMENT
p502
(dp503
Vextensions
p504
(lp505
g157
asVlstrip_blocks
p506
I01
sVtrim_blocks
p507
I01
ssVDEBUG
p508
I00
sVREVERSE_CATEGORY_ORDER
p509
I00
sVRELATIVE_URLS
p510
I00
sVDATE_FORMATS
p511
(dp512
sVSITEURL
p513
Vhttps://summations.github.io
p514
sVCONTENT_CACHING_LAYER
p515
Vreader
p516
sS'SOCIAL'
p517
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp518
sVNEWEST_FIRST_ARCHIVES
p519
I01
sS'SITE_TITLE'
p520
VRahul Pathak Blog
p521
sS'COPYRIGHT_UNTIL'
p522
I2017
sVPATH_METADATA
p523
V
sVTEMPLATE_PAGES
p524
(dp525
sVFEED_DOMAIN
p526
g514
sVDIRECT_TEMPLATES
p527
(lp528
g419
aVtags
p529
aVcategories
p530
aVauthors
p531
aVarchives
p532
asVLOG_FILTER
p533
(lp534
sS'SITE_DESCRIPTION'
p535
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p536
sVAUTHOR_FEED_RSS
p537
Vfeeds/%s.rss.xml
p538
sS'TIMEZONE'
p539
VAmerica/Vancouver
p540
sVDRAFT_URL
p541
Vdrafts/{slug}.html
p542
sVPAGE_EXCLUDES
p543
(lp544
g430
asVTAG_SAVE_AS
p545
Vtag/{slug}.html
p546
sVEXTRA_PATH_METADATA
p547
(dp548
Vextras/.htaccess
p549
(dp550
Vpath
p551
V.htaccess
p552
ssVextras/google9b8f9c7f2338fb3e.html
p553
(dp554
g551
Vgoogle9b8f9c7f2338fb3e.html
p555
ssVextras/favicon.ico
p556
(dp557
g551
Vfavicon.ico
p558
ssVextras/robots.txt
p559
(dp560
g551
Vrobots.txt
p561
sssVDEFAULT_CATEGORY
p562
Vmisc
p563
sVDRAFT_LANG_URL
p564
Vdrafts/{slug}-{lang}.html
p565
sVOUTPUT_SOURCES_EXTENSION
p566
V.text
p567
sVPAGINATION_PATTERNS
p568
(lp569
g8
(g222
g223
(I0
V{name}{number}{extension}
p570
V{name}{number}{extension}
p571
ttRp572
asVSTATIC_EXCLUDE_SOURCES
p573
I01
sVJINJA_FILTERS
p574
(dp575
Vmonth_name
p576
g231
sVtagsort
p577
g233
sVsidebar_date_format
p578
g235
sVarchive_date_format
p579
g237
sVdump
p580
g239
ssVARTICLE_SAVE_AS
p581
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p582
sVYEAR_ARCHIVE_SAVE_AS
p583
Vblog/{date:%Y}/index.html
p584
sVCSS_FILE
p585
Vmain.css
p586
sVAUTHOR_URL
p587
Vauthor/{slug}.html
p588
sVCATEGORY_URL
p589
Vcategory/{slug}.html
p590
sS'SITEMAP'
p591
(dp592
Vchangefreqs
p593
(dp594
Varticles
p595
Vweekly
p596
sg395
Vmonthly
p597
sVindexes
p598
Vdaily
p599
ssVpriorities
p600
(dp601
g595
F0.80000000000000004
sg395
F0.5
sg598
F0.69999999999999996
ssVformat
p602
Vxml
p603
ssVSUMMARY_MAX_LENGTH
p604
I60
sVSLUG_SUBSTITUTIONS
p605
(tsS'RELATED_POSTS_MAX'
p606
I4
sVFORMATTED_FIELDS
p607
(lp608
Vsummary
p609
asVTHEME_STATIC_PATHS
p610
(lp611
Vstatic
p612
asS'CATEGORY_FEED_RSS'
p613
NsVTHEME_STATIC_DIR
p614
Vtheme
p615
sVDRAFT_LANG_SAVE_AS
p616
Vdrafts/{slug}-{lang}.html
p617
sS'FEED_ALL_RSS'
p618
NsVREADERS
p619
(dp620
sVLOCALE
p621
(lp622
V
asVWRITE_SELECTED
p623
(lp624
sVDELETE_OUTPUT_DIRECTORY
p625
I00
sVFEED_MAX_ITEMS
p626
V
sVPATH
p627
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content
p628
sVPAGE_URL
p629
Vpages/{slug}.html
p630
sVSITENAME
p631
VSummations
p632
sVARTICLE_PERMALINK_STRUCTURE
p633
V
sS'COLOPHON_CONTENT'
p634
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p635
sVARTICLE_URL
p636
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p637
sS'SITESCHEME'
p638
Vhttps
p639
sVMONTH_ARCHIVE_SAVE_AS
p640
Vblog/{date:%Y}/{date:%m}/index.html
p641
sVDEFAULT_METADATA
p642
(dp643
sVRSS_FEED_SUMMARY_ONLY
p644
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p645
I00
sVPLUGIN_PATHS
p646
(lp647
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/pelican-plugins
p648
asVFEED_ALL_ATOM
p649
NsVSTATIC_SAVE_AS
p650
g414
sVAUTHOR_SAVE_AS
p651
I00
sVPYGMENTS_RST_OPTIONS
p652
(dp653
sVAUTHOR_FEED_ATOM
p654
Vfeeds/%s.atom.xml
p655
sVARTICLE_LANG_SAVE_AS
p656
g410
sVPAGE_SAVE_AS
p657
Vpages/{slug}.html
p658
sS'OPEN_GRAPH_METADATA'
p659
I01
sVOUTPUT_PATH
p660
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/output
p661
sVDEFAULT_STATUS
p662
Vpublished
p663
sS'DISQUS_SITENAME'
p664
Vrahulpathakml
p665
sS'COPYRIGHT_FROM'
p666
I1998
ssbsVtags
p667
(lp668
g8
(g328
g10
NtRp669
(dp670
g13
Vmachinelearning
p671
sg15
Vmachinelearning
p672
sg17
I01
sg18
g372
sbag8
(g328
g10
NtRp673
(dp674
g13
Vclassification
p675
sg15
Vclassification
p676
sg17
I01
sg18
g372
sbasVtitle
p677
VLogistic Regression
p678
sttp679
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/tech/multivariate-linearregression.md
p680
(F1492626679.5057995
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp;= \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 &x^{(2)}_0 &x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 &x^{(2)}_1 &x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p><br/></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; &\u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; &\u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; &\u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a&\u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; &\u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; &\u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i &:=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    &s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    &\u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp681
Vdate
p682
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp683
sVcategory
p684
g8
(g9
g10
NtRp685
(dp686
g13
Vtech
p687
sg15
Vtech
p688
sg17
I01
sg18
(dp689
VCATEGORY_URL
p690
Vcategory/{slug}.html
p691
sVPAGE_ORDER_BY
p692
Vbasename
p693
sS'ARTICLE_TWEET_BUTTON'
p694
I00
sVWITH_FUTURE_DATES
p695
I01
sVCATEGORY_SAVE_AS
p696
Vcategory/{slug}.html
p697
sS'LINKS'
p698
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp699
sVARTICLE_ORDER_BY
p700
Vreversed-date
p701
sVDEFAULT_LANG
p702
Ven
p703
sVCACHE_CONTENT
p704
I01
sVPAGE_LANG_SAVE_AS
p705
Vpages/{slug}-{lang}.html
p706
sVDRAFT_SAVE_AS
p707
Vdrafts/{slug}.html
p708
sVPAGE_PATHS
p709
(lp710
Vpages
p711
asVDEFAULT_PAGINATION
p712
I8
sVDOCUTILS_SETTINGS
p713
(dp714
S'math_output'
p715
S'MathJax'
p716
ssVLOAD_CONTENT_CACHE
p717
I01
sVSTATIC_PATHS
p718
(lp719
Vimages
p720
aVextras
p721
aVfiles
p722
asVDAY_ARCHIVE_SAVE_AS
p723
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p724
sVARTICLE_LANG_URL
p725
V{slug}-{lang}.html
p726
sVSLUGIFY_SOURCE
p727
Vtitle
p728
sVSTATIC_URL
p729
V{path}
p730
sVCATEGORY_FEED_ATOM
p731
NsVOUTPUT_SOURCES
p732
I00
sVDIRECT_TEMPLATES
p733
(lp734
Vindex
p735
aVtags
p736
aVcategories
p737
aVauthors
p738
aVarchives
p739
asVSTATIC_EXCLUDES
p740
(lp741
sVTAG_URL
p742
Vtag/{slug}.html
p743
sVARTICLE_PATHS
p744
(lp745
Vposts
p746
asVLOG_FILTER
p747
(lp748
sVFILENAME_METADATA
p749
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p750
sVDISPLAY_PAGES_ON_MENU
p751
I00
sVPELICAN_CLASS
p752
Vpelican.Pelican
p753
sVCACHE_PATH
p754
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p755
sVINDEX_SAVE_AS
p756
Vindex.html
p757
sVINTRASITE_LINK_REGEX
p758
V[{|](?P<what>.*?)[|}]
p759
sVDEFAULT_ORPHANS
p760
I1
sS'COLOPHON_TITLE'
p761
VAbout
p762
sS'ARCHIVES_SAVE_AS'
p763
Vblog/index.html
p764
sS'RESPONSIVE_IMAGES'
p765
I01
sS'AUTHOR'
p766
VRahul Pathak
p767
sS'MARKUP'
p768
(Vrst
Vhtml
tp769
sVDISPLAY_CATEGORIES_ON_MENU
p770
I01
sVCHECK_MODIFIED_METHOD
p771
Vmtime
p772
sVARTICLE_EXCLUDES
p773
(lp774
g711
asVTHEME_STATIC_PATHS
p775
(lp776
Vstatic
p777
asVTRANSLATION_FEED_ATOM
p778
NsVPLUGINS
p779
(lp780
Vassets
p781
aVrelated_posts
p782
aVextract_toc
p783
aVpost_stats
p784
aVseries
p785
aVrender_math
p786
aVsitemap
p787
asVTYPOGRIFY
p788
I01
sVFEED_ALL_ATOM
p789
NsS'TRANSLATION_FEED_RSS'
p790
NsVEXTRA_TEMPLATES_PATHS
p791
(lp792
sVMARKDOWN
p793
(dp794
Vextension_configs
p795
(dp796
Vmarkdown.extensions.extra
p797
(dp798
sVmarkdown.extensions.codehilite
p799
(dp800
Vcss_class
p801
Vhighlight
p802
ssVmarkdown.extensions.meta
p803
(dp804
ssS'extensions'
p805
(lp806
g8
(g135
g10
NtRp807
(dp808
g138
I00
sbag797
ag799
ag803
asVoutput_format
p809
Vhtml5
p810
ssVOUTPUT_RETENTION
p811
(lp812
sS'COLOPHON'
p813
I01
sS'PROFILE_IMAGE'
p814
Vsigma-black.svg
p815
sVPAGE_LANG_URL
p816
Vpages/{slug}-{lang}.html
p817
sVTHEME_STATIC_DIR
p818
Vtheme
p819
sVTHEME
p820
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p821
sVUSE_FOLDER_AS_CATEGORY
p822
I01
sVJINJA_ENVIRONMENT
p823
(dp824
Vextensions
p825
(lp826
g157
asVtrim_blocks
p827
I01
sVlstrip_blocks
p828
I01
ssVDEBUG
p829
I01
sVREVERSE_CATEGORY_ORDER
p830
I00
sVRELATIVE_URLS
p831
I00
sVDATE_FORMATS
p832
(dp833
sVSITEURL
p834
Vhttp://localhost:8000
p835
sVCONTENT_CACHING_LAYER
p836
Vreader
p837
sS'SOCIAL'
p838
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp839
sVNEWEST_FIRST_ARCHIVES
p840
I01
sS'SITE_TITLE'
p841
VRahul Pathak Blog
p842
sS'COPYRIGHT_UNTIL'
p843
I2017
sVPATH_METADATA
p844
V
sVTEMPLATE_PAGES
p845
(dp846
sVFEED_DOMAIN
p847
g835
sVTYPOGRIFY_IGNORE_TAGS
p848
(lp849
S'.math'
p850
aS'script'
p851
asVGZIP_CACHE
p852
I00
sS'SITE_DESCRIPTION'
p853
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p854
sVAUTHOR_FEED_RSS
p855
Vfeeds/%s.rss.xml
p856
sS'TIMEZONE'
p857
VAmerica/Vancouver
p858
sVDRAFT_URL
p859
Vdrafts/{slug}.html
p860
sVPAGE_EXCLUDES
p861
(lp862
g746
asVAUTHOR_SAVE_AS
p863
I00
sVREADERS
p864
(dp865
sVDRAFT_LANG_URL
p866
Vdrafts/{slug}-{lang}.html
p867
sVOUTPUT_SOURCES_EXTENSION
p868
V.text
p869
sVPAGINATION_PATTERNS
p870
(lp871
g8
(g222
g223
(I0
V{name}{number}{extension}
p872
V{name}{number}{extension}
p873
ttRp874
asVSTATIC_EXCLUDE_SOURCES
p875
I01
sVJINJA_FILTERS
p876
(dp877
Vmonth_name
p878
g231
sVtagsort
p879
g233
sVsidebar_date_format
p880
g235
sVarchive_date_format
p881
g237
sVdump
p882
g239
ssVARTICLE_SAVE_AS
p883
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p884
sVYEAR_ARCHIVE_SAVE_AS
p885
Vblog/{date:%Y}/index.html
p886
sVCSS_FILE
p887
Vmain.css
p888
sVAUTHOR_URL
p889
Vauthor/{slug}.html
p890
sVIGNORE_FILES
p891
(lp892
V.#*
p893
asS'SITEMAP'
p894
(dp895
Vchangefreqs
p896
(dp897
Varticles
p898
Vweekly
p899
sg711
Vmonthly
p900
sVindexes
p901
Vdaily
p902
ssVpriorities
p903
(dp904
g898
F0.80000000000000004
sg711
F0.5
sg901
F0.69999999999999996
ssVformat
p905
Vxml
p906
ssVSUMMARY_MAX_LENGTH
p907
I60
sVSLUG_SUBSTITUTIONS
p908
(tsS'RELATED_POSTS_MAX'
p909
I4
sVFORMATTED_FIELDS
p910
(lp911
Vsummary
p912
asVDEFAULT_DATE_FORMAT
p913
V%a %d %B %Y
p914
sS'CATEGORY_FEED_RSS'
p915
NsS'DEFAULT_PAGESCHEMA'
p916
VBlogPost
p917
sVDRAFT_LANG_SAVE_AS
p918
Vdrafts/{slug}-{lang}.html
p919
sS'FEED_ALL_RSS'
p920
NsVEXTRA_PATH_METADATA
p921
(dp922
Vextras/.htaccess
p923
(dp924
Vpath
p925
V.htaccess
p926
ssVextras/google9b8f9c7f2338fb3e.html
p927
(dp928
g925
Vgoogle9b8f9c7f2338fb3e.html
p929
ssVextras/favicon.ico
p930
(dp931
g925
Vfavicon.ico
p932
ssVextras/robots.txt
p933
(dp934
g925
Vrobots.txt
p935
sssVLOCALE
p936
(lp937
V
asVWRITE_SELECTED
p938
(lp939
sVDELETE_OUTPUT_DIRECTORY
p940
I00
sVFEED_MAX_ITEMS
p941
V
sVPATH
p942
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p943
sVPAGE_URL
p944
Vpages/{slug}.html
p945
sVSITENAME
p946
VSummations
p947
sVARTICLE_PERMALINK_STRUCTURE
p948
V
sS'COLOPHON_CONTENT'
p949
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p950
sVARTICLE_URL
p951
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p952
sS'SITESCHEME'
p953
Vhttps
p954
sVMONTH_ARCHIVE_SAVE_AS
p955
Vblog/{date:%Y}/{date:%m}/index.html
p956
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p957
I00
sVDEFAULT_METADATA
p958
(dp959
sVRSS_FEED_SUMMARY_ONLY
p960
I01
sVDEFAULT_CATEGORY
p961
Vmisc
p962
sVPLUGIN_PATHS
p963
(lp964
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p965
asVPAGINATED_DIRECT_TEMPLATES
p966
(lp967
g735
asVSTATIC_SAVE_AS
p968
g730
sVTAG_SAVE_AS
p969
Vtag/{slug}.html
p970
sVPYGMENTS_RST_OPTIONS
p971
(dp972
sVAUTHOR_FEED_ATOM
p973
Vfeeds/%s.atom.xml
p974
sVARTICLE_LANG_SAVE_AS
p975
g726
sVPAGE_SAVE_AS
p976
Vpages/{slug}.html
p977
sS'OPEN_GRAPH_METADATA'
p978
I01
sVOUTPUT_PATH
p979
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p980
sVDEFAULT_STATUS
p981
Vpublished
p982
sS'DISQUS_SITENAME'
p983
Vrahulpathakml
p984
sS'COPYRIGHT_FROM'
p985
I1998
ssbsVtitle
p986
VUnderstanding Multivariate Linear Regression
p987
sVtags
p988
(lp989
g8
(g328
g10
NtRp990
(dp991
g13
Vmachinelearning
p992
sg15
Vmachinelearning
p993
sg17
I01
sg18
g689
sbag8
(g328
g10
NtRp994
(dp995
g13
Vregression
p996
sg15
Vregression
p997
sg17
I01
sg18
g689
sbasttp998
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/tech/Logistic Regression.md
p999
(F1492609690.0344877
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1000
Vdate
p1001
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp1002
sVcategory
p1003
g8
(g9
g10
NtRp1004
(dp1005
g13
Vtech
p1006
sg15
Vtech
p1007
sg17
I01
sg18
(dp1008
VIGNORE_FILES
p1009
(lp1010
V.#*
p1011
asVPAGE_ORDER_BY
p1012
Vbasename
p1013
sS'ARTICLE_TWEET_BUTTON'
p1014
I00
sVWITH_FUTURE_DATES
p1015
I01
sVCATEGORY_SAVE_AS
p1016
Vcategory/{slug}.html
p1017
sS'LINKS'
p1018
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1019
sVARTICLE_ORDER_BY
p1020
Vreversed-date
p1021
sVDEFAULT_LANG
p1022
Ven
p1023
sVCACHE_CONTENT
p1024
I01
sVPAGE_LANG_SAVE_AS
p1025
Vpages/{slug}-{lang}.html
p1026
sVDRAFT_SAVE_AS
p1027
Vdrafts/{slug}.html
p1028
sVPAGE_PATHS
p1029
(lp1030
Vpages
p1031
asVDEFAULT_PAGINATION
p1032
I8
sVDOCUTILS_SETTINGS
p1033
(dp1034
S'math_output'
p1035
S'MathJax'
p1036
ssVLOAD_CONTENT_CACHE
p1037
I01
sVSTATIC_PATHS
p1038
(lp1039
Vimages
p1040
aVextras
p1041
aVfiles
p1042
asVDAY_ARCHIVE_SAVE_AS
p1043
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1044
sVARTICLE_LANG_URL
p1045
V{slug}-{lang}.html
p1046
sVSLUGIFY_SOURCE
p1047
Vtitle
p1048
sVSTATIC_URL
p1049
V{path}
p1050
sVCATEGORY_FEED_ATOM
p1051
NsVOUTPUT_SOURCES
p1052
I00
sVPAGINATED_DIRECT_TEMPLATES
p1053
(lp1054
Vindex
p1055
asVTYPOGRIFY_IGNORE_TAGS
p1056
(lp1057
S'.math'
p1058
aS'script'
p1059
asVSTATIC_EXCLUDES
p1060
(lp1061
sVTAG_URL
p1062
Vtag/{slug}.html
p1063
sVARTICLE_PATHS
p1064
(lp1065
Vposts
p1066
asVGZIP_CACHE
p1067
I00
sVFILENAME_METADATA
p1068
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1069
sVDEFAULT_ORPHANS
p1070
I1
sVPELICAN_CLASS
p1071
Vpelican.Pelican
p1072
sVCACHE_PATH
p1073
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p1074
sVINDEX_SAVE_AS
p1075
Vindex.html
p1076
sVINTRASITE_LINK_REGEX
p1077
V[{|](?P<what>.*?)[|}]
p1078
sVDISPLAY_PAGES_ON_MENU
p1079
I00
sS'COLOPHON_TITLE'
p1080
VAbout
p1081
sS'ARCHIVES_SAVE_AS'
p1082
Vblog/index.html
p1083
sS'RESPONSIVE_IMAGES'
p1084
I01
sS'AUTHOR'
p1085
VRahul Pathak
p1086
sS'MARKUP'
p1087
(Vrst
Vhtml
tp1088
sVDISPLAY_CATEGORIES_ON_MENU
p1089
I01
sVCHECK_MODIFIED_METHOD
p1090
Vmtime
p1091
sVARTICLE_EXCLUDES
p1092
(lp1093
g1031
asVDEFAULT_DATE_FORMAT
p1094
V%a %d %B %Y
p1095
sVTRANSLATION_FEED_ATOM
p1096
NsVPLUGINS
p1097
(lp1098
Vassets
p1099
aVrelated_posts
p1100
aVextract_toc
p1101
aVpost_stats
p1102
aVseries
p1103
aVrender_math
p1104
aVsitemap
p1105
asVTYPOGRIFY
p1106
I01
sS'TRANSLATION_FEED_RSS'
p1107
NsVEXTRA_TEMPLATES_PATHS
p1108
(lp1109
sVMARKDOWN
p1110
(dp1111
Vextension_configs
p1112
(dp1113
Vmarkdown.extensions.extra
p1114
(dp1115
sVmarkdown.extensions.codehilite
p1116
(dp1117
Vcss_class
p1118
Vhighlight
p1119
ssVmarkdown.extensions.meta
p1120
(dp1121
ssS'extensions'
p1122
(lp1123
g8
(g135
g10
NtRp1124
(dp1125
g138
I00
sbag1114
ag1116
ag1120
asVoutput_format
p1126
Vhtml5
p1127
ssVOUTPUT_RETENTION
p1128
(lp1129
sS'COLOPHON'
p1130
I01
sVPAGE_LANG_URL
p1131
Vpages/{slug}-{lang}.html
p1132
sS'DEFAULT_PAGESCHEMA'
p1133
VBlogPost
p1134
sVTHEME
p1135
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p1136
sVUSE_FOLDER_AS_CATEGORY
p1137
I01
sVJINJA_ENVIRONMENT
p1138
(dp1139
Vextensions
p1140
(lp1141
g157
asVlstrip_blocks
p1142
I01
sVtrim_blocks
p1143
I01
ssVDEBUG
p1144
I01
sVREVERSE_CATEGORY_ORDER
p1145
I00
sVRELATIVE_URLS
p1146
I00
sVDATE_FORMATS
p1147
(dp1148
sVSITEURL
p1149
Vhttps://summations.github.io
p1150
sVCONTENT_CACHING_LAYER
p1151
Vreader
p1152
sS'SOCIAL'
p1153
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1154
sVNEWEST_FIRST_ARCHIVES
p1155
I01
sS'SITE_TITLE'
p1156
VRahul Pathak Blog
p1157
sS'COPYRIGHT_UNTIL'
p1158
I2017
sVPATH_METADATA
p1159
V
sVTEMPLATE_PAGES
p1160
(dp1161
sVFEED_DOMAIN
p1162
g1150
sVDIRECT_TEMPLATES
p1163
(lp1164
g1055
aVtags
p1165
aVcategories
p1166
aVauthors
p1167
aVarchives
p1168
asVLOG_FILTER
p1169
(lp1170
sS'SITE_DESCRIPTION'
p1171
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1172
sVAUTHOR_FEED_RSS
p1173
Vfeeds/%s.rss.xml
p1174
sS'TIMEZONE'
p1175
VAmerica/Vancouver
p1176
sVDRAFT_URL
p1177
Vdrafts/{slug}.html
p1178
sVPAGE_EXCLUDES
p1179
(lp1180
g1066
asVTAG_SAVE_AS
p1181
Vtag/{slug}.html
p1182
sVEXTRA_PATH_METADATA
p1183
(dp1184
Vextras/.htaccess
p1185
(dp1186
Vpath
p1187
V.htaccess
p1188
ssVextras/google9b8f9c7f2338fb3e.html
p1189
(dp1190
g1187
Vgoogle9b8f9c7f2338fb3e.html
p1191
ssVextras/favicon.ico
p1192
(dp1193
g1187
Vfavicon.ico
p1194
ssVextras/robots.txt
p1195
(dp1196
g1187
Vrobots.txt
p1197
sssVDEFAULT_CATEGORY
p1198
Vmisc
p1199
sVDRAFT_LANG_URL
p1200
Vdrafts/{slug}-{lang}.html
p1201
sVOUTPUT_SOURCES_EXTENSION
p1202
V.text
p1203
sVPAGINATION_PATTERNS
p1204
(lp1205
g8
(g222
g223
(I0
V{name}{number}{extension}
p1206
V{name}{number}{extension}
p1207
ttRp1208
asVSTATIC_EXCLUDE_SOURCES
p1209
I01
sVJINJA_FILTERS
p1210
(dp1211
Vmonth_name
p1212
g231
sVtagsort
p1213
g233
sVsidebar_date_format
p1214
g235
sVarchive_date_format
p1215
g237
sVdump
p1216
g239
ssVARTICLE_SAVE_AS
p1217
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1218
sVYEAR_ARCHIVE_SAVE_AS
p1219
Vblog/{date:%Y}/index.html
p1220
sVCSS_FILE
p1221
Vmain.css
p1222
sVAUTHOR_URL
p1223
Vauthor/{slug}.html
p1224
sVCATEGORY_URL
p1225
Vcategory/{slug}.html
p1226
sS'SITEMAP'
p1227
(dp1228
Vchangefreqs
p1229
(dp1230
Varticles
p1231
Vweekly
p1232
sg1031
Vmonthly
p1233
sVindexes
p1234
Vdaily
p1235
ssVpriorities
p1236
(dp1237
g1231
F0.80000000000000004
sg1031
F0.5
sg1234
F0.69999999999999996
ssVformat
p1238
Vxml
p1239
ssVSUMMARY_MAX_LENGTH
p1240
I60
sVSLUG_SUBSTITUTIONS
p1241
(tsS'RELATED_POSTS_MAX'
p1242
I4
sVFORMATTED_FIELDS
p1243
(lp1244
Vsummary
p1245
asVTHEME_STATIC_PATHS
p1246
(lp1247
Vstatic
p1248
asS'CATEGORY_FEED_RSS'
p1249
NsVTHEME_STATIC_DIR
p1250
Vtheme
p1251
sVDRAFT_LANG_SAVE_AS
p1252
Vdrafts/{slug}-{lang}.html
p1253
sS'FEED_ALL_RSS'
p1254
NsVREADERS
p1255
(dp1256
sVLOCALE
p1257
(lp1258
V
asVWRITE_SELECTED
p1259
(lp1260
sVDELETE_OUTPUT_DIRECTORY
p1261
I00
sVFEED_MAX_ITEMS
p1262
V
sVPATH
p1263
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p1264
sVPAGE_URL
p1265
Vpages/{slug}.html
p1266
sVSITENAME
p1267
VSummations
p1268
sVARTICLE_PERMALINK_STRUCTURE
p1269
V
sS'COLOPHON_CONTENT'
p1270
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1271
sVARTICLE_URL
p1272
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1273
sS'SITESCHEME'
p1274
Vhttps
p1275
sVMONTH_ARCHIVE_SAVE_AS
p1276
Vblog/{date:%Y}/{date:%m}/index.html
p1277
sVDEFAULT_METADATA
p1278
(dp1279
sVRSS_FEED_SUMMARY_ONLY
p1280
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1281
I00
sVPLUGIN_PATHS
p1282
(lp1283
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p1284
asVFEED_ALL_ATOM
p1285
NsVSTATIC_SAVE_AS
p1286
g1050
sVAUTHOR_SAVE_AS
p1287
I00
sVPYGMENTS_RST_OPTIONS
p1288
(dp1289
sVAUTHOR_FEED_ATOM
p1290
Vfeeds/%s.atom.xml
p1291
sVARTICLE_LANG_SAVE_AS
p1292
g1046
sVPAGE_SAVE_AS
p1293
Vpages/{slug}.html
p1294
sS'OPEN_GRAPH_METADATA'
p1295
I01
sVOUTPUT_PATH
p1296
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p1297
sVDEFAULT_STATUS
p1298
Vpublished
p1299
sS'DISQUS_SITENAME'
p1300
Vrahulpathakml
p1301
sS'COPYRIGHT_FROM'
p1302
I1998
ssbsVtags
p1303
(lp1304
g8
(g328
g10
NtRp1305
(dp1306
g13
Vmachinelearning
p1307
sg15
Vmachinelearning
p1308
sg17
I01
sg18
g1008
sbag8
(g328
g10
NtRp1309
(dp1310
g13
Vclassification
p1311
sg15
Vclassification
p1312
sg17
I01
sg18
g1008
sbasVtitle
p1313
VLogistic Regression
p1314
sttp1315
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg.md
p1316
(F1492853219.8157091
(V<p>While I have not decided what it will be my first post about development stuff I'll post the text that me and my friend wrote to the The Document Foundation's blog. In that text we talked about out trip to LibreOffice hackfest in freiburg.\u000aFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg</p>\u000a<p>José Guilherme Vanz and Marcos Souza, LibreOffice development in Brazil</p>\u000a<p>Our first contact with the LibreOffice was in FISL 2012 (International Forum of Free Software, held in Porto Alegre, Brazil). Since then, we got quickly involved with the LibreOffice development community. Now we attend events in Brazil advocating to people about the better office suite ever done!\u000aMonths ago, after some time contributing to the project and participating in LibreOffice community, we, José Guilherme Vanz and Marcos Paulo de Souza were invited to participate in the Freiburg LibreOffice Hackfest. We were very happy and very excited! This invitation showed us that we were recognized for our humble work in the project and because this is a unique opportunity to work with people that we just know by mailing or IRC chats. So, we started the preparations of travel, such as paperwork, funds and a negotiation with our employers.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_01.jpg"></p>\u000a<p>We arrived in Germany thinking about how to learn more about LibreOffice code base, and learn some tips and tricks to code while contributing with the project. The guys at the hackfest work full time in the project, so we were very excited to improve our skills, including stuffs about how to make a nice hackfest and try setup one in Brazil!\u000aOur journey in Germany began in the beautiful city of Munich, where we stayed for two days. We met Christian Lohmaier, the current release engineer of LibreOffice project. He and Florian Effenberger were patient and generous to show Munich to us and all nice places of this nice city! Thanks a lot guys!\u000aThen we went to Freiburg, where the Hackfest was to start. The event took three days. We had the opportunity to meet some of the most famous mega developers! It was a very nice experience to link faces and names to IRC nicks, and of course, to question the \u201cpythons\u201d of the project in real time! Surely, we learned a lot in these 3 days!\u000aMarcos did some work in LibreOffice Math. The first was about including tooltips in the new Elements Dock. To solve this bug, we basically need to create some strings with the descriptions of each element in the Elements Dock. These strings are stored inside \u201c.src\u201d files. These files are \u201ccompiled\u201d and used by translators to translate each string to a specific language used in the user interface of LibreOffice. This fix was not difficult, just painful!\u000aThe second bug that Marcos worked was about to implement a scrollbar in the Elements Dock. We did not finish this fix because he had some doubts and some points that need some other fixes. Still in the event, we talked with some others hackers about other issues.\u000aI was focused trying to execute a static checker to detect some error prone code and fix them</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>After three days of hackfest, we started the \u201cHamburg Home Hacking Marathon\u201d! We stayed four days in Hamburg, coding in the house of LibreOffice enginners! Again, we had the pleasure to work with Eike Ratke, Michael Stahl, Stephan Bergmann and Bjoern Michaelsen. All of them willing to help us teaching about the code base and showing some tips.\u000aUsing our precious time with them, Marcos worked in the issue 60698 (https://bugs.freedesktop.org/show_bug.cgi?id=60698). This bug is about unify some shared libraries that are built by few files. Doing this we get a smaller library because these libraries are compiled and built just once, and by this we avoid the dispersion of shared libraries. Working in this bug, Marcos unified all shared libraries of IO module.\u000aMarcos tried yet to solve a bug in Calc, with the help of Eike as mentor. This bug was about ODS files using link to another sheets. By changing the referenced files, Calc was not allowed to update the data inside the file that was referencing. But, this bug was not so easy, and the problem was bigger than we thought. So we couldn\u2019t solve this bug in that time, and Eike removed the bug from the easy hacks.\u000aAnd I was still working in static checker. I started to look to a bug of Math, about the user interface. After some work, I fixed that bug!\u000aIn the third day, we went back to Stephan\u2019s place, trying to solve bugs and learn more! This day Bjoern went to Stephan\u2019s house too, totaling six guys programming in the same table! In this day Marcos worked in a bug(https://bugs.freedesktop.org/show_bug.cgi?id=63020) indicated by Bjoern. That bug was related to removing a class from LibreOffice. With Stephan\u2019s help, Marcos could remove that class and use a better approach in the code.\u000aAnd in the last day, we went again to Eike\u2019s home, where we enjoyed to last moments with the great developers of LibreOffice! We talked a little about their work and how they work daily.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>For sure, these days were very fruitful, and we learned a lot of things that we\u2019ll use in the future.\u000aWe came back to Brazil and we want to say a big THANK YOU for all of you guys! To the  Brazilian community, that welcomed us and keeps helping us. To The Document Foundation, who gave us this opportunity. To all developers that are helping us since we started in the project, specially YOU we met this wonderful German journey, and all people involved directly or indirectly in this amazing project!</p>\u000a<p>Source: http://blog.documentfoundation.org/2013/12/04/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg/</p>\u000a<p>Portuguese version: http://blog.pt-br.libreoffice.org/2013/12/09/do-brasil-para-a-alemanha-um-inesquecivel-hackfest-em-freiburg/</p>
(dp1317
Vdate
p1318
g5
(S'\x07\xde\x01\x18\x00\x00\x00\x00\x00\x00'
tRp1319
sVtags
p1320
(lp1321
g8
(g328
g10
NtRp1322
(dp1323
g13
Vhackfest
p1324
sg15
Vhackfest
p1325
sg17
I01
sg18
(dp1326
VIGNORE_FILES
p1327
(lp1328
V.#*
p1329
asVPAGE_ORDER_BY
p1330
Vbasename
p1331
sS'ARTICLE_TWEET_BUTTON'
p1332
I00
sVWITH_FUTURE_DATES
p1333
I01
sVCATEGORY_SAVE_AS
p1334
Vcategory/{slug}.html
p1335
sS'LINKS'
p1336
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1337
sVARTICLE_ORDER_BY
p1338
Vreversed-date
p1339
sVDEFAULT_LANG
p1340
Ven
p1341
sVCACHE_CONTENT
p1342
I01
sVPAGE_LANG_SAVE_AS
p1343
Vpages/{slug}-{lang}.html
p1344
sVDRAFT_SAVE_AS
p1345
Vdrafts/{slug}.html
p1346
sVPAGE_PATHS
p1347
(lp1348
Vpages
p1349
asVDEFAULT_PAGINATION
p1350
I8
sVDOCUTILS_SETTINGS
p1351
(dp1352
S'math_output'
p1353
S'MathJax'
p1354
ssVLOAD_CONTENT_CACHE
p1355
I01
sVSTATIC_PATHS
p1356
(lp1357
Vimages
p1358
aVextras
p1359
aVfiles
p1360
asVDAY_ARCHIVE_SAVE_AS
p1361
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1362
sVARTICLE_LANG_URL
p1363
V{slug}-{lang}.html
p1364
sVSLUGIFY_SOURCE
p1365
Vtitle
p1366
sVSTATIC_URL
p1367
V{path}
p1368
sVCATEGORY_FEED_ATOM
p1369
NsVOUTPUT_SOURCES
p1370
I00
sVPAGINATED_DIRECT_TEMPLATES
p1371
(lp1372
Vindex
p1373
asVTYPOGRIFY_IGNORE_TAGS
p1374
(lp1375
S'.math'
p1376
aS'script'
p1377
asVSTATIC_EXCLUDES
p1378
(lp1379
sVTAG_URL
p1380
Vtag/{slug}.html
p1381
sVARTICLE_PATHS
p1382
(lp1383
Vposts
p1384
asVGZIP_CACHE
p1385
I00
sVFILENAME_METADATA
p1386
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1387
sVDEFAULT_ORPHANS
p1388
I1
sVPELICAN_CLASS
p1389
Vpelican.Pelican
p1390
sVCACHE_PATH
p1391
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/cache
p1392
sVINDEX_SAVE_AS
p1393
Vindex.html
p1394
sVINTRASITE_LINK_REGEX
p1395
V[{|](?P<what>.*?)[|}]
p1396
sVDISPLAY_PAGES_ON_MENU
p1397
I00
sS'COLOPHON_TITLE'
p1398
VAbout
p1399
sS'ARCHIVES_SAVE_AS'
p1400
Vblog/index.html
p1401
sS'RESPONSIVE_IMAGES'
p1402
I01
sS'AUTHOR'
p1403
VRahul Pathak
p1404
sS'MARKUP'
p1405
(Vrst
Vhtml
tp1406
sVDISPLAY_CATEGORIES_ON_MENU
p1407
I01
sVCHECK_MODIFIED_METHOD
p1408
Vmtime
p1409
sVARTICLE_EXCLUDES
p1410
(lp1411
g1349
asVDEFAULT_DATE_FORMAT
p1412
V%a %d %B %Y
p1413
sVTRANSLATION_FEED_ATOM
p1414
NsVPLUGINS
p1415
(lp1416
Vassets
p1417
aVrelated_posts
p1418
aVextract_toc
p1419
aVpost_stats
p1420
aVseries
p1421
aVrender_math
p1422
aVsitemap
p1423
asVTYPOGRIFY
p1424
I01
sS'TRANSLATION_FEED_RSS'
p1425
NsVEXTRA_TEMPLATES_PATHS
p1426
(lp1427
sVMARKDOWN
p1428
(dp1429
Vextension_configs
p1430
(dp1431
Vmarkdown.extensions.extra
p1432
(dp1433
sVmarkdown.extensions.codehilite
p1434
(dp1435
Vcss_class
p1436
Vhighlight
p1437
ssVmarkdown.extensions.meta
p1438
(dp1439
ssS'extensions'
p1440
(lp1441
g8
(g135
g10
NtRp1442
(dp1443
g138
I00
sbag1432
ag1434
ag1438
asVoutput_format
p1444
Vhtml5
p1445
ssVOUTPUT_RETENTION
p1446
(lp1447
sS'COLOPHON'
p1448
I01
sS'PROFILE_IMAGE'
p1449
Vsigma-black.svg
p1450
sVPAGE_LANG_URL
p1451
Vpages/{slug}-{lang}.html
p1452
sS'DEFAULT_PAGESCHEMA'
p1453
VBlogPost
p1454
sVTHEME
p1455
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/blueprint
p1456
sVUSE_FOLDER_AS_CATEGORY
p1457
I01
sVJINJA_ENVIRONMENT
p1458
(dp1459
Vextensions
p1460
(lp1461
g157
asVlstrip_blocks
p1462
I01
sVtrim_blocks
p1463
I01
ssVDEBUG
p1464
I01
sVREVERSE_CATEGORY_ORDER
p1465
I00
sVRELATIVE_URLS
p1466
I00
sVDATE_FORMATS
p1467
(dp1468
sVSITEURL
p1469
Vhttp://localhost:8000
p1470
sVCONTENT_CACHING_LAYER
p1471
Vreader
p1472
sS'SOCIAL'
p1473
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1474
sVNEWEST_FIRST_ARCHIVES
p1475
I01
sS'SITE_TITLE'
p1476
VRahul Pathak Blog
p1477
sS'COPYRIGHT_UNTIL'
p1478
I2017
sVPATH_METADATA
p1479
V
sVTEMPLATE_PAGES
p1480
(dp1481
sVFEED_DOMAIN
p1482
g1470
sVDIRECT_TEMPLATES
p1483
(lp1484
g1373
aVtags
p1485
aVcategories
p1486
aVauthors
p1487
aVarchives
p1488
asVLOG_FILTER
p1489
(lp1490
sS'SITE_DESCRIPTION'
p1491
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1492
sVAUTHOR_FEED_RSS
p1493
Vfeeds/%s.rss.xml
p1494
sS'TIMEZONE'
p1495
VAmerica/Vancouver
p1496
sVDRAFT_URL
p1497
Vdrafts/{slug}.html
p1498
sVPAGE_EXCLUDES
p1499
(lp1500
g1384
asVTAG_SAVE_AS
p1501
Vtag/{slug}.html
p1502
sVEXTRA_PATH_METADATA
p1503
(dp1504
Vextras/.htaccess
p1505
(dp1506
Vpath
p1507
V.htaccess
p1508
ssVextras/google9b8f9c7f2338fb3e.html
p1509
(dp1510
g1507
Vgoogle9b8f9c7f2338fb3e.html
p1511
ssVextras/favicon.ico
p1512
(dp1513
g1507
Vfavicon.ico
p1514
ssVextras/robots.txt
p1515
(dp1516
g1507
Vrobots.txt
p1517
sssVDEFAULT_CATEGORY
p1518
Vmisc
p1519
sVDRAFT_LANG_URL
p1520
Vdrafts/{slug}-{lang}.html
p1521
sVOUTPUT_SOURCES_EXTENSION
p1522
V.text
p1523
sVPAGINATION_PATTERNS
p1524
(lp1525
g8
(g222
g223
(I0
V{name}{number}{extension}
p1526
V{name}{number}{extension}
p1527
ttRp1528
asVSTATIC_EXCLUDE_SOURCES
p1529
I01
sVJINJA_FILTERS
p1530
(dp1531
Vmonth_name
p1532
g231
sVtagsort
p1533
g233
sVsidebar_date_format
p1534
g235
sVarchive_date_format
p1535
g237
sVdump
p1536
g239
ssVARTICLE_SAVE_AS
p1537
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1538
sVYEAR_ARCHIVE_SAVE_AS
p1539
Vblog/{date:%Y}/index.html
p1540
sVCSS_FILE
p1541
Vmain.css
p1542
sVAUTHOR_URL
p1543
Vauthor/{slug}.html
p1544
sVCATEGORY_URL
p1545
Vcategory/{slug}.html
p1546
sS'SITEMAP'
p1547
(dp1548
Vchangefreqs
p1549
(dp1550
Varticles
p1551
Vweekly
p1552
sg1349
Vmonthly
p1553
sVindexes
p1554
Vdaily
p1555
ssVpriorities
p1556
(dp1557
g1551
F0.80000000000000004
sg1349
F0.5
sg1554
F0.69999999999999996
ssVformat
p1558
Vxml
p1559
ssVSUMMARY_MAX_LENGTH
p1560
I60
sVSLUG_SUBSTITUTIONS
p1561
(tsS'RELATED_POSTS_MAX'
p1562
I4
sVFORMATTED_FIELDS
p1563
(lp1564
Vsummary
p1565
asVTHEME_STATIC_PATHS
p1566
(lp1567
Vstatic
p1568
asS'CATEGORY_FEED_RSS'
p1569
NsVTHEME_STATIC_DIR
p1570
Vtheme
p1571
sVDRAFT_LANG_SAVE_AS
p1572
Vdrafts/{slug}-{lang}.html
p1573
sS'FEED_ALL_RSS'
p1574
NsVREADERS
p1575
(dp1576
sVLOCALE
p1577
(lp1578
V
asVWRITE_SELECTED
p1579
(lp1580
sVDELETE_OUTPUT_DIRECTORY
p1581
I00
sVFEED_MAX_ITEMS
p1582
V
sVPATH
p1583
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content
p1584
sVPAGE_URL
p1585
Vpages/{slug}.html
p1586
sVSITENAME
p1587
VSummations
p1588
sVARTICLE_PERMALINK_STRUCTURE
p1589
V
sS'COLOPHON_CONTENT'
p1590
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1591
sVARTICLE_URL
p1592
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1593
sS'SITESCHEME'
p1594
Vhttps
p1595
sVMONTH_ARCHIVE_SAVE_AS
p1596
Vblog/{date:%Y}/{date:%m}/index.html
p1597
sVDEFAULT_METADATA
p1598
(dp1599
sVRSS_FEED_SUMMARY_ONLY
p1600
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1601
I00
sVPLUGIN_PATHS
p1602
(lp1603
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/pelican-plugins
p1604
asVFEED_ALL_ATOM
p1605
NsVSTATIC_SAVE_AS
p1606
g1368
sVAUTHOR_SAVE_AS
p1607
I00
sVPYGMENTS_RST_OPTIONS
p1608
(dp1609
sVAUTHOR_FEED_ATOM
p1610
Vfeeds/%s.atom.xml
p1611
sVARTICLE_LANG_SAVE_AS
p1612
g1364
sVPAGE_SAVE_AS
p1613
Vpages/{slug}.html
p1614
sS'OPEN_GRAPH_METADATA'
p1615
I01
sVOUTPUT_PATH
p1616
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/output
p1617
sVDEFAULT_STATUS
p1618
Vpublished
p1619
sS'DISQUS_SITENAME'
p1620
Vrahulpathakml
p1621
sS'COPYRIGHT_FROM'
p1622
I1998
ssbag8
(g328
g10
NtRp1623
(dp1624
g13
Vlibreoffice
p1625
sg15
Vlibreoffice
p1626
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp1627
(dp1628
g13
Vtravel
p1629
sg15
Vtravel
p1630
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp1631
(dp1632
g13
Vgermany
p1633
sg15
Vgermany
p1634
sg17
I01
sg18
g1326
sbasVauthor
p1635
g8
(g345
g10
NtRp1636
(dp1637
g13
VJosé Guilherme Vanz
p1638
sg15
Vjose-guilherme-vanz
p1639
sg17
I01
sg18
g1326
sbsVtitle
p1640
VFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg
p1641
sttp1642
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/recovering-missed-data-from-stash.md
p1643
(F1492853219.8197095
(V<p>Today my colleague almost lost everything that he did during 4 days! Because  a wrong git command he dropped his changes saved on stash.\u000aAfter this sad episode we looked for a way to try to recover as least part of his work... and we did it!</p>\u000a<p>First of all, when you are implementing some big feature, split it in small pieces and commit it regularly. It's not a good idea stay so long time without commit your changes,  so take care.</p>\u000a<p>Let's simulate a scenario to show what you can do when you lost some changes dropped from stash.\u000aOn our repository we have only one source file, main.c. We will use it to demonstrate the problem and the solution... so, our repository now is been like this:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_01.jpeg"></p>\u000a<p>and he have only an commit, the initial commit:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_02.jpeg"></p>\u000a<p>The first version of out file is:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_03.jpeg"></p>\u000a<p>So, let's start to code something. For this example, we do not need some big change, is only something to put in the stash. For this, I just will add a new line. The git-diff output should be:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_04.jpeg"></p>\u000a<p>Now, suppose that you have to pull some new changes from remote repository and you do not want to commit you changes. Thus, you decided to stashed your changes, pull the changes from remote repository\u000aand apply your changes again on the master.  For this, you execute the following command to move your changes to stash:</p>\u000a<p><code>git stash</code></p>\u000a<p>Looking into the stash we can see our changes there:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_06.jpeg"></p>\u000a<p>Now our code is in a safe place and the master branch is clean ( check with <code>git status</code>) and you can pull the changes. After pulled the changes, it's time to apply your changes again on the master.\u000aBut accidentally you execute</p>\u000a<p><code>git stash drop</code></p>\u000a<p>instead of:</p>\u000a<p><code>git stash pop</code></p>\u000a<p>and now, if you execute <code>git stash list</code> again, you can see that you dropped changes from the stash and does not apply them again on the master branch. OMG! Who can help us?\u000aAs you will seen soon git did not delete the object that contains your changes. It just remove the reference to it.\u000aTo prove this you can used the <code>git-fsck</code> command, this command verifies the connectivity and validity of the objects in the database.\u000aOn the begin of the repository I executed the <code>git-fsck</code> command and the output were:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_07.jpeg"></p>\u000a<p>Basically, I asked <code>git-fsck</code> show me the objects that are unreachable ( <code>--unreachable</code> argument ). As you can see, it didn't show any unreachable object.\u000aAfter I dropped the changes on my stash I executed the same command, and the output was different:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_08.jpeg"></p>\u000a<p>Now, we can see 3 unreachable objects. But which is our changes? Actually, I don't know. We have to search for it, for this job you can execute the <code>git-show</code> command for visualize what are each objects.</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_09.jpeg"></p>\u000a<p>There it is! The ID 95ccbd927ad4cd413ee2a28014c81454f4ede82c is our changes. Ok, we found your missed changes. Let's recover it!\u000aAn possible solution is checkout the ID into a new branch or apply the commit directly. Once you have the ID of the object with your changes is up to you decide what is the best way to put changes on the master branch again.\u000aFor this example I will use the <code>git-stash</code> to apply the commit on my master branch again.</p>\u000a<p><code>git stash apply 95ccbd927ad4cd413ee2a28014c81454f4ede82c</code></p>\u000a<p>A important thing to remember, git run its garbage collector periodically. After the gc execution you cannot see more the unreachable objects using <code>git-fsck</code>. ;)</p>
(dp1644
Vdate
p1645
g5
(S'\x07\xde\x02\x0f\x00\x00\x00\x00\x00\x00'
tRp1646
sVtags
p1647
(lp1648
g8
(g328
g10
NtRp1649
(dp1650
g13
Vgit
p1651
sg15
Vgit
p1652
sg17
I01
sg18
g1326
sbasVauthor
p1653
g8
(g345
g10
NtRp1654
(dp1655
g13
VJosé Guilherme Vanz
p1656
sg15
Vjose-guilherme-vanz
p1657
sg17
I01
sg18
g1326
sbsVtitle
p1658
VRecovering missed data from stash
p1659
sttp1660
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content/posts/tech/multivariate-linearregression.md
p1661
(F1492239777.8438642
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1662
Vdate
p1663
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp1664
sVcategory
p1665
g8
(g9
g10
NtRp1666
(dp1667
g13
Vtech
p1668
sg15
Vtech
p1669
sg17
I01
sg18
(dp1670
VIGNORE_FILES
p1671
(lp1672
V.#*
p1673
asVPAGE_ORDER_BY
p1674
Vbasename
p1675
sS'ARTICLE_TWEET_BUTTON'
p1676
I00
sVWITH_FUTURE_DATES
p1677
I01
sVCATEGORY_SAVE_AS
p1678
Vcategory/{slug}.html
p1679
sS'LINKS'
p1680
((VCV/Resume
Vuser
V/pages/duncan-locks-resume.html
t(VLinkedIn
Vlinkedin-squared
Vhttp://ca.linkedin.com/in/duncanlock/
ttp1681
sVARTICLE_ORDER_BY
p1682
Vreversed-date
p1683
sVDEFAULT_LANG
p1684
Ven
p1685
sVCACHE_CONTENT
p1686
I01
sVPAGE_LANG_SAVE_AS
p1687
Vpages/{slug}-{lang}.html
p1688
sVDRAFT_SAVE_AS
p1689
Vdrafts/{slug}.html
p1690
sVPAGE_PATHS
p1691
(lp1692
Vpages
p1693
asVDEFAULT_PAGINATION
p1694
I8
sVDOCUTILS_SETTINGS
p1695
(dp1696
S'math_output'
p1697
S'MathJax'
p1698
ssVLOAD_CONTENT_CACHE
p1699
I01
sVSTATIC_PATHS
p1700
(lp1701
Vimages
p1702
aVextras
p1703
aVfiles
p1704
asVDAY_ARCHIVE_SAVE_AS
p1705
Vblog/{date:%Y}/{date:%m}/{date:%d}/index.html
p1706
sVARTICLE_LANG_URL
p1707
V{slug}-{lang}.html
p1708
sVSLUGIFY_SOURCE
p1709
Vtitle
p1710
sVSTATIC_URL
p1711
V{path}
p1712
sVCATEGORY_FEED_ATOM
p1713
NsVOUTPUT_SOURCES
p1714
I00
sVPAGINATED_DIRECT_TEMPLATES
p1715
(lp1716
Vindex
p1717
asVTYPOGRIFY_IGNORE_TAGS
p1718
(lp1719
S'.math'
p1720
aS'script'
p1721
asVSTATIC_EXCLUDES
p1722
(lp1723
sVTAG_URL
p1724
Vtag/{slug}.html
p1725
sVARTICLE_PATHS
p1726
(lp1727
Vposts
p1728
asVGZIP_CACHE
p1729
I00
sVFILENAME_METADATA
p1730
V(?P<date>\u005cd{4}-\u005cd{2}-\u005cd{2}).*
p1731
sVDEFAULT_ORPHANS
p1732
I1
sVPELICAN_CLASS
p1733
Vpelican.Pelican
p1734
sVCACHE_PATH
p1735
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/cache
p1736
sVINDEX_SAVE_AS
p1737
Vindex.html
p1738
sVINTRASITE_LINK_REGEX
p1739
V[{|](?P<what>.*?)[|}]
p1740
sVDISPLAY_PAGES_ON_MENU
p1741
I00
sS'COLOPHON_TITLE'
p1742
VAbout
p1743
sS'ARCHIVES_SAVE_AS'
p1744
Vblog/index.html
p1745
sS'RESPONSIVE_IMAGES'
p1746
I01
sS'AUTHOR'
p1747
VRahul Pathak
p1748
sS'MARKUP'
p1749
(Vrst
Vhtml
tp1750
sVDISPLAY_CATEGORIES_ON_MENU
p1751
I01
sVCHECK_MODIFIED_METHOD
p1752
Vmtime
p1753
sVARTICLE_EXCLUDES
p1754
(lp1755
g1693
asVDEFAULT_DATE_FORMAT
p1756
V%a %d %B %Y
p1757
sVTRANSLATION_FEED_ATOM
p1758
NsVPLUGINS
p1759
(lp1760
Vassets
p1761
aVrelated_posts
p1762
aVextract_toc
p1763
aVpost_stats
p1764
aVseries
p1765
aVrender_math
p1766
aVgzip_cache
p1767
aVsitemap
p1768
asVTYPOGRIFY
p1769
I01
sS'TRANSLATION_FEED_RSS'
p1770
NsVEXTRA_TEMPLATES_PATHS
p1771
(lp1772
sVMARKDOWN
p1773
(dp1774
Vextension_configs
p1775
(dp1776
Vmarkdown.extensions.extra
p1777
(dp1778
sVmarkdown.extensions.codehilite
p1779
(dp1780
Vcss_class
p1781
Vhighlight
p1782
ssVmarkdown.extensions.meta
p1783
(dp1784
ssS'extensions'
p1785
(lp1786
g8
(g135
g10
NtRp1787
(dp1788
g138
I00
sbag1777
ag1779
ag1783
asVoutput_format
p1789
Vhtml5
p1790
ssVOUTPUT_RETENTION
p1791
(lp1792
sS'COLOPHON'
p1793
I01
sVPAGE_LANG_URL
p1794
Vpages/{slug}-{lang}.html
p1795
sS'DEFAULT_PAGESCHEMA'
p1796
VBlogPost
p1797
sVTHEME
p1798
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blueprint
p1799
sVUSE_FOLDER_AS_CATEGORY
p1800
I01
sVJINJA_ENVIRONMENT
p1801
(dp1802
Vextensions
p1803
(lp1804
g157
asVlstrip_blocks
p1805
I01
sVtrim_blocks
p1806
I01
ssVDEBUG
p1807
I00
sVREVERSE_CATEGORY_ORDER
p1808
I00
sVRELATIVE_URLS
p1809
I00
sVDATE_FORMATS
p1810
(dp1811
sVSITEURL
p1812
Vhttps://summations.github.io
p1813
sVCONTENT_CACHING_LAYER
p1814
Vreader
p1815
sS'SOCIAL'
p1816
((VGitHub
Vgithub-circled
Vhttp://github.com/rahulpathakml
ttp1817
sVNEWEST_FIRST_ARCHIVES
p1818
I01
sS'SITE_TITLE'
p1819
VRahul Pathak Blog
p1820
sS'COPYRIGHT_UNTIL'
p1821
I2017
sVPATH_METADATA
p1822
V
sVTEMPLATE_PAGES
p1823
(dp1824
sVFEED_DOMAIN
p1825
g1813
sVDIRECT_TEMPLATES
p1826
(lp1827
g1717
aVtags
p1828
aVcategories
p1829
aVauthors
p1830
aVarchives
p1831
asVLOG_FILTER
p1832
(lp1833
sS'SITE_DESCRIPTION'
p1834
VRahul Pathak personal site. Includes my blog, colitis resources, SCD recipes, portfolio and CV/Resume.
p1835
sVAUTHOR_FEED_RSS
p1836
Vfeeds/%s.rss.xml
p1837
sS'TIMEZONE'
p1838
VAmerica/Vancouver
p1839
sVDRAFT_URL
p1840
Vdrafts/{slug}.html
p1841
sVPAGE_EXCLUDES
p1842
(lp1843
g1728
asVTAG_SAVE_AS
p1844
Vtag/{slug}.html
p1845
sVEXTRA_PATH_METADATA
p1846
(dp1847
Vextras/.htaccess
p1848
(dp1849
Vpath
p1850
V.htaccess
p1851
ssVextras/google9b8f9c7f2338fb3e.html
p1852
(dp1853
g1850
Vgoogle9b8f9c7f2338fb3e.html
p1854
ssVextras/favicon.ico
p1855
(dp1856
g1850
Vfavicon.ico
p1857
ssVextras/robots.txt
p1858
(dp1859
g1850
Vrobots.txt
p1860
sssVDEFAULT_CATEGORY
p1861
Vmisc
p1862
sVDRAFT_LANG_URL
p1863
Vdrafts/{slug}-{lang}.html
p1864
sVOUTPUT_SOURCES_EXTENSION
p1865
V.text
p1866
sVPAGINATION_PATTERNS
p1867
(lp1868
g8
(g222
g223
(I0
V{name}{number}{extension}
p1869
V{name}{number}{extension}
p1870
ttRp1871
asVSTATIC_EXCLUDE_SOURCES
p1872
I01
sVJINJA_FILTERS
p1873
(dp1874
Vmonth_name
p1875
g231
sVtagsort
p1876
g233
sVsidebar_date_format
p1877
g235
sVarchive_date_format
p1878
g237
sVdump
p1879
g239
ssVARTICLE_SAVE_AS
p1880
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/index.html
p1881
sVYEAR_ARCHIVE_SAVE_AS
p1882
Vblog/{date:%Y}/index.html
p1883
sVCSS_FILE
p1884
Vmain.css
p1885
sVAUTHOR_URL
p1886
Vauthor/{slug}.html
p1887
sVCATEGORY_URL
p1888
Vcategory/{slug}.html
p1889
sS'SITEMAP'
p1890
(dp1891
Vchangefreqs
p1892
(dp1893
Varticles
p1894
Vweekly
p1895
sg1693
Vmonthly
p1896
sVindexes
p1897
Vdaily
p1898
ssVpriorities
p1899
(dp1900
g1894
F0.80000000000000004
sg1693
F0.5
sg1897
F0.69999999999999996
ssVformat
p1901
Vxml
p1902
ssVSUMMARY_MAX_LENGTH
p1903
I60
sVSLUG_SUBSTITUTIONS
p1904
(tsS'RELATED_POSTS_MAX'
p1905
I4
sVFORMATTED_FIELDS
p1906
(lp1907
Vsummary
p1908
asVTHEME_STATIC_PATHS
p1909
(lp1910
Vstatic
p1911
asS'CATEGORY_FEED_RSS'
p1912
NsVTHEME_STATIC_DIR
p1913
Vtheme
p1914
sVDRAFT_LANG_SAVE_AS
p1915
Vdrafts/{slug}-{lang}.html
p1916
sS'FEED_ALL_RSS'
p1917
NsVREADERS
p1918
(dp1919
sVLOCALE
p1920
(lp1921
V
asVWRITE_SELECTED
p1922
(lp1923
sVDELETE_OUTPUT_DIRECTORY
p1924
I00
sVFEED_MAX_ITEMS
p1925
V
sVPATH
p1926
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content
p1927
sVPAGE_URL
p1928
Vpages/{slug}.html
p1929
sVSITENAME
p1930
VSummations
p1931
sVARTICLE_PERMALINK_STRUCTURE
p1932
V
sS'COLOPHON_CONTENT'
p1933
V<a href="/pages/duncan-locks-resume.html">\u000aAn adaptable and enthusiastic developer with broad experience\u000aand an artistic back&shy;ground. Strong graph&shy;ical\u000acom&shy;munication, design, creative\u000a<span class="amp">&amp;</span> prob&shy;lem solving\u000askills &mdash; and an eye for detail.</a>
p1934
sVARTICLE_URL
p1935
Vblog/{date:%Y}/{date:%m}/{date:%d}/{slug}/
p1936
sS'SITESCHEME'
p1937
Vhttp
p1938
sVMONTH_ARCHIVE_SAVE_AS
p1939
Vblog/{date:%Y}/{date:%m}/index.html
p1940
sVDEFAULT_METADATA
p1941
(dp1942
sVRSS_FEED_SUMMARY_ONLY
p1943
I01
sS'ARTICLE_GOOGLEPLUS_BUTTON'
p1944
I00
sVPLUGIN_PATHS
p1945
(lp1946
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/pelican-plugins
p1947
asVFEED_ALL_ATOM
p1948
NsVSTATIC_SAVE_AS
p1949
g1712
sVAUTHOR_SAVE_AS
p1950
I00
sVPYGMENTS_RST_OPTIONS
p1951
(dp1952
sVAUTHOR_FEED_ATOM
p1953
Vfeeds/%s.atom.xml
p1954
sVARTICLE_LANG_SAVE_AS
p1955
g1708
sVPAGE_SAVE_AS
p1956
Vpages/{slug}.html
p1957
sS'OPEN_GRAPH_METADATA'
p1958
I01
sVOUTPUT_PATH
p1959
V/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/output
p1960
sVDEFAULT_STATUS
p1961
Vpublished
p1962
sS'DISQUS_SITENAME'
p1963
Vrahulpathakml
p1964
sS'COPYRIGHT_FROM'
p1965
I1998
ssbsVtags
p1966
(lp1967
g8
(g328
g10
NtRp1968
(dp1969
g13
Vmachinelearning
p1970
sg15
Vmachinelearning
p1971
sg17
I01
sg18
g1670
sbag8
(g328
g10
NtRp1972
(dp1973
g13
Vregression
p1974
sg15
Vregression
p1975
sg17
I01
sg18
g1670
sbasVtitle
p1976
VUnderstanding Multivariate Linear Regression
p1977
sttp1978
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/blogsrc/content/posts/tech/Logistic Regression.md
p1979
(F1492255010.7084544
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp1980
Vdate
p1981
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp1982
sVcategory
p1983
g8
(g9
g10
NtRp1984
(dp1985
g13
Vtech
p1986
sg15
Vtech
p1987
sg17
I01
sg18
g1670
sbsVtags
p1988
(lp1989
g8
(g328
g10
NtRp1990
(dp1991
g13
Vmachinelearning
p1992
sg15
Vmachinelearning
p1993
sg17
I01
sg18
g1670
sbag8
(g328
g10
NtRp1994
(dp1995
g13
Vclassification
p1996
sg15
Vclassification
p1997
sg17
I01
sg18
g1670
sbasVtitle
p1998
VLogistic Regression
p1999
sttp2000
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/summations.github.io/content/posts/tech/multivariate-linearregression.md
p2001
(F1492239777.8438642
(V<p>Linear regression with multiple variables is also known as "multivariate linear regression". Multiple linear regression is a generalization of linear regression by considering more than one independent variable, and a specific case of general linear models formed by restricting the number of dependent variables to one\u000aLets introduce notation for equations where we can have any number of input variables.</p>\u000a<div class="math">\u005cbegin{align*}\u000ax_j^{(i)} &amp;= \u005ctext{value of feature } j \u005ctext{ in the }i^{th}\u005ctext{ training set} \u005cnewline \u000ax^{(i)}&amp; = \u005ctext{column vector of all the features of }i^{th}\u005ctext{ training set} \u005cnewline \u000a&amp;m = \u005ctext{the number of training set} \u005cnewline \u000a&amp;n = \u005cleft| x^{(i)} \u005cright| ; \u005ctext{(the number of features)} \u000a\u005cend{align*}</div>\u000a<p>The multivariable form of the hypothesis function accommodating these multiple features is as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta (x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_2 + \u005ctheta_3 x_3 + \u005ccdots + \u005ctheta_n x_n\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In order to develop intuition about this function, we can think about <span class="math">\u005c(\u005ctheta_0\u005c)</span> as the basic price of a house, <span class="math">\u005c(\u005ctheta_1\u005c)</span> as the price per square meter, <span class="math">\u005c(\u005ctheta_2\u005c)</span> as the price per floor, etc. <span class="math">\u005c(x_1\u005c)</span> will be the number of square meters in the house, <span class="math">\u005c(x_2\u005c)</span> the number of floors, etc.</p>\u000a<p>Using the definition of matrix multiplication, our multivariable hypothesis function can be concisely represented as:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    h_\u005ctheta(x) =\u000a    \u005cbegin{bmatrix}\u000a        \u005ctheta_0 \u005chspace{2em} \u005ctheta_1 \u005chspace{2em} ... \u005chspace{2em} \u005ctheta_n\u000a    \u005cend{bmatrix}\u000a    \u005cbegin{bmatrix}\u000a        x_0 \u005cnewline \u000a        x_1 \u005cnewline \u000a        \u005cvdots \u005cnewline \u000a        x_n\u000a    \u005cend{bmatrix}= \u005ctheta^T x\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>This is a vectorization of our hypothesis function for one training example; see the lessons on vectorization to learn more.</p>\u000a<p>Remark: Note that for convenience reasons in this course we assume <span class="math">\u005c(x_{0}^{(i)} =1 \u005ctext{ for } (i\u005cin { 1,\u005cdots, m } )\u005c)</span>. This allows us to do matrix operations with <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x\u005c)</span>. Hence making the two vectors <span class="math">\u005c(\u005ctheta\u005c)</span> and <span class="math">\u005c(x(i)\u005c)</span> match each other element-wise (that is, have the same number of elements: <span class="math">\u005c(n+1\u005c)</span>).</p>\u000a<p>The following example shows us the reason behind setting <span class="math">\u005c(x_{0}^{(i)}=1\u005c)</span> :</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    X = \u005cbegin{bmatrix}\u000a            x^{(1)}_0 & x^{(2)}_0 & x^{(3)}_0 \u005cnewline \u000a            x^{(1)}_1 & x^{(2)}_1 & x^{(3)}_1 \u000a        \u005cend{bmatrix} &,\u005ctheta = \u000a        \u005cbegin{bmatrix}\u000a            \u005ctheta_0 \u005cnewline \u000a            \u005ctheta_1 \u005cnewline\u000a        \u005cend{bmatrix}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>As a result, you can calculate the hypothesis as a vector with <span class="math">\u005c(h_{\u03b8}(X)=\u03b8^TX\u005c)</span></p>\u000a<p>&lt;br ></p>\u000a<h4>Gradient Descent For Multiple Variables</h4>\u000a<p>The gradient descent equation itself is generally the same form; we just have to repeat it for our 'n' features:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*} \u000a\u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a\u005c; & \u005ctheta_0 := \u005ctheta_0 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_0^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_1 := \u005ctheta_1 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_1^{(i)} \u005cnewline \u000a\u005c; & \u005ctheta_2 := \u005ctheta_2 - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_2^{(i)} \u005cnewline \u000a& \u005ccdots \u005cnewline \u000a\u005crbrace \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>In other words:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    \u005ctext{repeat until convergence:} \u005c; \u005clbrace \u005cnewline \u000a    \u005c; & \u005ctheta_j := \u005ctheta_j - \u005calpha \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} (h_\u005ctheta(x^{(i)}) - y^{(i)}) \u005ccdot x_j^{(i)} \u005c\u005c\u000a    \u005c; & \u005ctext{for j := 0...n}\u005cnewline \u000a    \u005crbrace\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Gradient Descent in Practice I - Feature Scaling</h3>\u000a<p>We can speed up gradient descent by having each of our input values in roughly the same range. This is because \u005c(\u005ctheta\u005c) will descend quickly on small ranges and slowly on large ranges, and so will oscillate inefficiently down to the optimum when the variables are very uneven.</p>\u000a<p>The way to prevent this is to modify the ranges of our input variables so that they are all roughly the same. Ideally:</p>\u000a<div class="math">$$ \u22121 \u2264 x_i \u2264 1 $$</div>\u000a<p>or</p>\u000a<div class="math">$$ \u22120.5 \u2264 x_i \u2264 0.5 $$</div>\u000a<p>These aren't exact requirements; we are only trying to speed things up. The goal is to get all input variables into roughly one of these ranges, give or take a few.</p>\u000a<p>Two techniques to help with this are feature scaling and mean normalization. Feature scaling involves dividing the input values by the range (i.e. the maximum value minus the minimum value) of the input variable, resulting in a new range of just 1. Mean normalization involves subtracting the average value for an input variable from the values for that input variable resulting in a new average value for the input variable of just zero. To implement both of these techniques, adjust your input values as shown in this formula:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    x_i & :=(x_i\u2212\u03bc_i)/s_i \u005cnewline\u000a    & s_i = \u005ctext{Standard Deviation} \u005cnewline\u000a    & \u03bc_i = \u005ctext{Mean}\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>Where \u03bci is the average of all the values for feature (i) and si is the range of values (max - min), or si is the standard deviation.</p>\u000a<p>Note that dividing by the range, or dividing by the standard deviation, give different results. The quizzes in this course use range - the programming exercises use standard deviation.</p>\u000a<p>For example, if xi represents housing prices with a range of 100 to 2000 and a mean value of 1000, then, xi:=price\u221210001900.</p>\u000a<h3>Gradient Descent in Practice II - Learning Rate</h3>\u000a<p>Note: [5:20 - the x -axis label in the right graph should be \u03b8 rather than No. of iterations ]</p>\u000a<p>Debugging gradient descent. Make a plot with number of iterations on the x-axis. Now plot the cost function, J(\u03b8) over the number of iterations of gradient descent. If J(\u03b8) ever increases, then you probably need to decrease \u03b1.</p>\u000a<p>Automatic convergence test. Declare convergence if J(\u03b8) decreases by less than E in one iteration, where E is some small value such as 10\u22123. However in practice it's difficult to choose this threshold value.</p>\u000a<div class="imgcap">\u000a<img alt="" src="/images/assets/lr-gd/costfunction-alpha1.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>It has been proven that if learning rate \u03b1 is sufficiently small, then \u005c( J(\u005ctheta)\u005c) will decrease on every iteration.</p>\u000a<div class="imgcap">\u000a<img alt= "" src="/images/assets/lr-gd/costfunction-alpha2.png" style="border:none; width:50%;">\u000a</div>\u000a\u000a<p>To summarize:\u000aIf \u03b1 is too small: slow convergence.\u000aIf \u03b1 is too large: \u005c( J(\u005ctheta)\u005c) may not decrease on every iteration and thus may not converge.</p>\u000a<h3>Features and Polynomial Regression</h3>\u000a<p>We can improve our features and the form of our hypothesis function in a couple different ways. We can combine multiple features into one. For example, we can combine <span class="math">\u005c(x_1\u005c)</span> and <span class="math">\u005c(x_2\u005c)</span> into a new feature <span class="math">\u005c(x_3\u005c)</span> by taking <span class="math">\u005c(x_1*x_2\u005c)</span>.</p>\u000a<h4>Polynomial Regression</h4>\u000a<p>Our hypothesis function need not be linear (a straight line) if that does not fit the data well. We can change the behavior or curve of our hypothesis function by making it a quadratic, cubic or square root function (or any other form). For example, if our hypothesis function is <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1\u005c)</span> then we can create additional features based on <span class="math">\u005c(x_1\u005c)</span> , to get the quadratic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2\u005c)</span> or the cubic function <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 x_1^2 + \u005ctheta_3 x_1^3\u005c)</span>. </p>\u000a<p>In the cubic version, we have created new features <span class="math">\u005c(x_2\u005c)</span> and <span class="math">\u005c(x_3\u005c)</span> where <span class="math">\u005c(x_2=x_1^2\u005c)</span> and <span class="math">\u005c(x_3=x_1^3\u005c)</span>. To make it a square root function, we could do: <span class="math">\u005c(h_{\u005ctheta}(x) = \u005ctheta_0 + \u005ctheta_1 x_1 + \u005ctheta_2 \u005csqrt{x_1}\u005c)</span>. One important thing to keep in mind is, if you choose your features this way then feature scaling becomes very important. eg. if <span class="math">\u005c(x_1\u005c)</span> has range 1 - 1000 then range of <span class="math">\u005c(x_1^2\u005c)</span> becomes 1 - 1000000 and that of <span class="math">\u005c(x_1^3\u005c)</span> becomes 1 - 1000000000</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp2002
Vdate
p2003
g5
(S'\x07\xe1\x04\n\x12 \x00\x00\x00\x00'
tRp2004
sVcategory
p2005
g8
(g9
g10
NtRp2006
(dp2007
g13
Vtech
p2008
sg15
Vtech
p2009
sg17
I01
sg18
g372
sbsVtags
p2010
(lp2011
g8
(g328
g10
NtRp2012
(dp2013
g13
Vmachinelearning
p2014
sg15
Vmachinelearning
p2015
sg17
I01
sg18
g372
sbag8
(g328
g10
NtRp2016
(dp2017
g13
Vregression
p2018
sg15
Vregression
p2019
sg17
I01
sg18
g372
sbasVtitle
p2020
VUnderstanding Multivariate Linear Regression
p2021
sttp2022
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/build-your-own-malloc.md
p2023
(F1492853219.8157091
(V<p>Some time ago I bought the The Linux Programming Interface book, one of the best books I have acquired.\u000aOne of the first chapters I read were about memory allocation. At the end of the chapter, author offers some exercises\u000ato the reader. Among them there is a challenging one. He suggests to implement the equivalent to the malloc and free\u000afunctions. The challenge has been accepted!</p>\u000a<p>First of all, this implementation is just for study purposes. It means you should NOT start to implement your malloc and\u000afree functions for production programs. Do not reinvent the wheel! The glibc are being improved for decades for many\u000agreat guys. You probably will take more time to do the equivalent excellent work! ;)</p>\u000a<p>I assume that you know a little bit about how a process and its segments works. It is nice remember this code does not\u000acover all details. As any software it can be improved (a lot).</p>\u000a<h3>System calls</h3>\u000a<p>There are two system calls allows the program to increase the program break, <code>brk</code> and <code>sbrk</code>. The program break defines\u000awhere is the end of process's data segment. It means if the program increases the program break, memory is allocated.\u000aOtherwise, it deallocate memory. In this code only <code>sbrk</code> is used, its only parameter defines the amount of memory program wants\u000ato increase. If the program break has being increased successfully, a pointer to the beginning of the allocated memory is\u000areturned. Otherwise, (void*) -1 is returned. <code>brk</code> is not being used. It allows the program set the end of data segment to\u000athe pointer passed in the functions arguments. I think this function is not being in use because the code does not decrease\u000athe program break. Maybe in the future I implement this feature and use the <code>brk</code> system call.</p>\u000a<p>For more details, take a look in the man page. ;)</p>\u000a<h3>Code</h3>\u000a<p>[gist:id=ba82bdd0dfeb44c260aa,file=memory.c]</p>\u000a<p>The cornerstone of the code is a linked list, called <code>free_list</code>. It stores all available memories blocks. Each element is\u000acomposed for a header and the memory itself. The header is a structure that contains two metadata. The first field of the\u000astruct is block's size and the second is a pointer to next memory block in the <code>free_list</code>. The first thing necessary\u000awhen a program request some memory is check if the <code>free_list</code> is already initialized (line 29). If not, it is initiated\u000awith a block of 0 size (lines 29 ~ 36). This is done to keep the first element in the list always the same. Thus, it is more easy to know\u000awhen stop a loop through the list and reduce the code complexity.</p>\u000a<p><img alt="" src="{filename}/images/mem_init.png"></p>\u000a<p>Once <code>free_list</code> initiated, a search in the list is performed. Looking for a memory block with enough size to attempt the\u000arequest. The algorithm follows the 'first fit' approach. It means that the first memory block found with enough size is\u000asplit and returned a pointer to the memory to the caller (lines 38 ~ 53). If any block has enough size, the heap is increased and the\u000anew memory is returned (line 55). The pointer returned to the user is a pointer to the memory block itself. It is\u000anot include the header. Does not make sense give to caller  access to the control structures. This structure is used only\u000afor memory management and to know what is the memory block size when the program wants to frees it.</p>\u000a<p><img alt="" src="{filename}/images/one_mem_allocate.png"></p>\u000a<p>As you can see between lines 26 and 28, all memory blocks are multiple of the header size. It means the minimum\u000amemory size allocated is the HEADER_SIZE * 2 (with the header). This approach facilitate the pointer arithmetic and avoid\u000acounting every single byte. In other words, even if the user requests less memory, the allocated memory will be always\u000amultiple of the HEADER_SIZE.</p>\u000a<p>When the user wants to free a pointer, another search in the <code>free_list</code> is performed. This time, looking for a memory block\u000anext the to the block is being freed. If a block is found, the two blocks are merged into one (lines 64 ~ 77). Otherwise,\u000athe block is appended in the list (lines 78 ~ 80). The goal of merge close blocks is avoid memory fragmentation. ;)</p>\u000a<p>According to my weak skill in asymptotic analysis, both functions have running time of O(n). Since each functions performed\u000aa search in the <code>free_list</code>. Please, tell me if I am wrong. I will study more about this topic and correct if I wrote\u000abullshit. The following sources are the header and a test program.</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=memory.h]</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=sample.c]</p>\u000a<p>Feel free to ask me in the comments. =]</p>\u000a<h4>References</h4>\u000a<p><a href="http://linux.die.net/man/2/sbrk">brk, sbrk</a></p>\u000a<p><a href="http://www.amazon.com/Linux-Programming-Interface-System-Handbook/dp/1593272200/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501399&amp;sr=1-1&amp;keywords=the+linux+programming+interface">The Linux Programing Interface</a></p>\u000a<p><a href="http://www.amazon.com/Programming-Language-Brian-W-Kernighan/dp/0131103628/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501445&amp;sr=1-1&amp;keywords=the+c+programming+language">The C Programming Language</a></p>\u000a<p><a href="https://github.com/jvanz/tlpi">Repository</a></p>
(dp2024
Vdate
p2025
g5
(S'\x07\xdf\x0b\x1a\x00\x08\x00\x00\x00\x00'
tRp2026
sVauthor
p2027
g8
(g345
g10
NtRp2028
(dp2029
g13
VJosé Guilherme Vanz
p2030
sg15
Vjose-guilherme-vanz
p2031
sg17
I01
sg18
g19
sbsVtags
p2032
(lp2033
g8
(g328
g10
NtRp2034
(dp2035
g13
Vc
sg15
Vc
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2036
(dp2037
g13
Vtlpi
p2038
sg15
Vtlpi
p2039
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2040
(dp2041
g13
Vglibc
p2042
sg15
Vglibc
p2043
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2044
(dp2045
g13
Vmemory
p2046
sg15
Vmemory
p2047
sg17
I01
sg18
g19
sbasVmodified
p2048
g5
(S'\x07\xe0\x01\x18\x16\x16\x00\x00\x00\x00'
tRp2049
sVtitle
p2050
Vmalloc/free implementation. Just4Fun!
p2051
sttp2052
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg.md
p2053
(F1492853219.8157091
(V<p>While I have not decided what it will be my first post about development stuff I'll post the text that me and my friend wrote to the The Document Foundation's blog. In that text we talked about out trip to LibreOffice hackfest in freiburg.\u000aFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg</p>\u000a<p>José Guilherme Vanz and Marcos Souza, LibreOffice development in Brazil</p>\u000a<p>Our first contact with the LibreOffice was in FISL 2012 (International Forum of Free Software, held in Porto Alegre, Brazil). Since then, we got quickly involved with the LibreOffice development community. Now we attend events in Brazil advocating to people about the better office suite ever done!\u000aMonths ago, after some time contributing to the project and participating in LibreOffice community, we, José Guilherme Vanz and Marcos Paulo de Souza were invited to participate in the Freiburg LibreOffice Hackfest. We were very happy and very excited! This invitation showed us that we were recognized for our humble work in the project and because this is a unique opportunity to work with people that we just know by mailing or IRC chats. So, we started the preparations of travel, such as paperwork, funds and a negotiation with our employers.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_01.jpg"></p>\u000a<p>We arrived in Germany thinking about how to learn more about LibreOffice code base, and learn some tips and tricks to code while contributing with the project. The guys at the hackfest work full time in the project, so we were very excited to improve our skills, including stuffs about how to make a nice hackfest and try setup one in Brazil!\u000aOur journey in Germany began in the beautiful city of Munich, where we stayed for two days. We met Christian Lohmaier, the current release engineer of LibreOffice project. He and Florian Effenberger were patient and generous to show Munich to us and all nice places of this nice city! Thanks a lot guys!\u000aThen we went to Freiburg, where the Hackfest was to start. The event took three days. We had the opportunity to meet some of the most famous mega developers! It was a very nice experience to link faces and names to IRC nicks, and of course, to question the \u201cpythons\u201d of the project in real time! Surely, we learned a lot in these 3 days!\u000aMarcos did some work in LibreOffice Math. The first was about including tooltips in the new Elements Dock. To solve this bug, we basically need to create some strings with the descriptions of each element in the Elements Dock. These strings are stored inside \u201c.src\u201d files. These files are \u201ccompiled\u201d and used by translators to translate each string to a specific language used in the user interface of LibreOffice. This fix was not difficult, just painful!\u000aThe second bug that Marcos worked was about to implement a scrollbar in the Elements Dock. We did not finish this fix because he had some doubts and some points that need some other fixes. Still in the event, we talked with some others hackers about other issues.\u000aI was focused trying to execute a static checker to detect some error prone code and fix them</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>After three days of hackfest, we started the \u201cHamburg Home Hacking Marathon\u201d! We stayed four days in Hamburg, coding in the house of LibreOffice enginners! Again, we had the pleasure to work with Eike Ratke, Michael Stahl, Stephan Bergmann and Bjoern Michaelsen. All of them willing to help us teaching about the code base and showing some tips.\u000aUsing our precious time with them, Marcos worked in the issue 60698 (https://bugs.freedesktop.org/show_bug.cgi?id=60698). This bug is about unify some shared libraries that are built by few files. Doing this we get a smaller library because these libraries are compiled and built just once, and by this we avoid the dispersion of shared libraries. Working in this bug, Marcos unified all shared libraries of IO module.\u000aMarcos tried yet to solve a bug in Calc, with the help of Eike as mentor. This bug was about ODS files using link to another sheets. By changing the referenced files, Calc was not allowed to update the data inside the file that was referencing. But, this bug was not so easy, and the problem was bigger than we thought. So we couldn\u2019t solve this bug in that time, and Eike removed the bug from the easy hacks.\u000aAnd I was still working in static checker. I started to look to a bug of Math, about the user interface. After some work, I fixed that bug!\u000aIn the third day, we went back to Stephan\u2019s place, trying to solve bugs and learn more! This day Bjoern went to Stephan\u2019s house too, totaling six guys programming in the same table! In this day Marcos worked in a bug(https://bugs.freedesktop.org/show_bug.cgi?id=63020) indicated by Bjoern. That bug was related to removing a class from LibreOffice. With Stephan\u2019s help, Marcos could remove that class and use a better approach in the code.\u000aAnd in the last day, we went again to Eike\u2019s home, where we enjoyed to last moments with the great developers of LibreOffice! We talked a little about their work and how they work daily.</p>\u000a<p><img alt="" src="{filename}/images/hackfest_02.jpg"></p>\u000a<p>For sure, these days were very fruitful, and we learned a lot of things that we\u2019ll use in the future.\u000aWe came back to Brazil and we want to say a big THANK YOU for all of you guys! To the  Brazilian community, that welcomed us and keeps helping us. To The Document Foundation, who gave us this opportunity. To all developers that are helping us since we started in the project, specially YOU we met this wonderful German journey, and all people involved directly or indirectly in this amazing project!</p>\u000a<p>Source: http://blog.documentfoundation.org/2013/12/04/from-brazil-to-germany-an-unforgettable-libreoffice-hackfest-in-freiburg/</p>\u000a<p>Portuguese version: http://blog.pt-br.libreoffice.org/2013/12/09/do-brasil-para-a-alemanha-um-inesquecivel-hackfest-em-freiburg/</p>
(dp2054
Vdate
p2055
g5
(S'\x07\xde\x01\x18\x00\x00\x00\x00\x00\x00'
tRp2056
sVauthor
p2057
g8
(g345
g10
NtRp2058
(dp2059
g13
VJosé Guilherme Vanz
p2060
sg15
Vjose-guilherme-vanz
p2061
sg17
I01
sg18
g19
sbsVtags
p2062
(lp2063
g8
(g328
g10
NtRp2064
(dp2065
g13
Vhackfest
p2066
sg15
Vhackfest
p2067
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2068
(dp2069
g13
Vlibreoffice
p2070
sg15
Vlibreoffice
p2071
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2072
(dp2073
g13
Vtravel
p2074
sg15
Vtravel
p2075
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2076
(dp2077
g13
Vgermany
p2078
sg15
Vgermany
p2079
sg17
I01
sg18
g19
sbasVtitle
p2080
VFrom Brazil to Germany, an Unforgettable LibreOffice Hackfest in Freiburg
p2081
sttp2082
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/Logistic Regression.md
p2083
(F1492853219.8197095
(V<p>To attempt classification, one method is to use linear regression and map all predictions greater than 0.5 as a 1 and all less than 0.5 as a 0. However, this method doesn't work well because classification is not actually a linear function.</p>\u000a<p>The classification problem is just like the regression problem, except that the values <em>y</em> we now want to predict take on only a small number of discrete values. For now, we will focus on the binary classification problem in which y can take on only two values, 0 and 1. (Most of what we say here will also generalize to the multiple-class case.) For instance, if we are trying to build a spam classifier for email, then <span class="math">\u005c(x^{(i)}\u005c)</span> may be some features of a piece of email, and <span class="math">\u005c(y\u005c)</span> may be 1 if it is a piece of spam mail, and 0 otherwise. Hence, <span class="math">\u005c(y\u005cin{0,1}\u005c)</span>. 0 is also called the negative class, and 1 the positive class, and they are sometimes also denoted by the symbols \u201c-\u201d and \u201c+.\u201d Given x(i), the corresponding <span class="math">\u005c(y^{(i)}\u005c)</span> is also called the label for the training example. </p>\u000a<h3>Hypothesis Representation</h3>\u000a<p>We could approach the classification problem ignoring the fact that y is discrete-valued, and use our old linear regression algorithm to try to predict <span class="math">\u005c(y\u005c)</span> given <span class="math">\u005c(x\u005c)</span>. However, it is easy to construct examples where this method performs very poorly. Intuitively, it also doesn\u2019t make sense for <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to take values larger than 1 or smaller than 0 when we know that <span class="math">\u005c(y \u2208 {0, 1}\u005c)</span>. To fix this, let\u2019s change the form for our hypotheses <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> to satisfy <span class="math">\u005c(0\u2264h_\u005ctheta(x)\u22641\u005c)</span>. This is accomplished by plugging <span class="math">\u005c(\u005ctheta^Tx\u005c)</span> into the Logistic Function.</p>\u000a<p>Our new form uses the "Sigmoid Function," also called the "Logistic Function":</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=g(\u005ctheta^Tx)z=\u005ctheta^Txg(z)=11+e\u2212z\u000a\u005cend{align*}\u000a</div>\u000a\u000a<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">loadtxt</span><span class="p">,</span> <span class="n">where</span>\u000a<span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">scatter</span><span class="p">,</span> <span class="n">show</span><span class="p">,</span> <span class="n">legend</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span>\u000a\u000a<span class="c1">#load the dataset</span>\u000a<span class="n">data</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;ex2data1.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>\u000a\u000a<span class="n">X</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>\u000a<span class="n">y</span> <span class="o">=</span> <span class="n">data</span><span class="p">[:,</span> <span class="mi">2</span><span class="p">]</span>\u000a\u000a<span class="n">pos</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>\u000a<span class="n">neg</span> <span class="o">=</span> <span class="n">where</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">pos</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>\u000a<span class="n">scatter</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">X</span><span class="p">[</span><span class="n">neg</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>\u000a<span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Exam 1 score&#39;</span><span class="p">)</span>\u000a<span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Exam 2 score&#39;</span><span class="p">)</span>\u000a<span class="n">legend</span><span class="p">([</span><span class="s1">&#39;Not Admitted&#39;</span><span class="p">,</span> <span class="s1">&#39;Admitted&#39;</span><span class="p">])</span>\u000a<span class="n">show</span><span class="p">()</span>\u000a</pre></div>\u000a\u000a\u000a<p>The following image shows us what the sigmoid function looks like:</p>\u000a<div class="figure">\u000a<img alt="" src="/images/assets/logisticreg/sigmoidfunction.png" style="border:none; width:100%;">\u000a</div>\u000a\u000a<p>The function <span class="math">\u005c(g(z)\u005c)</span>, shown here, maps any real number to the <span class="math">\u005c((0, 1)\u005c)</span> interval, making it useful for transforming an arbitrary-valued function into a function better suited for classification.</p>\u000a<p><span class="math">\u005c(h_\u005ctheta(x)\u005c)</span> will give us the probability that our output is 1. For example, <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>=0.7 gives us a probability of 70% that our output is 1. Our probability that our prediction is 0 is just the complement of our probability that it is 1 (e.g. if probability that it is 1 is 70%, then the probability that it is 0 is 30%).</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)=P(y=1|x;\u005ctheta)=1\u2212P(y=0|x;\u005ctheta)P(y=0|x;\u005ctheta)+P(y=1|x;\u005ctheta)=1\u000a\u005cend{align*}\u000a</div>\u000a\u000a<h3>Decision Boundary</h3>\u000a<p>In order to get our discrete 0 or 1 classification, we can translate the output of the hypothesis function as follows:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000ah_\u005ctheta(x)\u22650.5\u2192y=1 \u005cnewline\u000ah_\u005ctheta(x) < 0.5\u2192y=0\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>The way our logistic function g behaves is that when its input is greater than or equal to zero, its output is greater than or equal to 0.5: that is when <span class="math">\u005c(g(z)\u22650.5\u005c)</span> and when <span class="math">\u005c(z\u22650\u005c)</span></p>\u000a<p>Remember.</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000az=0, e_0=1&\u21d2g(z)=1/2 \u005cnewline\u000az\u2192\u221e, e^{\u2212\u221e}\u21920&\u21d2g(z)=1 \u005cnewline\u000az\u2192\u2212\u221e, e^{\u221e}\u2192\u221e&\u21d2g(z)=0  \u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>So if our input to g is <span class="math">\u005c(\u005ctheta^TX\u005c)</span>, then that means: <span class="math">\u005c(h_\u005ctheta(x)=g(\u005ctheta^Tx)\u22650.5\u005c)</span> when <span class="math">\u005c(\u005ctheta^Tx\u22650\u005c)</span>.\u000aFrom these statements we can now say: <span class="math">\u005c(\u005ctheta^Tx\u22650\u21d2y=1\u005c)</span> and <span class="math">\u005c(\u005ctheta^Tx&lt;0\u21d2y=0\u005c)</span>.\u000aThe decision boundary is the line that separates the area where <span class="math">\u005c(y = 0\u005c)</span> and where <span class="math">\u005c(y = 1\u005c)</span>. It is created by our hypothesis function.</p>\u000a<p>Example:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align}\u000a    \u005ctheta = \u000a    &\u005cbegin{bmatrix}\u000a            5  \u005cnewline\u000a            -1 \u005cnewline\u000a            0  \u005cnewline\u000a    \u005cend{bmatrix} \u005cnewline\u000a    y = 1 \u005cquad &if \u005cquad 5+(\u22121)x_1+0x_2\u22650 \u005cnewline\u000a    5\u2212x_1 &\u2265 0 \u005cnewline\u000a    \u2212x_1 &\u2265 \u22125 \u005cnewline\u000a    x_1 &\u2264 5 \u005cnewline\u000a\u005cend{align}\u000a</div>\u000a\u000a<p>In this case, our decision boundary is a straight vertical line placed on the graph where x1=5, and everything to the left of that denotes <span class="math">\u005c(y\u005c)</span> = 1, while everything to the right denotes <span class="math">\u005c(y\u005c)</span> = 0.</p>\u000a<p>Again, the input to the sigmoid function g(z) (e.g. <span class="math">\u005c(\u005ctheta^TX\u005c)</span>) doesn't need to be linear, and could be a function that describes a circle (e.g. <span class="math">\u005c(z=\u005ctheta_0+\u005ctheta_1x^{2}_1+\u005ctheta_2x^{2}_2\u005c)</span>) or any shape to fit our data.</p>\u000a<h3>Cost Function</h3>\u000a<p>We cannot use the same cost function that we use for linear regression because the Logistic Function will cause the output to be wavy, causing many local optima. In other words, it will not be a convex function.</p>\u000a<p>Instead, our cost function for logistic regression looks like:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    J(\u005ctheta) &= \u005cfrac{1}{m} \u005csum\u005climits_{i=1}^{m} Cost(h_\u005ctheta(x^{(i)}),y^{(i)}) \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(h_\u005ctheta(x)) \u005cquad if \u005c; y = 1 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y) &= \u2212log\u2061(1\u2212h_\u005ctheta(x)) \u005cquad if \u005c; y = 0 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>When y = 1, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:\u000a<div class="imgcap">\u000a<img alt="/images/assets/logisticreg/costvshypo1.png" src="/images/assets/logisticreg/costvshypo1.png" style="border:none; width:30%;">\u000a</div></p>\u000a<p>Similarly, when y = 0, we get the following plot for <span class="math">\u005c(J(\u005ctheta)\u005c)</span> vs <span class="math">\u005c(h_\u005ctheta(x)\u005c)</span>:</p>\u000a<div class="imgcap">\u000a<img alt="/images//assets/logisticreg/costvshypo2.png" src="/images//assets/logisticreg/costvshypo2.png" style="border:none; width:30%;">\u000a</div>\u000a\u000a<p>Now our cost function becomes:</p>\u000a<div class="mathsize">\u000a\u005cbegin{align*}\u000a    Cost(h_\u005ctheta(x),y)&=0 \u005cquad &if \u005c; h_\u005ctheta(x)=y \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=0 \u005c; and \u005c; h_\u005ctheta(x)\u21921 \u005cnewline\u000a    Cost(h_\u005ctheta(x),y)&\u2192\u221e \u005cquad &if \u005c; y=1 \u005c; and \u005c; h_\u005ctheta(x)\u21920 \u005cnewline\u000a\u005cend{align*}\u000a</div>\u000a\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(0\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function also outputs <span class="math">\u005c(0\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(1\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>If our correct answer <span class="math">\u005c(y\u005c)</span> is <span class="math">\u005c(1\u005c)</span>, then the cost function will be <span class="math">\u005c(0\u005c)</span> if our hypothesis function outputs <span class="math">\u005c(1\u005c)</span>. If our hypothesis approaches <span class="math">\u005c(0\u005c)</span>, then the cost function will approach infinity.</p>\u000a<p>Note that writing the cost function in this way guarantees that <span class="math">\u005c(J(\u005ctheta)\u005c)</span> is convex for logistic regression.</p>\u000a<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {\u000a    var align = "center",\u000a        indent = "0em",\u000a        linebreak = "false";\u000a\u000a    if (false) {\u000a        align = (screen.width < 768) ? "left" : align;\u000a        indent = (screen.width < 768) ? "0em" : indent;\u000a        linebreak = (screen.width < 768) ? 'true' : linebreak;\u000a    }\u000a\u000a    var mathjaxscript = document.createElement('script');\u000a    var location_protocol = (false) ? 'https' : document.location.protocol;\u000a    if (location_protocol !== 'http' && location_protocol !== 'https') location_protocol = 'https:';\u000a    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';\u000a    mathjaxscript.type = 'text/javascript';\u000a    mathjaxscript.src = location_protocol + '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';\u000a    mathjaxscript[(window.opera ? "innerHTML" : "text")] =\u000a        "MathJax.Hub.Config({" +\u000a        "    config: ['MMLorHTML.js']," +\u000a        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +\u000a        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +\u000a        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +\u000a        "    displayAlign: '"+ align +"'," +\u000a        "    displayIndent: '"+ indent +"'," +\u000a        "    showMathMenu: true," +\u000a        "    messageStyle: 'normal'," +\u000a        "    tex2jax: { " +\u000a        "        inlineMath: [ ['\u005c\u005c\u005c\u005c(','\u005c\u005c\u005c\u005c)'] ], " +\u000a        "        displayMath: [ ['$$','$$'] ]," +\u000a        "        processEscapes: true," +\u000a        "        preview: 'TeX'," +\u000a        "    }, " +\u000a        "    'HTML-CSS': { " +\u000a        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'inherit ! important'} }," +\u000a        "        linebreaks: { automatic: "+ linebreak +", width: '90% container' }," +\u000a        "    }, " +\u000a        "}); " +\u000a        "if ('default' !== 'default') {" +\u000a            "MathJax.Hub.Register.StartupHook('HTML-CSS Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax['HTML-CSS'].FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a            "MathJax.Hub.Register.StartupHook('SVG Jax Ready',function () {" +\u000a                "var VARIANT = MathJax.OutputJax.SVG.FONTDATA.VARIANT;" +\u000a                "VARIANT['normal'].fonts.unshift('MathJax_default');" +\u000a                "VARIANT['bold'].fonts.unshift('MathJax_default-bold');" +\u000a                "VARIANT['italic'].fonts.unshift('MathJax_default-italic');" +\u000a                "VARIANT['-tex-mathit'].fonts.unshift('MathJax_default-italic');" +\u000a            "});" +\u000a        "}";\u000a    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);\u000a}\u000a</script>
(dp2084
Vdate
p2085
g5
(S'\x07\xe1\x04\x0b\x12 \x00\x00\x00\x00'
tRp2086
sVcategory
p2087
g8
(g9
g10
NtRp2088
(dp2089
g13
Vtech
p2090
sg15
Vtech
p2091
sg17
I01
sg18
g19
sbsVtags
p2092
(lp2093
g8
(g328
g10
NtRp2094
(dp2095
g13
Vmachinelearning
p2096
sg15
Vmachinelearning
p2097
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2098
(dp2099
g13
Vclassification
p2100
sg15
Vclassification
p2101
sg17
I01
sg18
g19
sbasVtitle
p2102
VLogistic Regression
p2103
sttp2104
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/build-your-own-malloc.md
p2105
(F1492853219.8157091
(V<p>Some time ago I bought the The Linux Programming Interface book, one of the best books I have acquired.\u000aOne of the first chapters I read were about memory allocation. At the end of the chapter, author offers some exercises\u000ato the reader. Among them there is a challenging one. He suggests to implement the equivalent to the malloc and free\u000afunctions. The challenge has been accepted!</p>\u000a<p>First of all, this implementation is just for study purposes. It means you should NOT start to implement your malloc and\u000afree functions for production programs. Do not reinvent the wheel! The glibc are being improved for decades for many\u000agreat guys. You probably will take more time to do the equivalent excellent work! ;)</p>\u000a<p>I assume that you know a little bit about how a process and its segments works. It is nice remember this code does not\u000acover all details. As any software it can be improved (a lot).</p>\u000a<h3>System calls</h3>\u000a<p>There are two system calls allows the program to increase the program break, <code>brk</code> and <code>sbrk</code>. The program break defines\u000awhere is the end of process's data segment. It means if the program increases the program break, memory is allocated.\u000aOtherwise, it deallocate memory. In this code only <code>sbrk</code> is used, its only parameter defines the amount of memory program wants\u000ato increase. If the program break has being increased successfully, a pointer to the beginning of the allocated memory is\u000areturned. Otherwise, (void*) -1 is returned. <code>brk</code> is not being used. It allows the program set the end of data segment to\u000athe pointer passed in the functions arguments. I think this function is not being in use because the code does not decrease\u000athe program break. Maybe in the future I implement this feature and use the <code>brk</code> system call.</p>\u000a<p>For more details, take a look in the man page. ;)</p>\u000a<h3>Code</h3>\u000a<p>[gist:id=ba82bdd0dfeb44c260aa,file=memory.c]</p>\u000a<p>The cornerstone of the code is a linked list, called <code>free_list</code>. It stores all available memories blocks. Each element is\u000acomposed for a header and the memory itself. The header is a structure that contains two metadata. The first field of the\u000astruct is block's size and the second is a pointer to next memory block in the <code>free_list</code>. The first thing necessary\u000awhen a program request some memory is check if the <code>free_list</code> is already initialized (line 29). If not, it is initiated\u000awith a block of 0 size (lines 29 ~ 36). This is done to keep the first element in the list always the same. Thus, it is more easy to know\u000awhen stop a loop through the list and reduce the code complexity.</p>\u000a<p><img alt="" src="{filename}/images/mem_init.png"></p>\u000a<p>Once <code>free_list</code> initiated, a search in the list is performed. Looking for a memory block with enough size to attempt the\u000arequest. The algorithm follows the 'first fit' approach. It means that the first memory block found with enough size is\u000asplit and returned a pointer to the memory to the caller (lines 38 ~ 53). If any block has enough size, the heap is increased and the\u000anew memory is returned (line 55). The pointer returned to the user is a pointer to the memory block itself. It is\u000anot include the header. Does not make sense give to caller  access to the control structures. This structure is used only\u000afor memory management and to know what is the memory block size when the program wants to frees it.</p>\u000a<p><img alt="" src="{filename}/images/one_mem_allocate.png"></p>\u000a<p>As you can see between lines 26 and 28, all memory blocks are multiple of the header size. It means the minimum\u000amemory size allocated is the HEADER_SIZE * 2 (with the header). This approach facilitate the pointer arithmetic and avoid\u000acounting every single byte. In other words, even if the user requests less memory, the allocated memory will be always\u000amultiple of the HEADER_SIZE.</p>\u000a<p>When the user wants to free a pointer, another search in the <code>free_list</code> is performed. This time, looking for a memory block\u000anext the to the block is being freed. If a block is found, the two blocks are merged into one (lines 64 ~ 77). Otherwise,\u000athe block is appended in the list (lines 78 ~ 80). The goal of merge close blocks is avoid memory fragmentation. ;)</p>\u000a<p>According to my weak skill in asymptotic analysis, both functions have running time of O(n). Since each functions performed\u000aa search in the <code>free_list</code>. Please, tell me if I am wrong. I will study more about this topic and correct if I wrote\u000abullshit. The following sources are the header and a test program.</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=memory.h]</p>\u000a<p>[gist:id=869420fb87353049d4d7,file=sample.c]</p>\u000a<p>Feel free to ask me in the comments. =]</p>\u000a<h4>References</h4>\u000a<p><a href="http://linux.die.net/man/2/sbrk">brk, sbrk</a></p>\u000a<p><a href="http://www.amazon.com/Linux-Programming-Interface-System-Handbook/dp/1593272200/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501399&amp;sr=1-1&amp;keywords=the+linux+programming+interface">The Linux Programing Interface</a></p>\u000a<p><a href="http://www.amazon.com/Programming-Language-Brian-W-Kernighan/dp/0131103628/ref=sr_1_1?s=books&amp;ie=UTF8&amp;qid=1448501445&amp;sr=1-1&amp;keywords=the+c+programming+language">The C Programming Language</a></p>\u000a<p><a href="https://github.com/jvanz/tlpi">Repository</a></p>
(dp2106
Vdate
p2107
g5
(S'\x07\xdf\x0b\x1a\x00\x08\x00\x00\x00\x00'
tRp2108
sVauthor
p2109
g8
(g345
g10
NtRp2110
(dp2111
g13
VJosé Guilherme Vanz
p2112
sg15
Vjose-guilherme-vanz
p2113
sg17
I01
sg18
g1326
sbsVtags
p2114
(lp2115
g8
(g328
g10
NtRp2116
(dp2117
g13
Vc
sg15
Vc
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2118
(dp2119
g13
Vtlpi
p2120
sg15
Vtlpi
p2121
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2122
(dp2123
g13
Vglibc
p2124
sg15
Vglibc
p2125
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2126
(dp2127
g13
Vmemory
p2128
sg15
Vmemory
p2129
sg17
I01
sg18
g1326
sbasVmodified
p2130
g5
(S'\x07\xe0\x01\x18\x16\x16\x00\x00\x00\x00'
tRp2131
sVtitle
p2132
Vmalloc/free implementation. Just4Fun!
p2133
sttp2134
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/git_partial_commit.md
p2135
(F1492853219.8197095
(V<p>This post will demonstrate one of many cool features available in Git, partial commit. This feature allows add just\u000asome hunk of a file leaving other ones for future commit.</p>\u000a<p>Let's suppose in a project there is the following source code:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>\u000a\u000a<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">foo</span><span class="p">();</span>\u000a    <span class="n">bar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">()</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s foo function here</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s bar function here. Wow! You send me a %d... it&#39;s such a number! ;)</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>In this brand new repository there is only one commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_1.png"></p>\u000a<p>And the first change is made:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_2.png"></p>\u000a<p>Suppose a colleague requests another update in same file. He/She asks to change the name of the <code>foo()</code> function to\u000a<code>xpto()</code>. So after both changes the diff is:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_3.png"></p>\u000a<p>Nice, now it's time to commit the changes. However, it's necessary commit each hunk in different commits. Fortunately\u000agit has a feature that will help on this situation. The commands <code>git add</code> and <code>git commit</code> allows user to select which\u000ahunks of a file should be added. This is done by passing the <code>-p, --patch</code> option. In our example, let's use <code>git commit</code>\u000ato choose the hunks should be added in first commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_4.png"></p>\u000a<p>As can be seen, git shows each hunk and asks the user for what should be done with it. The options are: [y,n,q,a,d,/,s,e,?].\u000aTo see help text, type <code>?</code>. The following text shall be shown:</p>\u000a<div class="highlight"><pre><span></span>y - stage this hunk\u000an - do not stage this hunk\u000aq - quit; do not stage this hunk or any of the remaining ones\u000aa - stage this hunk and all later hunks in the file\u000ad - do not stage this hunk or any of the later hunks in the file\u000ag - select a hunk to go to\u000a/ - search for a hunk matching the given regex\u000aj - leave this hunk undecided, see next undecided hunk\u000aJ - leave this hunk undecided, see next hunk\u000ak - leave this hunk undecided, see previous undecided hunk\u000aK - leave this hunk undecided, see previous hunk\u000as - split the current hunk into smaller hunks\u000ae - manually edit the current hunk\u000a? - print help\u000a</pre></div>\u000a\u000a\u000a<p>In this example, it shown the first file's hunk. In the first commit, should be\u000acommitted the changes related with function <code>bar()</code> only. The this hunk must be\u000aignored. Thus, the option <code>n</code> is the right one.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_5.png"></p>\u000a<p>In the following, git shows all further changes as an unique hunk. It's necessary\u000asplit them the smaller hunks. For do that, there is two options: <code>s</code> and <code>e</code>.\u000aThe first one tells git to split the hunk into smaller pieces. The <code>e</code> option,\u000ain the other hand, allows user choose manually each lines should added. In this\u000apost the go with option <code>s</code>. Git should shown something similar to this:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_6.png"></p>\u000a<p>The previous hunk has been split into 3 hunks. Git now will iterate all of them\u000aasking the user what should be done with each one. The first hunk should also be\u000aignored. The second one is the first change related with the function <code>bar()</code> and\u000ashould be added. To that task, the <code>y</code> is the right command.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_7.png"></p>\u000a<p>Third hunk should be added too</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_8.png"></p>\u000a<p>Once there are no more hunks, as we used the <code>git commit</code> command, the editor\u000awill be open to the user insert the commit message. That's it.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_9.png"></p>\u000a<p>Now with the first commit contains the only the changes within <code>bar()</code> function,\u000afurther hunks might be committed in the second commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_10.png"></p>\u000a<p>I hope you have enjoyed the tip. ;)</p>
(dp2136
Vdate
p2137
g5
(S'\x07\xe0\x01\x1c\x00\x00\x00\x00\x00\x00'
tRp2138
sVauthor
p2139
g8
(g345
g10
NtRp2140
(dp2141
g13
VJosé Guilherme Vanz
p2142
sg15
Vjose-guilherme-vanz
p2143
sg17
I01
sg18
g19
sbsVtags
p2144
(lp2145
g8
(g328
g10
NtRp2146
(dp2147
g13
Vgit
p2148
sg15
Vgit
p2149
sg17
I01
sg18
g19
sbasVtitle
p2150
VGit: partial commit
p2151
sttp2152
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/git_partial_commit.md
p2153
(F1492853219.8197095
(V<p>This post will demonstrate one of many cool features available in Git, partial commit. This feature allows add just\u000asome hunk of a file leaving other ones for future commit.</p>\u000a<p>Let's suppose in a project there is the following source code:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span>\u000a\u000a<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">foo</span><span class="p">();</span>\u000a    <span class="n">bar</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">foo</span><span class="p">()</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s foo function here</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">void</span> <span class="nf">bar</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">)</span>\u000a<span class="p">{</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, it&#39;s bar function here. Wow! You send me a %d... it&#39;s such a number! ;)</span><span class="se">\u005cn</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>In this brand new repository there is only one commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_1.png"></p>\u000a<p>And the first change is made:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_2.png"></p>\u000a<p>Suppose a colleague requests another update in same file. He/She asks to change the name of the <code>foo()</code> function to\u000a<code>xpto()</code>. So after both changes the diff is:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_3.png"></p>\u000a<p>Nice, now it's time to commit the changes. However, it's necessary commit each hunk in different commits. Fortunately\u000agit has a feature that will help on this situation. The commands <code>git add</code> and <code>git commit</code> allows user to select which\u000ahunks of a file should be added. This is done by passing the <code>-p, --patch</code> option. In our example, let's use <code>git commit</code>\u000ato choose the hunks should be added in first commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_4.png"></p>\u000a<p>As can be seen, git shows each hunk and asks the user for what should be done with it. The options are: [y,n,q,a,d,/,s,e,?].\u000aTo see help text, type <code>?</code>. The following text shall be shown:</p>\u000a<div class="highlight"><pre><span></span>y - stage this hunk\u000an - do not stage this hunk\u000aq - quit; do not stage this hunk or any of the remaining ones\u000aa - stage this hunk and all later hunks in the file\u000ad - do not stage this hunk or any of the later hunks in the file\u000ag - select a hunk to go to\u000a/ - search for a hunk matching the given regex\u000aj - leave this hunk undecided, see next undecided hunk\u000aJ - leave this hunk undecided, see next hunk\u000ak - leave this hunk undecided, see previous undecided hunk\u000aK - leave this hunk undecided, see previous hunk\u000as - split the current hunk into smaller hunks\u000ae - manually edit the current hunk\u000a? - print help\u000a</pre></div>\u000a\u000a\u000a<p>In this example, it shown the first file's hunk. In the first commit, should be\u000acommitted the changes related with function <code>bar()</code> only. The this hunk must be\u000aignored. Thus, the option <code>n</code> is the right one.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_5.png"></p>\u000a<p>In the following, git shows all further changes as an unique hunk. It's necessary\u000asplit them the smaller hunks. For do that, there is two options: <code>s</code> and <code>e</code>.\u000aThe first one tells git to split the hunk into smaller pieces. The <code>e</code> option,\u000ain the other hand, allows user choose manually each lines should added. In this\u000apost the go with option <code>s</code>. Git should shown something similar to this:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_6.png"></p>\u000a<p>The previous hunk has been split into 3 hunks. Git now will iterate all of them\u000aasking the user what should be done with each one. The first hunk should also be\u000aignored. The second one is the first change related with the function <code>bar()</code> and\u000ashould be added. To that task, the <code>y</code> is the right command.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_7.png"></p>\u000a<p>Third hunk should be added too</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_8.png"></p>\u000a<p>Once there are no more hunks, as we used the <code>git commit</code> command, the editor\u000awill be open to the user insert the commit message. That's it.</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_9.png"></p>\u000a<p>Now with the first commit contains the only the changes within <code>bar()</code> function,\u000afurther hunks might be committed in the second commit:</p>\u000a<p><img alt="" src="{filename}/images/partial_commit_10.png"></p>\u000a<p>I hope you have enjoyed the tip. ;)</p>
(dp2154
Vdate
p2155
g5
(S'\x07\xe0\x01\x1c\x00\x00\x00\x00\x00\x00'
tRp2156
sVtags
p2157
(lp2158
g8
(g328
g10
NtRp2159
(dp2160
g13
Vgit
p2161
sg15
Vgit
p2162
sg17
I01
sg18
g1326
sbasVauthor
p2163
g8
(g345
g10
NtRp2164
(dp2165
g13
VJosé Guilherme Vanz
p2166
sg15
Vjose-guilherme-vanz
p2167
sg17
I01
sg18
g1326
sbsVtitle
p2168
VGit: partial commit
p2169
sttp2170
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/recovering-missed-data-from-stash.md
p2171
(F1492853219.8197095
(V<p>Today my colleague almost lost everything that he did during 4 days! Because  a wrong git command he dropped his changes saved on stash.\u000aAfter this sad episode we looked for a way to try to recover as least part of his work... and we did it!</p>\u000a<p>First of all, when you are implementing some big feature, split it in small pieces and commit it regularly. It's not a good idea stay so long time without commit your changes,  so take care.</p>\u000a<p>Let's simulate a scenario to show what you can do when you lost some changes dropped from stash.\u000aOn our repository we have only one source file, main.c. We will use it to demonstrate the problem and the solution... so, our repository now is been like this:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_01.jpeg"></p>\u000a<p>and he have only an commit, the initial commit:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_02.jpeg"></p>\u000a<p>The first version of out file is:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_03.jpeg"></p>\u000a<p>So, let's start to code something. For this example, we do not need some big change, is only something to put in the stash. For this, I just will add a new line. The git-diff output should be:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_04.jpeg"></p>\u000a<p>Now, suppose that you have to pull some new changes from remote repository and you do not want to commit you changes. Thus, you decided to stashed your changes, pull the changes from remote repository\u000aand apply your changes again on the master.  For this, you execute the following command to move your changes to stash:</p>\u000a<p><code>git stash</code></p>\u000a<p>Looking into the stash we can see our changes there:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_06.jpeg"></p>\u000a<p>Now our code is in a safe place and the master branch is clean ( check with <code>git status</code>) and you can pull the changes. After pulled the changes, it's time to apply your changes again on the master.\u000aBut accidentally you execute</p>\u000a<p><code>git stash drop</code></p>\u000a<p>instead of:</p>\u000a<p><code>git stash pop</code></p>\u000a<p>and now, if you execute <code>git stash list</code> again, you can see that you dropped changes from the stash and does not apply them again on the master branch. OMG! Who can help us?\u000aAs you will seen soon git did not delete the object that contains your changes. It just remove the reference to it.\u000aTo prove this you can used the <code>git-fsck</code> command, this command verifies the connectivity and validity of the objects in the database.\u000aOn the begin of the repository I executed the <code>git-fsck</code> command and the output were:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_07.jpeg"></p>\u000a<p>Basically, I asked <code>git-fsck</code> show me the objects that are unreachable ( <code>--unreachable</code> argument ). As you can see, it didn't show any unreachable object.\u000aAfter I dropped the changes on my stash I executed the same command, and the output was different:</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_08.jpeg"></p>\u000a<p>Now, we can see 3 unreachable objects. But which is our changes? Actually, I don't know. We have to search for it, for this job you can execute the <code>git-show</code> command for visualize what are each objects.</p>\u000a<p><img alt="" src="{filename}/images/missing_data_from_stash_09.jpeg"></p>\u000a<p>There it is! The ID 95ccbd927ad4cd413ee2a28014c81454f4ede82c is our changes. Ok, we found your missed changes. Let's recover it!\u000aAn possible solution is checkout the ID into a new branch or apply the commit directly. Once you have the ID of the object with your changes is up to you decide what is the best way to put changes on the master branch again.\u000aFor this example I will use the <code>git-stash</code> to apply the commit on my master branch again.</p>\u000a<p><code>git stash apply 95ccbd927ad4cd413ee2a28014c81454f4ede82c</code></p>\u000a<p>A important thing to remember, git run its garbage collector periodically. After the gc execution you cannot see more the unreachable objects using <code>git-fsck</code>. ;)</p>
(dp2172
Vdate
p2173
g5
(S'\x07\xde\x02\x0f\x00\x00\x00\x00\x00\x00'
tRp2174
sVauthor
p2175
g8
(g345
g10
NtRp2176
(dp2177
g13
VJosé Guilherme Vanz
p2178
sg15
Vjose-guilherme-vanz
p2179
sg17
I01
sg18
g19
sbsVtags
p2180
(lp2181
g8
(g328
g10
NtRp2182
(dp2183
g13
Vgit
p2184
sg15
Vgit
p2185
sg17
I01
sg18
g19
sbasVtitle
p2186
VRecovering missed data from stash
p2187
sttp2188
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/cgo-go-lang-with-c.md
p2189
(F1492853219.8157091
(V<p>Some weeks ago I had to customize the <a href="https://www.docker.com/">Docker</a> to integrate it with some libraries written and C.\u000aMaybe you already know Docker is written in Go language and to do this task was used <a href="https://golang.org/cmd/cgo/">cgo</a>\u000aCgo enables integrate Go code with C. It shows itself easier and smooth comparing with my past experiences with JNI</p>\u000a<h2>Hello World!</h2>\u000a<p>To start let's code the old but gold hello world program. In the first example the program will just print a string that is returned by a C function.\u000aAs you can see in the following snippet, cgo allows to put C code inside the Go source code. The only thing has to do is import the pseudo-package <code>C</code>.\u000aThe comments before this import is a C code that will be compiled as a header.</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="c1">//char* get_msg(){</span>\u000a<span class="c1">//      return &quot;Hello Go!&quot;;</span>\u000a<span class="c1">//}</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="kd">var</span> <span class="nx">msg</span> <span class="p">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">get_msg</span><span class="p">()</span>\u000a    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">GoString</span><span class="p">(</span><span class="nx">msg</span><span class="p">))</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h2>More funny program</h2>\u000a<p>To make the things more funny, the next program will write the command line arguments to a file. Take a look the code:</p>\u000a<div class="highlight"><pre><span></span><span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">FILE *file;</span>\u000a\u000a<span class="cm">int finish() {</span>\u000a<span class="cm">    fflush(file);</span>\u000a<span class="cm">    fclose(file);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int init(const char* file_name) {</span>\u000a<span class="cm">    if (file){</span>\u000a<span class="cm">        finish();</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    file = fopen(file_name, &quot;w+&quot;);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int write_file(const char* data, size_t len) {</span>\u000a<span class="cm">    if (!file){</span>\u000a<span class="cm">        printf(&quot;File is not open&quot;);</span>\u000a<span class="cm">        return 1;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    if (fwrite(data, sizeof(char), len, file)) {</span>\u000a<span class="cm">        return 0;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    printf(&quot;Error on writing...&quot;);</span>\u000a<span class="cm">    return 1;</span>\u000a\u000a<span class="cm">}</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;unsafe&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">cs</span> <span class="o">:=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="s">&quot;\u005cn&quot;</span><span class="p">)</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">cs</span><span class="p">,</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">free</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nx">Pointer</span><span class="p">(</span><span class="nx">cs</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>The program requires at least two arguments. The first one is the path for a file where the program will write the other arguments.\u000aThe code is quite simple. Go code uses three C functions to create, write and close a file. The C functions are:</p>\u000a<ul>\u000a<li><code>init(const char* file_name)</code>: function creates the file</li>\u000a<li><code>finish()</code>: function flushes the data and closes the file</li>\u000a<li><code>write_file(const char* data, size_t len)</code>: writes <code>len</code> chars from string <code>data</code> in the file</li>\u000a</ul>\u000a<p>In the beginning the Go code uses the <code>init</code> function to create the file. After that, the program walks through other arguments writing each of them\u000ain a file line. In the end, the program calls <code>finish</code> function to close the file. Nothing so special, but illustrate how you can use cgo.\u000aThe C code written inside Go source code is used as a header. You can see the static library within <code>$GOPATH/pkg/&lt;package name&gt;</code></p>\u000a<p>It is important to remember that Go memory manager does not knows C variables and its allocated memory blocks. Thus, the programmer must to remember to free the allocated C string. Like it is being\u000adoing in the lines <code>C.free(unsafe.Pointer(cs))</code>. Otherwise, you will have memory leak issues.</p>\u000a<p>Furthermore, when some Go source file contains the special import "C" the Go tool looks for .c, .cpp, .cc and others files types in the same source code file directory. Then it compiles them with the default C/C++ compiler.\u000aSo you might do this:</p>\u000a<p>writer.go:</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">extern int finish();</span>\u000a<span class="cm">extern int init(const char* file_name);</span>\u000a<span class="cm">extern int write_file(const char* data, size_t len);</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s">&quot;\u005cn&quot;</span><span class="p">),</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>writer.c:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">FILE</span> <span class="o">*</span><span class="n">file</span><span class="p">;</span>\u000a\u000a<span class="kt">int</span> <span class="nf">finish</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="n">fflush</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a    <span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">file_name</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">finish</span><span class="p">();</span>\u000a    <span class="p">}</span>\u000a    <span class="n">file</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">&quot;w+&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">write_file</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;File is not open&quot;</span><span class="p">);</span>\u000a        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">fwrite</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span> <span class="n">len</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span> <span class="p">{</span>\u000a        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Error on writing...&quot;</span><span class="p">);</span>\u000a    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h4>Note</h4>\u000a<p>This post is very, very, very simple. If you would like know more see the references below.</p>\u000a<h5>References</h5>\u000a<p><a href="https://golang.org/cmd/cgo/">cgo</a></p>\u000a<p><a href="http://blog.golang.org/c-go-cgo">C? Go? Cgo!</a></p>
(dp2190
Vdate
p2191
g5
(S'\x07\xdf\t\x16\x00\x00\x00\x00\x00\x00'
tRp2192
sVauthor
p2193
g8
(g345
g10
NtRp2194
(dp2195
g13
VJosé Guilherme Vanz
p2196
sg15
Vjose-guilherme-vanz
p2197
sg17
I01
sg18
g19
sbsVtags
p2198
(lp2199
g8
(g328
g10
NtRp2200
(dp2201
g13
Vgolang
p2202
sg15
Vgolang
p2203
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2204
(dp2205
g13
Vcgo
p2206
sg15
Vcgo
p2207
sg17
I01
sg18
g19
sbag8
(g328
g10
NtRp2208
(dp2209
g13
Vc
sg15
Vc
sg17
I01
sg18
g19
sbasVtitle
p2210
Vcgo: Go lang with C
p2211
sttp2212
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/hacking-vim-with-python.md
p2213
(F1492853219.8197095
(V<p>I'm happy vim user for a while now. After learned the basics I started customize\u000athe editor to my needs/preferences and for a long time everything were well. I\u000adid not face anything that I could not do and this is still true. However, when\u000aI became a more advanced user and decide to create more complex functions to help\u000ame while I work in my source code files, something discouraged me go ahead: the\u000avim language (VimL). Don't judge me, I could study it but I do not have time and\u000adesire to do that. So, for some time I do not create more interesting stuff because\u000aof that. But a short time ago I discovered that I could write python script to\u000ainteract with vim, like buffer, windows, tabs and so on! That's great!</p>\u000a<p>This article is about how create a very simple script to read data from buffer and\u000aupdate them. :-)</p>\u000a<p>Before you start write python script to do the magic in your vim buffer it is\u000anecessary take a look if you vim allow you use python. For that you can run the\u000a<code>vim --version</code> and see if your vim has python support. The output should show\u000asomething like <code>+python</code></p>\u000a<h3>Scripting</h3>\u000a<p>There are some way you can execute a python code in vim. You can use the commands:\u000a<code>:py[thon]</code>, <code>:pydo</code>, <code>:pyfile</code>. In this article I'll do a short description of\u000athem, but I'll use just <code>:pyfile</code> in the example.</p>\u000a<p>When you decide write the python script you can write it in a separated file\u000aor embedded it in your vimrc. If you do not want write file for you script you\u000acan use the <code>:[range]python</code> or</p>\u000a<div class="highlight"><pre><span></span>:[range]py[thon] &lt;&lt; {endmarker}\u000a{script}\u000a{endmarker}\u000a</pre></div>\u000a\u000a\u000a<p>The first option is useful if you want to execute a single python statement.\u000aFor example: <code>:python print "Python rocks!"</code>. The second way is more interesting,\u000ait is allows embedded the python code inside vim script. Take a look:</p>\u000a<div class="highlight"><pre><span></span>function! IcecreamInitialize()\u000apython3 &lt;&lt; EOF\u000aclass StrawberryIcecream:\u000a    def __call__(self):\u000a        print(&#39;EAT ME&#39;)\u000aice = StrawberryIcecream()\u000aice()\u000aEOF\u000aendfunction\u000a</pre></div>\u000a\u000a\u000a<p>Another option is the <code>[range]pydo {body}</code> command. It is a good option if the\u000ascript should be executed in each line of the range. In this command the <code>{body}</code>\u000ais executed as <code>def _vim_pydo(line, linenr) {body}</code>. Thus, the body script can\u000aget the line text and number from arguments. The function should return a string\u000aor None. If a string is returned the line is updated to that value. A possible\u000aexample is <code>:pydo return "%s\u005ct%d" % (line[::-1], len(line))</code></p>\u000a<p>Last but not least is the <code>:[range]pyf[ile] {file}</code> command. It allows load a\u000aseparated python file and call its function with <code>:py</code> command. This is the\u000acommand used to load the python script in the following example.</p>\u000a<h3>Vim module</h3>\u000a<p>To make possible the integration between python and vim there is a python module.\u000aThis module gives you the ability to interact with buffers, windows, tabs,\u000aexecute vim commands and so on. This module has a bunch of methods, constants\u000aand objects that might used for the scripts. This article will use just a few\u000aof the features available in the module. They are: <code>vim.command(str)</code>;\u000a<code>vim.current</code>; and <code>Buffer.mark()</code>.</p>\u000a<p>You can see a better documentation of the module typing <code>:help python</code> in you\u000avim editor.</p>\u000a<h3>Let's hack!</h3>\u000a<p>Let's dive deeper in the example. In this example the author of the script is\u000aa guy that has the boring job to write the current weather of bunch of cities\u000asitting in some file. Wisely he/she decided automate that process. (Yes, it is not\u000athe ideal real life use case but I am not a creative person, sorry... xD). So, after\u000asome time reading the documentation a python script was born:</p>\u000a<p>[gist:id=b02e61147a7f05a2a308b3d5b1d0d382,file=weather.py]</p>\u000a<p>It has the following features:</p>\u000a<ul>\u000a<li>function that will iterate over all rows of the current buffer\u000aand append the current weather for the city (the row's content is used as city's\u000aname)</li>\u000a<li>function that will use the selected text as city's and append the weather in\u000athe row of the selection</li>\u000a</ul>\u000a<p>Okay, let's take a closer look... The method <code>get_weather()</code> allow the user gets\u000athe weather for city names sitting on each line of the current buffer. It's nice\u000ato highlight the <code>vim.current</code> object. This object provides access to\u000avarious objects in vim. That is:</p>\u000a<ul>\u000a<li><code>vim.current.line</code>: current line (string)</li>\u000a<li><code>vim.current.buffer</code>: current buffer (Buffer object)</li>\u000a<li><code>vim.current.window</code>: current window (Window object)</li>\u000a<li><code>vim.current.tabpage</code>: current tab page (TabPage object)</li>\u000a<li><code>vim.current.range</code>: current line range (Range object)</li>\u000a</ul>\u000a<p>That been said, the line <code>buff = vim.current.buffer</code> is getting the current buffer\u000ato iterate and update it. After that, the script iterate over all buffer's rows\u000acalls the Open Weather API to get the weather using the row's content as city's\u000aname and update the row with the current value appended with the weather.</p>\u000a<p>The <code>get_weather_selection()</code> is the method that uses the selected text as city\u000ato call the weather API. In this method, again, a reference to the current\u000abuffer is gotten and used the <code>buf.mark()</code> method of the <code>Buffer</code> object to get\u000athe line and column of the start and end of the selection. In vim the marks "&lt;"\u000aand "&gt;" is used to define the beginning and end of the selected text respectively.</p>\u000a<p>Once we have the marks values the script calls a helper function who extract the\u000aselected text from the buffer and returns it. After that, the weather API is called\u000aand the weather is appended after the selection</p>\u000a<p>The <code>get_text(start, end)</code> and <code>get_openweather(city)</code> methods are helper methods.\u000aFirst one is able to extract text from the buffer using tuples of (line, column)\u000apassed as arguments to delimitate the text should be returned. The second one\u000ais just a call to the Open Weather API using the python request module.</p>\u000a<p>Once the script is done it can be loaded with the <code>pyf {file}</code> command.\u000aAs the script in discussion is a python3 code, it has to be load using the\u000aequivalent command to python3, that is: <code>py3file $HOME/.vim/weather.py</code>. After\u000aadded this line in the vimrc, it is ready to go and the methods can be called\u000awith:</p>\u000a<p><code>py3 get_weather()</code> or <code>:'&lt;,'&gt;py3 get_weather_selection()</code>.</p>\u000a<p>NOTE: be aware that there are equivalent commands, <code>py3</code>, <code>py3do</code> and <code>py3f</code> to\u000arun/load python3 code. See more in the python3 section in the vim documentation</p>\u000a<h4>Buffer</h4>\u000a<p>The most important object in the example is Buffer. Buffer objects can be treat\u000aas sequence object. Thus, they act like lists and are mutable and to update\u000aa row it is necessary just assign the new value,\u000a<code>vim.current.buffer[1] = "new value for the line 2"</code>. Remember, lists\u000aindexing start with 0 and the lines in a vim buffer with 1. In the script is\u000apossible see the lines being updated at lines 14 and 26.</p>\u000a<p>It is also possible delete lines, <code>:py del vim.current.buffer[1]</code> (delete the second\u000arow). Append new lines, <code>:py vim.current.buffer.append("bottom")</code>. Assign variables,\u000a<code>:py vim.current.buffer.vars["foo"] = "bar"</code>, and so on. You can see a complete\u000adescription with all methods and attribute with <code>:help python</code></p>\u000a<h3>Your turn</h3>\u000a<p>This is a very, very simple example of how you can start script vim with python.\u000aI encourage you to read the vim documentation, play with it and create crazy\u000astuff! =)</p>\u000a<p>If you need more info take a look in the references, send me an e-mail or leave\u000aa comment. Thanks you!</p>\u000a<h4>References</h4>\u000a<p><code>:help python</code> in your vim editor</p>\u000a<p><a href="https://github.com/jvanz/dotfiles/blob/master/.vim/weather.py">weather.py</a></p>\u000a<p><a href="http://old.orestis.gr/blog/2008/08/10/scripting-vim-with-python/">Scripting Vim with Python</a></p>
(dp2214
Vdate
p2215
g5
(S'\x07\xe1\x01\n\x167\x00\x00\x00\x00'
tRp2216
sVtags
p2217
(lp2218
g8
(g328
g10
NtRp2219
(dp2220
g13
Vvim
p2221
sg15
Vvim
p2222
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2223
(dp2224
g13
Vpython
p2225
sg15
Vpython
p2226
sg17
I01
sg18
g1326
sbasVauthor
p2227
g8
(g345
g10
NtRp2228
(dp2229
g13
VJosé Guilherme Vanz
p2230
sg15
Vjose-guilherme-vanz
p2231
sg17
I01
sg18
g1326
sbsVtitle
p2232
VHacking your vim with python
p2233
sttp2234
sV/home/rpathak/Temporary/tmp_scratchpad/pelican_themes/pelicanboostrap/content/posts/personal/cgo-go-lang-with-c.md
p2235
(F1492853219.8157091
(V<p>Some weeks ago I had to customize the <a href="https://www.docker.com/">Docker</a> to integrate it with some libraries written and C.\u000aMaybe you already know Docker is written in Go language and to do this task was used <a href="https://golang.org/cmd/cgo/">cgo</a>\u000aCgo enables integrate Go code with C. It shows itself easier and smooth comparing with my past experiences with JNI</p>\u000a<h2>Hello World!</h2>\u000a<p>To start let's code the old but gold hello world program. In the first example the program will just print a string that is returned by a C function.\u000aAs you can see in the following snippet, cgo allows to put C code inside the Go source code. The only thing has to do is import the pseudo-package <code>C</code>.\u000aThe comments before this import is a C code that will be compiled as a header.</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="c1">//char* get_msg(){</span>\u000a<span class="c1">//      return &quot;Hello Go!&quot;;</span>\u000a<span class="c1">//}</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="kd">var</span> <span class="nx">msg</span> <span class="p">=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">get_msg</span><span class="p">()</span>\u000a    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">GoString</span><span class="p">(</span><span class="nx">msg</span><span class="p">))</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h2>More funny program</h2>\u000a<p>To make the things more funny, the next program will write the command line arguments to a file. Take a look the code:</p>\u000a<div class="highlight"><pre><span></span><span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">FILE *file;</span>\u000a\u000a<span class="cm">int finish() {</span>\u000a<span class="cm">    fflush(file);</span>\u000a<span class="cm">    fclose(file);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int init(const char* file_name) {</span>\u000a<span class="cm">    if (file){</span>\u000a<span class="cm">        finish();</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    file = fopen(file_name, &quot;w+&quot;);</span>\u000a<span class="cm">}</span>\u000a\u000a<span class="cm">int write_file(const char* data, size_t len) {</span>\u000a<span class="cm">    if (!file){</span>\u000a<span class="cm">        printf(&quot;File is not open&quot;);</span>\u000a<span class="cm">        return 1;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    if (fwrite(data, sizeof(char), len, file)) {</span>\u000a<span class="cm">        return 0;</span>\u000a<span class="cm">    }</span>\u000a<span class="cm">    printf(&quot;Error on writing...&quot;);</span>\u000a<span class="cm">    return 1;</span>\u000a\u000a<span class="cm">}</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;unsafe&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">cs</span> <span class="o">:=</span> <span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="s">&quot;\u005cn&quot;</span><span class="p">)</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">cs</span><span class="p">,</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">free</span><span class="p">(</span><span class="nx">unsafe</span><span class="p">.</span><span class="nx">Pointer</span><span class="p">(</span><span class="nx">cs</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>The program requires at least two arguments. The first one is the path for a file where the program will write the other arguments.\u000aThe code is quite simple. Go code uses three C functions to create, write and close a file. The C functions are:</p>\u000a<ul>\u000a<li><code>init(const char* file_name)</code>: function creates the file</li>\u000a<li><code>finish()</code>: function flushes the data and closes the file</li>\u000a<li><code>write_file(const char* data, size_t len)</code>: writes <code>len</code> chars from string <code>data</code> in the file</li>\u000a</ul>\u000a<p>In the beginning the Go code uses the <code>init</code> function to create the file. After that, the program walks through other arguments writing each of them\u000ain a file line. In the end, the program calls <code>finish</code> function to close the file. Nothing so special, but illustrate how you can use cgo.\u000aThe C code written inside Go source code is used as a header. You can see the static library within <code>$GOPATH/pkg/&lt;package name&gt;</code></p>\u000a<p>It is important to remember that Go memory manager does not knows C variables and its allocated memory blocks. Thus, the programmer must to remember to free the allocated C string. Like it is being\u000adoing in the lines <code>C.free(unsafe.Pointer(cs))</code>. Otherwise, you will have memory leak issues.</p>\u000a<p>Furthermore, when some Go source file contains the special import "C" the Go tool looks for .c, .cpp, .cc and others files types in the same source code file directory. Then it compiles them with the default C/C++ compiler.\u000aSo you might do this:</p>\u000a<p>writer.go:</p>\u000a<div class="highlight"><pre><span></span><span class="kn">package</span> <span class="nx">main</span>\u000a\u000a<span class="cm">/*</span>\u000a<span class="cm">#include &lt;stdio.h&gt;</span>\u000a\u000a<span class="cm">extern int finish();</span>\u000a<span class="cm">extern int init(const char* file_name);</span>\u000a<span class="cm">extern int write_file(const char* data, size_t len);</span>\u000a<span class="cm">*/</span>\u000a<span class="kn">import</span> <span class="s">&quot;C&quot;</span>\u000a<span class="kn">import</span> <span class="s">&quot;os&quot;</span>\u000a\u000a<span class="kd">func</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>\u000a    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">a</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">os</span><span class="p">.</span><span class="nx">Args</span><span class="p">[</span><span class="mi">2</span><span class="p">:]</span> <span class="p">{</span>\u000a        <span class="nx">C</span><span class="p">.</span><span class="nx">write_file</span><span class="p">(</span><span class="nx">C</span><span class="p">.</span><span class="nx">CString</span><span class="p">(</span><span class="nx">a</span><span class="o">+</span><span class="s">&quot;\u005cn&quot;</span><span class="p">),</span> <span class="nx">C</span><span class="p">.</span><span class="nx">size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>\u000a    <span class="p">}</span>\u000a    <span class="nx">C</span><span class="p">.</span><span class="nx">finish</span><span class="p">()</span>\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<p>writer.c:</p>\u000a<div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&lt;stdio.h&gt;</span><span class="cp"></span>\u000a\u000a<span class="kt">FILE</span> <span class="o">*</span><span class="n">file</span><span class="p">;</span>\u000a\u000a<span class="kt">int</span> <span class="nf">finish</span><span class="p">()</span> <span class="p">{</span>\u000a    <span class="n">fflush</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a    <span class="n">fclose</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">init</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">file_name</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">finish</span><span class="p">();</span>\u000a    <span class="p">}</span>\u000a    <span class="n">file</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="s">&quot;w+&quot;</span><span class="p">);</span>\u000a<span class="p">}</span>\u000a\u000a<span class="kt">int</span> <span class="nf">write_file</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">data</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">len</span><span class="p">)</span> <span class="p">{</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">file</span><span class="p">){</span>\u000a        <span class="n">printf</span><span class="p">(</span><span class="s">&quot;File is not open&quot;</span><span class="p">);</span>\u000a        <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="k">if</span> <span class="p">(</span><span class="n">fwrite</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">),</span> <span class="n">len</span><span class="p">,</span> <span class="n">file</span><span class="p">))</span> <span class="p">{</span>\u000a        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>\u000a    <span class="p">}</span>\u000a    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Error on writing...&quot;</span><span class="p">);</span>\u000a    <span class="k">return</span> <span class="mi">1</span><span class="p">;</span>\u000a\u000a<span class="p">}</span>\u000a</pre></div>\u000a\u000a\u000a<h4>Note</h4>\u000a<p>This post is very, very, very simple. If you would like know more see the references below.</p>\u000a<h5>References</h5>\u000a<p><a href="https://golang.org/cmd/cgo/">cgo</a></p>\u000a<p><a href="http://blog.golang.org/c-go-cgo">C? Go? Cgo!</a></p>
(dp2236
Vdate
p2237
g5
(S'\x07\xdf\t\x16\x00\x00\x00\x00\x00\x00'
tRp2238
sVtags
p2239
(lp2240
g8
(g328
g10
NtRp2241
(dp2242
g13
Vgolang
p2243
sg15
Vgolang
p2244
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2245
(dp2246
g13
Vcgo
p2247
sg15
Vcgo
p2248
sg17
I01
sg18
g1326
sbag8
(g328
g10
NtRp2249
(dp2250
g13
Vc
sg15
Vc
sg17
I01
sg18
g1326
sbasVauthor
p2251
g8
(g345
g10
NtRp2252
(dp2253
g13
VJosé Guilherme Vanz
p2254
sg15
Vjose-guilherme-vanz
p2255
sg17
I01
sg18
g1326
sbsVtitle
p2256
Vcgo: Go lang with C
p2257
sttp2258
s.